
	
	
	
	


	
		
	










	
		
	


		
				//Including BentoJS config from BentoJS/config/vh1.com/config.js
				
	
		
	
if (typeof Bento == 'undefined') var Bento = {};

Bento.Config={

		requiresCoppaCompliance: false,

		omnitureEnabled: false,
		omnitureAccount: 'viavh1com',
		omnitureEnableVisitorNamespace: false,
		omnitureEnableFirstPartyCookie: true,
		omnitureConditionalAccounts: '{}',

		freewheelEnabled: true,

		demdexEnabled: false,

		sourcePointEnabled: true,

		tveReportingEnabled: true,

		imaEnabled: false,
		imaNetworkID: '271659723',
		imaCmsID: '1163',
		imaAdSize: '640x480',
		imaAdUnit: 'money_test',

		preloadAdSlotEnabled: true,
		preloadBitrateRange0To800: 4,
		preloadBitrateRange800To1000: 3,
		preloadBitrateRange1000To5000: 5,

		bandwidthEnabled: true,
		defaultBandwidth: 1300,
		
		enableMoatTracking: false,

		useHTML5VideoAdsOnDesktop: true,
		useHTML5VideoAdsOnDesktopSafari: false,

		enableSecureMode: true,

		adNetworkId: 8675,
		adDeviceTarget: '',
		adUnitDefault: '',
		adRefreshRate: -1,
		adPageTargeting: {},
		allowGeolocation: false,
		allowPOEAds: false,
		legacySupportEnabled: true,
		pageAdsEnabled: true,
		indexExchangeEnabled: true,
		indexExchangeLibraryURL: '//js-sec.indexww.com/ht/p/184606-164218530618667.js',
		amazonPageBiddingEnabled: '#AMAZON_PAGE_BIDDING_ENABLED',
		amazonVideoBiddingEnabled: '#AMAZON_VIDEO_BIDDING_ENABLED',
		adExclusionCategories: '',

		nielsenEnabled: false,
		nielsenCID: '',

		comScoreEnabled: false,
		comScoreC2: '', 

		pageHeaderBiddingEnabled: true,
		headerBiddingLibraryURL: "//js-sec.indexww.com/ht/p/184606-164218530618667.js"

};
			
	


		
	


    
		//Including Bento version 1.12.1.

         
		
		         function initSourcePointLibrary(){try{if(!Bento || !Bento.version || !Bento.version.split('.').length || +Bento.version.split('.')[1]< 11){return;} window._sp_ = window._sp_ || {}; window._sp_.config = window._sp_.config || {}; window ._sp_.config.account_id =93;!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=472)}([function(t,e,n){var r,o;!function(i){"use strict";var u={};u.VERSION="1.3.0";var a,c={},f=function(t,e){return function(){return e.apply(t,arguments)}},s=function(){var t,e,n=arguments,r=n[0];for(e=1;e<n.length;e++)for(t in n[e])t in r||!n[e].hasOwnProperty(t)||(r[t]=n[e][t]);return r},l=function(t,e){return{value:t,name:e}};u.DEBUG=l(1,"DEBUG"),u.INFO=l(2,"INFO"),u.TIME=l(3,"TIME"),u.WARN=l(4,"WARN"),u.ERROR=l(8,"ERROR"),u.OFF=l(99,"OFF");var p=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};p.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(u.TIME,[t,"end"])},invoke:function(t,e){a&&this.enabledFor(t)&&a(e,s({level:t},this.context))}};var h=new p({filterLevel:u.OFF});!function(){var t=u;t.enabledFor=f(h,h.enabledFor),t.debug=f(h,h.debug),t.time=f(h,h.time),t.timeEnd=f(h,h.timeEnd),t.info=f(h,h.info),t.warn=f(h,h.warn),t.error=f(h,h.error),t.log=t.info}(),u.setHandler=function(t){a=t},u.setLevel=function(t){h.setLevel(t);for(var e in c)c.hasOwnProperty(e)&&c[e].setLevel(t)},u.get=function(t){return c[t]||(c[t]=new p(s({name:t},h.context)))},u.createDefaultHandler=function(t){t=t||{},t.formatter=t.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var e={},n=function(t,e){Function.prototype.apply.call(t,console,e)};return"undefined"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?"["+o.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(i):e[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+": "+((new Date).getTime()-e[i])+"ms"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info&&(a=console.info),t.formatter(r,o),n(a,r))}},u.useDefaults=function(t){u.setLevel(t&&t.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(t))},r=u,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o)}()},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return t instanceof h}function a(t){return t instanceof d}function c(t){return t instanceof _}function f(t){return t instanceof y}function s(t){return t instanceof b}n.d(e,"k",function(){return b}),n.d(e,"g",function(){return v}),n.d(e,"j",function(){return g}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return E}),n.d(e,"x",function(){return O}),n.d(e,"y",function(){return w}),n.d(e,"w",function(){return S}),n.d(e,"u",function(){return R}),n.d(e,"v",function(){return P}),n.d(e,"r",function(){return j}),n.d(e,"s",function(){return A}),n.d(e,"q",function(){return C}),n.d(e,"t",function(){return x}),n.d(e,"p",function(){return I}),e.l=u,e.m=a,e.n=c,e.d=f,e.o=s,n.d(e,"b",function(){return L}),n.d(e,"c",function(){return B}),n.d(e,"f",function(){return G}),n.d(e,"a",function(){return Y});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:test_result:attribute:index"),function(){function t(e){i(this,t),this._str=e}return l(t,[{key:"is",value:function(t){return t.name()===this.name()&&t.toString()===this.toString()}},{key:"name",value:function(){return"at"}},{key:"toString",value:function(){return this._str}}]),t}());e.e=p;var h=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"name",value:function(){return"tat"}}]),e}(p),d=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"name",value:function(){return"teat"}}]),e}(p),_=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"name",value:function(){return"rat"}}]),e}(p),y=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"name",value:function(){return"reat"}}]),e}(p),b=function(t){function e(t,n){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+"="+n))}return o(e,t),e}(p),v=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"url",t))}return o(e,t),e}(b),g=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"err",t.toString()))}return o(e,t),e}(b),m=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"st",t.toFixed()))}return o(e,t),e}(b),E=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"ts",t.toFixed(3)))}return o(e,t),e}(b),O=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"dom",t))}return o(e,t),e}(b),w=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"ch",t.toString()))}return o(e,t),e}(b),T=function(t){function e(t,n){i(this,e);var o=t?"_"+t:"";return r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"sel"+o,n))}return o(e,t),e}(b),S=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"",t))}return o(e,t),e}(T),R=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"br",t))}return o(e,t),e}(T),P=function(t){function e(t){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"nc",t))}return o(e,t),e}(T),k=function(t){function e(t,n,o){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"net_"+t,JSON.stringify({src:n,tag:o})))}return o(e,t),e}(b),j=function(t){function e(t,n){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"ld",t,n))}return o(e,t),e}(k),A=function(t){function e(t,n){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"err",t,n))}return o(e,t),e}(k),N=function(t){function e(t,n,o,u){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"netr_"+t,JSON.stringify({rule:n,lds:o.map(function(t){return t.toString()}),errs:u.map(function(t){return t.toString()})})))}return o(e,t),e}(b),C=function(t){function e(t,n,o){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"bl",t,n,o))}return o(e,t),e}(N),x=function(t){function e(t,n,o){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"wl",t,n,o))}return o(e,t),e}(N),I=function(t){function e(t,n,o){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"bkrl",JSON.stringify({name:t,bls:n.map(function(t){return t.toString()}),wls:o.map(function(t){return t.toString()})})))}return o(e,t),e}(b),L={},D={INTERFERENCE:"in",ADBLOCKER:"ad",GENERIC_ADBLOCKER:"gad",STAND_DOWN:"sd",PRIVATE:"pr",RECOVERY_INTERFERENCE:"rin",FSM_DATA:"fda"};for(var M in D)L[M]=new h(D[M]);var B={},F={INFERENCE:"inf",NETWORK:"ne",IMAGE:"im",SCRIPT:"sc",IFRAME:"if",ELEMENT:"el",ARTIFACT:"ar",STYLE_SHEET:"ss",STYLE_PROPERTY:"sp",HIDDEN_PROPERTY:"hp",CUSTOM_PROPERTY:"cp",HIDING:"hi",USER_AGENT:"ua",BOT:"bo",PROXY_HOST:"ph",NATIVE_OVERRIDE:"no",FEATURE_ACCESS:"fa",AJAX:"aj",FSM:"fsm",NETWORK_LISTENER:"nel",HIDING_DATA:"hid"};for(var U in F)B[U]=new d(F[U]);var G={},H={NO_LOAD_BLOCK:"nlb",LOAD_BLOCK:"lb",ELEMENT_HIDDEN:"eh",CONTROL_ELEMENT_HIDDEN:"ceh",NO_ELEMENT_HIDDEN:"neh",URL_REWRITTEN:"ur",NO_URL_REWRITTEN:"nur",DATA_URL_REWRITTEN:"dur",NO_ARTIFACT_PRESENT:"nap",ARTIFACT_PRESENT:"ap",NO_STYLE_SHEET_PRESENT:"nssp",STYLE_SHEET_PRESENT:"ssp",NO_STYLE_PROPERTY_PRESENT:"nspp",STYLE_PROPERTY_PRESENT:"spp",NO_HIDDEN_PROPERTY_PRESENT:"nhpp",HIDDEN_PROPERTY_PRESENT:"hpp",NO_CUSTOM_PROPERTY_PRESENT:"ncpp",CUSTOM_PROPERTY_PRESENT:"cpp",TIMEOUT:"to",NO_BOT_USER_AGENT:"nbua",GOOGLE_BOT_USER_AGENT:"gbua",BING_BOT_USER_AGENT:"bbua",NO_PROXY_HOST:"nph",GOOGLE_WEBCACHE_PROXY_HOST:"gwph",NO_NATIVE_OVERRIDE:"nno",SHADOW_ROOT_NATIVE_OVERRIDE:"srno",REQUEST_FILE_SYSTEM_SUCCESS:"rfss",REQUEST_FILE_SYSTEM_ERROR:"rfse",NO_REQUEST_FILE_SYSTEM:"nrfs",INDEXED_DB_OPEN_SUCCESS:"idos",INDEXED_DB_OPEN_ERROR:"idoe",NO_INDEXED_DB:"nid",INDEXED_DB_EXISTS:"ide",LOCAL_STORAGE_SET_SUCCESS:"lsss",LOCAL_STORAGE_SET_ERROR:"lsse",NO_LOCAL_STORAGE:"nls",AJAX_LOAD_BLOCK:"alb",AJAX_LOAD_SUCCESS:"als",AJAX_LOAD_ERROR:"ale",AJAX_OPEN_BLOCK:"aob",AJAX_SEND_BLOCK:"asb",PROTOCOL_MISMATCH:"pm",EXA_BOT_USER_AGENT:"ebua",CANNOT_TEST:"cnt",GOOGLE_WEB_LIGHT_USER_AGENT:"gwl",OPTIMIZELY_PREVIEW_PROXY_HOST:"opph",NO_BLOCKER_RULES:"nbr",BROKEN_ELEMENT_HIDING_RULE:"behr",NO_ELEMENT_HIDING_RULES:"nehr",HIDE_MATCHING_BLACKLIST:"hmbl",NO_MATCHING_BLACKLIST:"nmbl",ERROR_MATCHING_BLACKLIST:"embl",LOAD_MATCHING_BLACKLIST:"lmbl",ERROR_MATCHING_WHITELIST:"emwl",LOAD_MATCHING_WHITELIST:"lmwl",NO_NETWORK_LISTENER_DATA:"nnld",NO_NETWORK_BLOCKING_RULES:"nnbr"};for(var K in H)G[K]=new _(H[K]);var Y={},W={ADBLOCK:"ab",ADBLOCK_PLUS:"abp",ADGUARD:"ag",UBLOCK:"ub",UBLOCK_ORIGIN:"ubo",NATIVE:"na",PRESENT:"pr",NOT_PRESENT:"npr",UNKNOWN_ADBLOCKER:"ua"};for(var V in W)Y[V]=new y(W[V])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(Error,[null].concat(["Uncaught in promise: "+(null==t?"":t.toString()+t.stack||"")],n)))}function i(t){return new s(function(e,n){t.then(function(t){e(t)},function(t){n(t)})})}Object.defineProperty(e,"__esModule",{value:!0});var u=n(43);n.d(e,"UtilPromise",function(){return s});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0).get("util:promise"),f=0,s=function(){function t(e){if(r(this,t),this._state=f,this._resolveCallbacks=[],this._rejectCallbacks=[],this._catchListenerAdded=!1,null!=e)try{e(this._resolve.bind(this),this._reject.bind(this))}catch(t){if(t.message&&t.message.match(/^Uncaught in promise: /))throw t;this._reject(t)}}return a(t,null,[{key:"resolve",value:function(e){return new t(function(t){t(e)})}},{key:"reject",value:function(e){return new t(function(t,n){return n(e)})}},{key:"all",value:function(e){var n=this;if(0===e.length)return t.resolve([]);var r=0,o=[];return new t(function(i,u){function a(t,n){o[t]=n,++r===e.length&&i(o)}e.forEach(function(e,r){t.resolve(e).then(a.bind(n,r),u)})})}},{key:"race",value:function(e){return 0===e.length?l:new t(function(t,n){e.forEach(function(e){e.then(t,n)})})}}]),a(t,[{key:"then",value:function(e,n){var r=this;return new t(function(t,o){r._then(function(n){return t(e(n))}),r._catch(function(e){null==n?o(e):t(n(e))})})}},{key:"catch",value:function(t){return this.then(function(t){return t},t)}},{key:"_resolve",value:function(e){if(this._state===f){var n=this._resolve.bind(this),r=this._reject.bind(this);e instanceof t?e.then(n,r):e&&e instanceof Object&&e.then&&"function"==typeof e.then&&e["catch"]&&"function"==typeof e["catch"]?i(e).then(n,r):(this._state=1,this._result=e,this._resolveCallbacks.forEach(function(t){t(e)}),this._clearCallbacks())}}},{key:"_reject",value:function(t){var e=this;this._state===f&&(this._state=2,this._error=t,this._catchListenerAdded?c.debug("caught promise error",t):(c.error("uncaught promise error",t),setTimeout(function(){if(!e._catchListenerAdded)throw o(t)},0)),this._rejectCallbacks.forEach(function(e){e(t)}),this._clearCallbacks())}},{key:"_clearCallbacks",value:function(){this._resolveCallbacks=[],this._rejectCallbacks=[]}},{key:"_then",value:function(t){1===this._state?t(this._result):this._state===f&&this._resolveCallbacks.push(t)}},{key:"_catch",value:function(t){this._catchListenerAdded=!0,2===this._state?t(this._error):this._state===f&&this._rejectCallbacks.push(t)}}]),t}(),l=s.resolve(null),p=n.i(u.a)(window.Promise)?window.Promise:s;e["default"]=p},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=n(2);n.d(e,"a",function(){return p});var a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=(n(0).get("detection:test"),new Error("not implemented")),s=function(){function t(){var e=this;i(this,t),this.runPromise=new u["default"](function(t){e.resolve=t.bind(e.runPromise)})}return c(t,null,[{key:"getSchema",value:function(){throw f}},{key:"testMethod",value:function(){throw f}},{key:"has",value:function(){var t;return(t=this.getSchema()).has.apply(t,arguments)}}]),c(t,[{key:"waitForResult",value:function(){return this.runPromise}}]),t}(),l=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"run",value:function(){var t,e=this;return u["default"].resolve((t=this.constructor).testMethod.apply(t,arguments)).then(function(t){return e.resolve(t),e.runPromise})}}],[{key:"testMethod",value:function(){throw f}},{key:"bindArgs",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,null,[{key:"testMethod",value:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return a(n.__proto__||Object.getPrototypeOf(n),"testMethod",this).apply(this,e.concat(r))}}]),n}(this)}}]),e}(s);e.b=l;var p=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),c(e,[{key:"run",value:function(t){for(var e,n=this,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return u["default"].resolve((e=this.constructor).testMethod.apply(e,[t].concat(o))).then(function(t){return n.resolve(t),n.runPromise})}}],[{key:"findDependency",value:function(){throw f}},{key:"bindArgs",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){function n(){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,null,[{key:"testMethod",value:function(t){for(var r,o=arguments.length,i=Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];return(r=a(n.__proto__||Object.getPrototypeOf(n),"testMethod",this)).call.apply(r,[this,t].concat(e,i))}}]),n}(this)}}]),e}(s)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(292),a=n(145),c=n(144),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("detection:test_result:schema"),function(t){function e(){var t;r(this,e);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];var f=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),s=n.i(c.a)(f.attributes);if(0===s.types.length||0===s.tests.length)throw new Error("missing required types or tests from schema");return f}return i(e,t),f(e,[{key:"createResult",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(u.a,[null].concat([this.attributes],e)))}},{key:"addAttribute",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat([this.attributes],n)))}}]),e}(a.a));e.a=s},function(t,e,n){"use strict";function r(){if(!window._sp_||!window._sp_.config)throw new Error("_sp_.config is not defined");window._sp_.config.hasBeenRead||(n.i(O.a)(["config","hasBeenRead"],!0),n.i(O.a)(["config","has_been_read"],!0)),o.apply(void 0,arguments),a(M)}function o(){B=new E.a(L.getSearchParam()),D=window._sp_.config;for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];M=i(e),u(M)}function i(t){return t.reduce(function(t,e){return b()(t,e),t},{})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(e).forEach(function(r){var o=n.concat(r).join(".");if(t[r]){var i=s(e[r],t[r]);if(t[r].type!==(void 0===i?"undefined":T(i)))throw new Error("invalid value: '"+JSON.stringify(i)+"' for option: '"+o+"' expected: '"+t[r].type+"'");if(t[r].validation&&!t[r].validation(i)){var a=t[r].validationMessage||"";throw new Error("invalid value: '"+JSON.stringify(i)+"' for option: '"+o+"' "+a)}t[r].keys&&u(t[r].keys,i,n.concat(r))}}),Object.keys(t).forEach(function(e){var r=n.concat(e).join(".");if(t[e].required&&!D.hasOwnProperty(e))throw new Error("required option: '"+r+"' not specified in config")})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.keys(e).forEach(function(r){var o=n.concat(r).join(".");if(!t.hasOwnProperty(r))throw new Error("invalid option: '"+o+"' valid keys are: '"+JSON.stringify(Object.keys(t).map(function(t){return n.concat(t).join(".")}))+"'");t[r].keys&&a(t[r].keys,e[r],n.concat(r))})}function c(t){return'config value: "'+t+'" does not exist in spec'}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=void 0,i=[];if(Array.isArray(t)?(o=t[0],i=t.slice(1)):o=t,!n)throw new Error('config value: "'+o+'" fetched before initialization');if(!n[o])throw new Error(c(o));var u=void 0;e&&e.hasOwnProperty(o)&&(u=e[o]);var a=n[o],l=a.keys;if(i.length>0)return f(i,u,l,r.concat(o));if(l){var p={};for(var h in l)p[h]=f(h,u,l,r.concat(o));return p}if(a.mapQueryParam){var d=r.concat(o).join("_"),_=B.getSearchParam("_sp_"+d);if(_){var y=a.mapQueryParam(_);if(void 0!==y)return s(y,a)}}if(void 0!==u)return s(u,a);var b=a.fallback?a.fallback():null;return null!=b?s(b,a):s(a["default"],a)}function s(t,e){return e.mapConfigParam?e.mapConfigParam(t):t}function l(t){var e=void 0;try{e=f(t)}catch(e){if(e.message.indexOf(c(t))>-1)return!1;throw e}return void 0!==e}function p(){return Object.keys(M)}function h(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce(function(t,e){return Object.keys(e).forEach(function(n){t[n]=f(n,D,e)}),t},{});return JSON.stringify(r)}function d(t){D=JSON.parse(t);for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];M=i(n),B=B||new E.a(L.getSearchParam())}function _(){return window.location.search}Object.defineProperty(e,"__esModule",{value:!0});var y=n(201),b=n.n(y),v=n(106),g=n.n(v),m=n(168),E=n(28),O=n(11),w=n(31),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=(n(0).get("config:client_api"),"boolean"),R="string",P="object",k={hasBeenRead:{type:S,"default":!1},has_been_read:{type:S,"default":!1},accountId:{type:"number",required:!0},clientId:{type:R},debug:{type:P,keys:{level:{type:R,"default":"OFF",mapQueryParam:function(t){return t},mapConfigParam:function(t){return t.toUpperCase()},validation:function(t){return"string"==typeof t&&m.a.indexOf(t)>-1},validationMessage:"expected one of "+m.a.join(",")}}},beacon:{type:P,keys:{pageViewEndpoint:{type:R,fallback:function(){return w.d}},contentControlEndpoint:{type:R,fallback:function(){return w.e}},customEntries:{type:P,validation:function(t){return Array.isArray(t)&&t.length<=3&&t.every(function(t){return"string"==typeof t})},validationMessage:"expected an array of at most 3 string values"}}},bootstrap:{type:P,keys:{contentControlCallback:{type:"function","default":function(){}}}},detection:{type:P,keys:{useNetworkBlockerTests:{type:S,"default":!1},useGenericContentBlockerTests:{type:S,"default":!0},useSpecificContentBlockerTests:{type:S,"default":!0},internal:{type:P,keys:{useNetworkBlockerTests:{type:S,"default":!1},useGenericContentBlockerTests:{type:S,"default":!0},useSpecificContentBlockerTests:{type:S,"default":!0}}},fsm:{type:P,keys:{enable:{type:S,"default":!1,mapQueryParam:function(t){if("true"===t)return!0}},endpoint:{type:R,fallback:function(){return w.f}},enableNetwork:{type:S,"default":!1,mapQueryParam:function(t){if("true"===t)return!0}}}},exposeSpecificContentBlockerData:{type:S,"default":!1}}},dfp:{type:P,keys:{targetingKey:{type:R,"default":"sp.block"}}},events:{type:P,keys:{onDetectionComplete:{type:"function","default":function(){}}}},rid:{type:P,keys:{enable:{type:S,fallback:function(){return f(["rid","enableForgivenessCookie"])},"default":!1},enableForgivenessCookie:{type:S,"default":!1},contentControlCallback:{type:"function","default":function(){}}}},siteCssLocation:{type:R},disableBlockerStyleSheets:{type:S,"default":!0},styleManager:{type:P,keys:{enable:{type:S,"default":!0},enableSimple:{type:S,"default":!1,mapQueryParam:function(t){if("true"===t)return!0}},enableMorphingOutsideAdHierarchy:{type:S,"default":!1}}},vid:{type:P,keys:{enable:{type:S,fallback:function(){return f(["vid","enableInIFrame"])||f(["vid","enableGeneric"])},"default":!1},enableInIFrame:{type:S,"default":!1},enableGeneric:{type:S,"default":!1},contentControlCallback:{type:"function","default":function(){}}}},runImmediately:{type:S,"default":!1}},j={cmd:{type:P,"default":[],required:!0,validation:function(t){return Array.isArray(t)},validationMessage:"must be an array"},events:{type:P,keys:{onReceiveMessageData:{type:"function",fallback:function(){return f(["msg","clientDataCallback"])}},onMessageChoiceSelect:{type:"function",fallback:function(){return f(["msg","selectChoiceCallback"])}}}},msg:{type:P,keys:{zIndex:{type:"number","default":1e4},domain:{type:R,"default":""},clientDataCallback:{type:"function"},selectChoiceCallback:{type:"function"}}},vid:{type:P,keys:{enable:{fallback:null,"default":!0}}}},A={smart:{type:P,keys:{libURL:{type:R},targetingKey:{type:R,"default":"sp_block"}}}},N={publisherBase:{type:R,required:!0},events:{type:P,keys:{onReadyToReloadAdLibrary:{type:"function","default":function(){}}}}},C={accountId:{type:"number",required:!1,fallback:function(){return f("clientId")}}},x={publisherBase:N.publisherBase,accountId:k.accountId,debug:g()(k.debug,["type","keys.level"]),vid:g()(k.vid,["type","keys.enableInIFrame"]),styleManager:g()(k.styleManager,["type","styleManager.enableMorphingOutsideAdHierarchy"])},I={BASE:k,SMART:A,RECOVERY_LIB_API_IFRAME:x,MESSAGING:j,PROXY:N,ANALYTICS:C},L={init:r,internalInit:o,get:f,has:l,availableConfigKeys:p,serialize:h,initFromSerialized:d,specs:I,getSearchParam:_},D=void 0,M=void 0,B=void 0;e["default"]=L},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(2);n.d(e,"b",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(n(0).get("detection:artifact:finder_record"),function(){function t(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r(this,t),this._type=e,this._foundAdblocker=n,this._elementMatchMethod=o,this._adblockerStyleSheets=i}return i(t,[{key:"type",value:function(){return this._type}},{key:"foundAdblocker",value:function(){return this._foundAdblocker}},{key:"findElementMatches",value:function(){if(this._foundAdblocker&&this._elementMatchMethod)return o["default"].resolve(this._elementMatchMethod.apply(this,arguments));throw new Error("no adblocker or element match method")}},{key:"supportsElementMatching",value:function(){return null!=this._elementMatchMethod}},{key:"getAdblockerStyleSheets",value:function(){return this._adblockerStyleSheets}}]),t}());e.a=u;var a={ADBLOCK:"adblock",ADBLOCK_PLUS:"adblock_plus",ADGUARD:"adguard",UBLOCK:"ublock",UBLOCK_ORIGIN:"ublock_origin",OPERA:"opera"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"k",function(){return i}),n.d(e,"j",function(){return u}),n.d(e,"i",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return p}),n.d(e,"g",function(){return h});var r=(n(0).get("util:get_elements_from_selector:selector_text_matchers"),/^([a-zA-Z0-9\-_]|\\.)+/),o=/^( *\+ *| *~ *| *> *| +)/,i=/^ *> */,u=/^ +/,a=/^ *\+ */,c=/^ *~ */,f=/^\*/,s=/^[#.[:]/,l=/^([~^$*]?=|])/,p=/.*?[^\\](\\\\)*]/,h=/^['"]?(.*?)['"]?( i)?]$/},function(t,e,n){function r(t){if(!t)return[];if(a(t))return c(t)?p(t):i(t);if(y&&t[y])return f(t[y]());var e=u(t);return(e==d?s:e==_?l:h)(t)}var o=n(115),i=n(63),u=n(76),a=n(47),c=n(237),f=n(234),s=n(235),l=n(117),p=n(121),h=n(125),d="[object Map]",_="[object Set]",y=o?o.iterator:void 0;t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,r){return s()(t.filter(function(t){return!(t.ownerNode&&t.ownerNode.disabled)}).map(function(t){return n.i(T.a)(t)})).filter(function(t){var o=n.i(R.b)(t.selectorText),i=!1;try{i=n.i(S.a)(e,o)}catch(t){}return(a(t.style)||c(t.style))&&i&&(!r||o.indexOf(r.trim())>-1)})}function a(t){return"none"===t.getPropertyValue("display")}function c(t){return(t.getPropertyValue("-moz-binding")||"").indexOf("abp-elemhide")>-1}var f=n(21),s=n.n(f),l=n(166),p=n.n(l),h=n(98),d=n.n(h),_=n(99),y=n.n(_),b=n(217),v=n.n(b),g=n(8),m=n.n(g),E=n(70),O=n.n(E),w=n(57),T=n(49),S=n(113),R=n(164),P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=(n(0).get("detection:test_result:attribute:data:element_hiding"),function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),P(e,null,[{key:"fromStyleSheets",value:function(t){return new e(new j({documentSheets:t.document,shadowSheets:t.shadow}))}},{key:"fromElement",value:function(t,e){var n=O()(m()(t.ownerDocument.querySelectorAll("link, style")).map(function(t){return t.sheet})),r=[];try{r=O()(m()(t.ownerDocument.querySelectorAll("::shadow link, ::shadow style")).map(function(t){return t.sheet}))}catch(t){}return this.fromElementAndStyleSheets(t,{document:n,shadow:r},e)}},{key:"fromElementAndStyleSheets",value:function(t,r,o){var i=t.ownerDocument.defaultView,f={hasNone:a(t.style),hasImportant:"important"===t.style.getPropertyPriority("display")},s=i.getComputedStyle(t),l=c(s),p=null!=t.shadowRoot,h=t.hidden,d=["id","class","hidden","disabled","style"],_=v()(t.attributes,function(t){return-1===d.indexOf(t.name)&&""===t.value}),b=_.map(function(t){var e=i.document.createElement("div");return e.hidden=!0,e.setAttribute(t.name,""),e.style.setProperty("display","block"),i.document.body.appendChild(e),e}),g=null;b.forEach(function(t,e){if(null==g){var n=i.getComputedStyle(t);n&&"none"===n.display&&(g=_[e].name)}}),b.forEach(function(t){t.parentElement&&t.parentElement.removeChild(t)});var m=null;o&&(m=n.i(R.a)(o,t.ownerDocument)||o);var E=u(r.document||[],t,m),w=u(r.shadow||[],t,m),T=y()(O()(E.map(function(t){return t.parentStyleSheet}))),S=y()(O()(w.map(function(t){return t.parentStyleSheet}))),P=E.concat(w);return new e(new j({inlineDisplay:f,isHidden:h,hidingId:g,hasShadowRoot:p,hasMozBinding:l,documentSheets:T,shadowSheets:S,hidingCSSRules:P}))}}]),P(e,[{key:"is",value:function(t){if(t instanceof e){var n=t,r=this.getValue(),o=n.getValue();if(r instanceof j&&o instanceof j)return r.is(o)}return!1}}]),e}(w.a));e.a=k;var j=function(){function t(e){var n=e.documentSheets,o=void 0===n?[]:n,i=e.shadowSheets,u=void 0===i?[]:i,a=e.hidingCSSRules,c=void 0===a?[]:a,f=e.inlineDisplay,s=void 0===f?{hasNone:!1,hasImportant:!1}:f,l=e.isHidden,p=void 0!==l&&l,h=e.hidingId,_=e.hasMozBinding,y=void 0!==_&&_,b=e.hasShadowRoot,v=void 0!==b&&b;r(this,t),this.documentSheets=o,this.shadowSheets=u,this.hidingCSSRules=c,this.inlineDisplay=d()({},s),this.isHidden=p,this.hidingId=h||null,this.hasMozBinding=y,this.hasShadowRoot=v}return P(t,[{key:"is",value:function(t){return p()(this,t)}}]),t}()},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window._sp_,r=[].concat(t),o=r.pop();r.reduce(function(t,e){return t[e]=t[e]||{},t[e]},n)[o]=e}e.a=r;n(0).get("life_cycle:util:set_sp_key")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return"string"==typeof e?"_sp_"+e:"number"==typeof e?e.toString():"boolean"==typeof e?String(e):null==e?String(e):e[t]||null}var i=n(43),u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=(n(0).get("util:map"),function(){function t(){r(this,t),this._guid="_sp_map_key_"+Math.random().toString(),this._insertionCount=0,this.clear()}return a(t,[{key:"clear",value:function(){this._data={},this.size=0}},{key:"set",value:function(t,e){this.has(t)||(this.size++,this._insertionCount++);var n=o(this._guid,t);null==n&&(n="o_sp_"+this._insertionCount,Object.defineProperty(t,this._guid,{enumerable:!1,configurable:!0,writable:!0,value:n}));var r=this._data[n]?this._data[n][2]:this._insertionCount;this._data[n]=[t,e,r]}},{key:"has",value:function(t){return null!=this._getKeyIfInMap(t)}},{key:"get",value:function(t){var e=this._getKeyIfInMap(t);if(null!=e)return this._data[e][1]}},{key:"delete",value:function(t){var e=this._getKeyIfInMap(t);return null!=e&&(this.size--,delete this._data[e],!0)}},{key:"forEach",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=Object.keys(this._data);r.sort(function(t,n){return e._data[t][2]-e._data[n][2]}),r.forEach(function(r){var o=u(e._data[r],2),i=o[0],a=o[1];t.call(n,a,i)})}},{key:"_getKeyIfInMap",value:function(t){var e=o(this._guid,t);return null==e?null:e in this._data?e:null}}]),t}());e.a=n.i(i.a)(window.Map)?window.Map:c},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return o.indexOf(t)>-1}var o=(n(0).get("util:ua_detection"),(navigator.userAgent||navigator.vendor||window.opera).toLowerCase()),i={chrome:function(){return r("chrome")&&!i.edge()&&!i.android_chrome()&&!i.opera()},phantom:function(){return r("phantom")},mobile:function(){return r("mobi")},android:function(){return r("android")},firefox:function(){return r("firefox")},safari:function(){return r("safari")&&r("mozilla")&&!i.edge()&&!i.chrome()&&!i.mobile()&&!i.mobile_safari()&&!i.opera()&&!i.phantom()},ie:function(){return r("trident")||r("msie")},edge:function(){return r("edge")},ipad:function(){return r("ipad")},mobile_safari:function(){return null!==o.match(/(ipod|iphone|ipad)/gi)&&null!==o.match(/AppleWebKit/gi)&&!r("crios")},android_chrome:function(){return r("chrome")&&r("android")},googlebot:function(){return r("googlebot")||r("adsbot-google")||r("mediapartners-google")},googleweblight:function(){return r("googleweblight")},bingbot:function(){return r("bingbot")||r("bingpreview")},exabot:function(){return r("exabot")},opera:function(){return r("opera")||r("opr/")},contains:r};e.a=i},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=n(149),a=n(2);n.d(e,"a",function(){return l}),n.d(e,"f",function(){return p}),n.d(e,"d",function(){return h}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return _}),n.d(e,"e",function(){return y});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=(n(0).get("life_cycle:feature"),function(){function t(){i(this,t),this.eventMap={},this.startPromise=a["default"].resolve(!0),this.resolutionPromise=a["default"].resolve(!0)}return c(t,[{key:"on",value:function(t,e){this.eventMap[t]=this.eventMap[t]||[],this.eventMap[t].push(e)}},{key:"emit",value:function(t){var e=this;(this.eventMap[t]||[]).forEach(function(t){return t.call(e)})}}]),t}()),s=new u.a(function(t){return function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.detection=t,n}return o(e,t),e}(t)}),l=new u.a,p=new u.a,h=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(f),d=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(s.to(f)),_=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(s.to(f)),y=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(s.to(f))},function(t,e,n){function r(t){return("div"===t.tagName.toLowerCase()||"img"===t.tagName.toLowerCase()||"iframe"===t.tagName.toLowerCase())&&(!!o(t)||i(t))}function o(t){return 0===t.clientHeight||0===t.offsetHeight||0===t.offsetWidth||0===t.clientWidth}function i(t){if(window.getComputedStyle){var e=window.getComputedStyle(t,null);if("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility"))return!0}return!1}function u(t){return a([t])[0]}function a(t){return t.map(function(t){var e=document.createElement("div");return e._sp_isMarker=!0,e.style.height="2px",e.style.width="2px",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",t.appendChild(e),[t,e]}).map(function(t){var e=f(t,2),n=e[0],r=e[1],i=o(r);return r.parentElement&&r.parentElement.removeChild(r),!(o(n)&&i)})}function c(t){return t._sp_isMarker||!1}var f=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(0).get("recovery:element_hidden");t.exports=r,t.exports.elementIsCollapsed=o,t.exports.elementIsDisplayable=u,t.exports.batchedElementIsDisplayable=a,t.exports.isMarkerElement=c},function(t,e,n){"use strict";function r(t,e){return i(t.querySelectorAll("style,link"),e)}function o(t,e){return i(t.querySelectorAll("::shadow style,::shadow link"),e)}function i(t,e){return f()(t).map(function(t){return t.sheet}).filter(function(t){return a(t,e)})}function u(t,e){return t.some(function(t){return n.i(s.a)(t).some(e)})}function a(t,e){if(!t)return!1;var r=void 0;try{r=n.i(s.a)(t)}catch(t){return!1}return!(!r||0===r.length)&&r.every(e)}var c=n(8),f=n.n(c),s=n(49);n.d(e,"b",function(){return l}),e.a=r,e.d=o,e.c=u;var l=(n(0).get("detection:artifact:get_sheets_with_rules"),{ONLY_DISPLAY_NONE:/{\s*display:\s*none\s*!\s*important;\s*}/,ROOT:/:root/,DISPLAY_NONE_AND_ORPHAN:/display\s*:\s*none\s*!\s*important.*orphans\s*:\s*4321/})},function(t,e,n){function r(t,e,n,r){var u=!n;n||(n={});for(var a=-1,c=e.length;++a<c;){var f=e[a],s=r?r(n[f],t[f],f,n,t):void 0;void 0===s&&(s=t[f]),u?i(n,f,s):o(n,f,s)}return n}var o=n(44),i=n(25);t.exports=r},function(t,e,n){function r(t){return(null==t?0:t.length)?o(t,i):[]}var o=n(61),i=1/0;t.exports=r},function(t,e,n){"use strict";function r(t,e,n){return new s.a(e,n.length>0,o.bind(null,t,n),n)}function o(t,e){for(var r=arguments.length,o=Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];return f()(e.map(function(e){return n.i(p.a)(e).map(function(e){var n=e.selectorText,r=n.replace(/::content/g,""),u=t.querySelectorAll(r);return a()(u).filter(function(t){return o.some(function(e){return e.contains(t)||t.contains(e)})}).map(function(e){var n=i(t,r,e);return new l.a(l.b.STYLE,e,n)})})}))}function i(t,e,n){return e.replace(/(\[[^\]]*),/g,"$1"+h).split(",").map(function(t){return t.trim().replace(h,",")}).filter(function(e){return a()(t.querySelectorAll(e)).some(function(t){return t===n})}).join(",")}var u=n(8),a=n.n(u),c=n(19),f=n.n(c),s=n(6),l=n(62),p=n(49);e.b=r,e.a=o;var h=(n(0).get("detection:artifact:get_cosmetic_finder_record"),"__SP__COMMA_PLACEHOLDER")},function(t,e,n){function r(t){return(null==t?0:t.length)?o(t,1):[]}var o=n(61);t.exports=r},function(t,e,n){"use strict";function r(t,e){return p()(t,e)}function o(t){return s()(t,c).join("")}function i(){return o(r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:25))}function u(){var t=i();return document.getElementsByClassName(t).length>0?u():t}function a(){var t=i();return null!=document.getElementById(t)?a():t}function c(){return String.fromCharCode(r(97,122))}var f=n(112),s=n.n(f),l=n(219),p=n.n(l);e.a=r,e.b=i,e.d=u,e.c=a;n(0).get("util:random_generators")},function(t,e,n){function r(t,e){return o(t)?t:i(t,e)?[t]:u(a(t))}var o=n(9),i=n(185),u=n(196),a=n(48);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(84),a=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:element_attribute_modification_record"),function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.key=t,i.value=n,i}return i(e,t),e}(u.a));e.a=a},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var o=n(182);t.exports=r},function(t,e,n){var r=n(183),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r=n(64),o=r(Object.keys,Object);t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.match(/\?(.*)/);return null==e?new i.a:e[1].trim().split("&").reduce(function(t,e){var n=e.indexOf("=");if(-1===n)return t.set(e,""),t;var r=e.substring(0,n),o=e.substring(n+1);return t.set(r,o),t},new i.a)}var i=n(12),u=n(92),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=(n(0).get("util:url"),function(){function t(e){r(this,t),this._parser=window.document.createElement("a"),this._parser.href=e,this._searchParams=o(this._parser.search)}return a(t,[{key:"_formatPathname",value:function(t){return"/"===t[0]?t:"/"+t}},{key:"toString",value:function(){var t=this.port?":"+this.port:"";return this.protocol+"//"+this.hostname+t+this.pathname+this.search+this.hash}},{key:"getSearchParam",value:function(t){var e=this._searchParams.get(encodeURIComponent(t));return null==e?e:decodeURIComponent(e)}},{key:"setSearchParam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._searchParams.set(encodeURIComponent(t),encodeURIComponent(e))}},{key:"deleteSearchParam",value:function(t){return this._searchParams["delete"](encodeURIComponent(t))}},{key:"forEachSearchParam",value:function(t){return this._searchParams.forEach(function(e,n){t(decodeURIComponent(e),decodeURIComponent(n))})}},{key:"protocol",get:function(){return this._parser.protocol||window.location.protocol},set:function(t){return this._parser.protocol=t}},{key:"hostname",get:function(){return this._parser.hostname},set:function(t){return this._parser.hostname=t}},{key:"port",get:function(){return"21"===this._parser.port||"80"===this._parser.port||"443"===this._parser.port?"":this._parser.port},set:function(t){return this._parser.port=t}},{key:"pathname",get:function(){return this._formatPathname(this._parser.pathname)},set:function(t){var e=this._formatPathname(t);return this._parser.pathname=e}},{key:"search",get:function(){var t=this,e=n.i(u.a)(this._searchParams).map(function(e){return e+"="+t._searchParams.get(e)}).join("&");return e.length>0?"?"+e:e},set:function(t){var e="?"===t[0]?t:"?"+t;this._searchParams=o(e)}},{key:"hash",get:function(){return this._parser.hash},set:function(t){return this._parser.hash=t}}]),t}());e.a=c},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}var o=n(34);t.exports=r},function(t,e,n){function r(t){if(!i(t))return!1;var e=o(t);return e==a||e==c||e==u||e==f}var o=n(53),i=n(13),u="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",f="[object Proxy]";t.exports=r},function(t,e,n){"use strict";function r(t){return t.join("")}n.d(e,"a",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"c",function(){return f}),n.d(e,"b",function(){return s});var o=(n(0).get("config:index"),"2.0.896"),i=r(["w","w","w",".","s","u","m","m","e","r","h","a","m","s","t","e","r",".","c","o","m"]),u=r(["w","w","w",".","r","o","o","s","t","e","r","f","i","r","e","w","o","r","k",".","c","o","m"]),a=r(["/","/","f","s","m","1","0","1","9",".","g","l","o","b","a","l",".","s","s","l",".","f","a","s","t","l","y",".","n","e","t","/","f","s","m","/","d","s"]),c=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","8","9","6","/","r","e","c","o","v","e","r","y","_","d","f","p","_","i","n","t","e","r","n","a","l","-","v","2",".","0",".","8","9","6",".","j","s"]),f=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","8","9","6","/","r","e","c","o","v","e","r","y","_","l","i","b","_","a","p","i","_","i","f","r","a","m","e","-","v","2",".","0",".","8","9","6",".","h","t","m","l"]),s=r(["h","t","t","p","s",":","/","/","d","2","z","v","5","r","k","i","i","4","6","m","i","q",".","c","l","o","u","d","f","r","o","n","t",".","n","e","t","/","0","/","2",".","0",".","8","9","6","/","r","e","c","o","v","e","r","y","_","l","i","b","_","r","i","d","_","i","f","r","a","m","e","-","v","2",".","0",".","8","9","6",".","h","t","m","l"])},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},,function(t,e,n){n(0).get("util:beacon:beacon_types");t.exports={BEACON:"bcn",IMPRESSION:"imp",CLICK:"clk",CONTEXT_CLICK:"ctx",CONTENT_CONTROL:"cct",MSG:"msg"}},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){"use strict";function r(){for(var t=n.i(o.a)(0,5),e=[],r=0;r<t;r++)e.push(n.i(o.b)());return e}var o=n(22);e.a=r;n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:generate_random_words")},function(t,e,n){"use strict";function r(t){return o.g.exec(t)[1]}var o=n(7);e.a=r;n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:unwrap_attribute_value")},function(t,e,n){"use strict";function r(t){var e=t.lookAheadRegex(f.b,f.c);e.length>0&&t.consumeCharacters(e);var n=void 0;n="*"===e||0===e.length?new o.b("div"):new o.b(e);for(var r=t.lookAheadRegex(f.d);r.length>0;){var i=s[r];n.addElementModificationRecord(i(t)),r=t.lookAheadRegex(f.d)}return n}var o=n(85),i=n(300),u=n(303),a=n(304),c=n(308),f=n(7);e.a=r;var s=(n(0).get("util:get_elements_from_selector:consumers:element_consumer"),{"[":i.a,".":u.a,"#":c.a,":":a.a})},function(t,e,n){"use strict";function r(t){return new Error("Unsupported Selector: "+t)}function o(t){return new Error("Unparseable Selector: "+t)}function i(t){return new Error("Non-Matching Selector: "+t)}function u(t){return new Error("Network Request Triggering Selector: "+t)}e.c=r,e.a=o,e.b=i,e.d=u;n(0).get("util:get_elements_from_selector:error")},function(t,e,n){"use strict";function r(t){try{return i()(t)}catch(t){return!1}}var o=n(199),i=n.n(o);e.a=r;n(0).get("util:is_native")},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n)}var o=n(25),i=n(34),u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=f(t);if(!e)return[];var n=g()(e.data,m),r=b()(n);return _()(r,function(t){return t.net_list}).map(function(t){return h()(t,function(t,e){return l()(e)})})}function i(t){return c(t,m)}function u(t){return c(t,E)}function a(t){var e=f(t);if(!e)return null;var n=e.data.test_urls;return{img:n.i_url,script:n.s_url}}function c(t,e){var n=[],o=f(t);if(!o)return n;var i=g()(o.data,e);for(var u in i){var a=i[u];if(a.hasOwnProperty("css")){var c=a.css,s=c.blacklist,l=c.non_specific_blacklist;n.push.apply(n,r(s)),n.push.apply(n,r(l))}}return n}function f(t){return t.responseText?JSON.parse(t.responseText):null}var s=n(341),l=n.n(s),p=n(345),h=n.n(p),d=n(60),_=n.n(d),y=n(125),b=n.n(y),v=n(106),g=n.n(v);e.c=o,e.d=i,e.a=u,e.b=a;var m=(n(0).get("detection:fsm:parse_data"),["reg","exception"]),E=["legacy"]},function(t,e,n){n(0).get("util:beacon:beacon_keys");t.exports={USER_ID:"uid",SCRIPT_VERSION:"v",ACCOUNT_ID:"cid",PAGE_URL:"u",CORRELATION_ID:"bid",REASON_CODE:"rc",SENTINEL_FLAG:"sntl",ADBLOCK_DETECTED:"abl",FIRST_ACCESS:"fa",SESSION_START:"ss",PRIVACY_LIST_BLOCKED:"pl",UNSUPPORTED_OPERATING_SYSTEM:"unsupos",UNSUPPORTED_NEW_BROWSER:"unsupnb",UNSUPPORTED_USER_AGENT:"unsupua",RECOVERY_FLAG:"rcv",WHITELISTED_SESSION:"wnsk",INJECTION_STATE:"st",INJECTION_DOMAINS:"noq.id",INJECTION_CLASSES:"noq.ic",INJECTION_IDS:"noq.ii",DEBUG_0:"d0",DEBUG_1:"d1",DEBUG_2:"d2",CUSTOMER_1:"c0",CUSTOMER_2:"c1",CUSTOMER_3:"c2",EXCEPTION_RULES:"er",cct:{LOCK:"l",CONTROL_TYPE:"ct"},msg:{MSG_ID:"mid",MSG_EVENT_TYPE:"met"}}},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(30),i=n(91);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";function r(t){var e=void 0;try{if(null==t.cssRules)return[];e=c()(t.cssRules)}catch(t){return[]}return u()(c()(e).map(function(t){return o(t)}))}function o(t){return t.type===CSSRule.STYLE_RULE?t:null!=t.cssRules?c()(t.cssRules).map(function(t){return o(t)}):[]}var i=n(19),u=n.n(i),a=n(8),c=n.n(a);e.a=r;n(0).get("util:css:extract_style_rules_from_style_sheet")},function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.some(function(e){return t.nodeName.toLowerCase()===e})}function o(t){return r(t,"iframe")}function i(t){return r(t,"img")}function u(t){return r(t,"video")}function a(t){return o(t)&&(!t.src||"about:blank"===t.src||0===t.src.indexOf("javascript"))}function c(t,e){try{return"complete"===t.contentDocument.readyState&&t.contentDocument.body&&b()(t.contentDocument.querySelectorAll("*")).some(e)}catch(t){}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c(t,function(n){return!r(n,"html","head","body")&&(e||!r(n,"link","script")&&!t.contentDocument.head.contains(n))})}function s(t){return c(t,function(t){return!r(t,"html","head","body")&&_(t)})}function l(t){return a(t)&&f(t)}function p(){function t(t){o(t.target)&&n.add(t.target)}var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(m&&!E.has(e)){var n=m.get(e)||new g.a;n&&(m.set(e,n),E.set(e,t),e.document.addEventListener("load",t,!0))}}function h(t){if(f(t,!0))return!0;if(!m)return!1;var e=m.get(t.ownerDocument.defaultView);return!!e&&e.has(t)}function d(t){if(r.apply(void 0,[t].concat(w)))return!0;if(i(t)&&(!t.naturalHeight||1===t.naturalHeight||!t.complete))return!0;if(t.ownerDocument.head.contains(t))return!0;if(o(t)){if(!1===s(t))return!0}return!1}function _(t){return!d(t)&&(0===t.children.length||(!!b()(t.childNodes).some(function(t){return 3===t.nodeType&&t.data.trim().length>0})||(!!r.apply(void 0,[t].concat(O))||t.ownerDocument.defaultView.getComputedStyle(t).backgroundImage.toLowerCase().indexOf("url(")>-1)))}var y=n(8),b=n.n(y),v=n(12),g=n(51);e.d=r,e.c=o,e.g=i,e.h=u,e.b=l,e.a=p,e.f=h,e.i=d,e.e=_;var m=(n(0).get("util:is_element"),new v.a),E=new v.a,O=["iframe","img","video","object","input","button","select","textarea"],w=["link","script"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(12),i=n(43),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(n(0).get("util:set"),function(){function t(){r(this,t),this._data=new o.a}return u(t,[{key:"add",value:function(t){this._data.set(t,t)}},{key:"has",value:function(t){return this._data.has(t)}},{key:"delete",value:function(t){return this._data["delete"](t)}},{key:"clear",value:function(){return this._data.clear()}},{key:"forEach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this._data.forEach(function(n){t.call(e,n)})}},{key:"size",get:function(){return this._data.size}}]),t}());e.a=n.i(i.a)(window.Set)?window.Set:a},function(t,e,n){var r=n(327),o=n(122),i=r(o);t.exports=i},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){"use strict";function r(t){var e=t.document;return n.i(o.a)(e).then(function(t){return n.i(o.b)(t)?[]:t}).then(function(t){return new i.a(i.b.UBLOCK,t.length>0,o.c.bind(null,e),t)})}var o=n(80),i=n(6);e.a=r;n(0).get("detection:artifact:generic:ublock")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(82),c=n(1),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("detection:fsm:data_dependent_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),f(e,null,[{key:"findDependency",value:function(t){return t.has(c.b.FSM_DATA)}},{key:"getFSMData",value:function(t,e){return t.map(function(t){return t.getData(a.a)}).filter(function(t){return t}).map(function(t){return e(t)}).filter(function(t){return t})}}]),e}(u.a));e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(1),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=(n(0).get("detection:test_result:attribute:data:index"),function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"DataAttribute"));return n._value=t,n}return i(e,t),a(e,[{key:"is",value:function(t){return t instanceof e&&t.getValue()===this._value}},{key:"getValue",value:function(){return this._value}}]),e}(u.e));e.a=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0).get("util:get_elements_from_selector:element_hierarchy_modification_record"),function(){function t(e){r(this,t),this.elementRecord=e}return o(t,[{key:"applyToElementRecord",value:function(t){throw new Error("not implemented")}},{key:"getElementRecord",value:function(){return this.elementRecord}}]),t}());e.a=i},function(t,e,n){function r(t,e){return u(i(t,e,o),t+"")}var o=n(123),i=n(194),u=n(195);t.exports=r},function(t,e,n){function r(t,e){return o(i(t,e),1)}var o=n(61),i=n(200);t.exports=r},function(t,e,n){function r(t,e,n,u,a){var c=-1,f=t.length;for(n||(n=i),a||(a=[]);++c<f;){var s=t[c];e>0&&n(s)?e>1?r(s,e-1,n,u,a):o(a,s):u||(a[a.length]=s)}return a}var o=n(228),i=n(233);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return i});var o=(n(0).get("detection:artifact:element_match_record"),function t(e,n,o){r(this,t),this.type=e,this.element=n,this.info=o});e.a=o;var i={STYLE:"s",MOZ:"m"}},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},,function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var o=n(188),i=n(189),u=n(190),a=n(191),c=n(192);r.prototype.clear=o,r.prototype["delete"]=i,r.prototype.get=u,r.prototype.has=a,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(u=t.length>3&&"function"==typeof u?(o--,u):void 0,a&&i(n[0],n[1],a)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,u)}return e})}var o=n(59),i=n(73);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t,e){e=o(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}var o=n(23),i=n(33);t.exports=r},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}t.exports=n},function(t,e){function n(){}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e){function n(){return!1}t.exports=n},,function(t,e,n){function r(t,e,n){var r=-1,l=i,p=t.length,h=!0,d=[],_=d;if(n)h=!1,l=u;else if(p>=s){var y=e?null:c(t);if(y)return f(y);h=!1,l=a,_=new o}else _=e?[]:d;t:for(;++r<p;){var b=t[r],v=e?e(b):b;if(b=n||0!==b?b:0,h&&v===v){for(var g=_.length;g--;)if(_[g]===v)continue t;e&&_.push(v),d.push(b)}else l(_,v,n)||(_!==d&&_.push(v),d.push(b))}return d}var o=n(118),i=n(226),u=n(227),a=n(119),c=n(232),f=n(117),s=200;t.exports=r},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n},function(t,e,n){"use strict";function r(t){d="OFF"!==t;var e={defaultLevel:h[t]},n={};p.a.ie()||p.a.edge()?e.formatter=function(t,e){e.name&&t.unshift("[SP:"+e.name+"]")}:e.formatter=function(t,e){var r=e.name;if(r){if(!(r in n)){var o=f(c(u(i(r))));n[r]=o}t.unshift("%c[SP:"+r+"]","color: "+n[r])}},l.a.useDefaults(e)}function o(){return d}function i(t){for(var e=0,n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e|=0}return e}function u(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}function a(t){return.299*t[0]+.587*t[1]+.114*t[2]}function c(t){var e=a(t);if(e>_){var n=_/e;return[Math.floor(t[0]*n),Math.floor(t[1]*n),Math.floor(t[2]*n)]}return t}function f(t){return"#"+t.map(function(t){return t.toString(16)}).join("")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),l=n.n(s),p=n(14);e["default"]=r,e.isLoggerEnabled=o;var h=(n(0).get("util:logger:init"),{DEBUG:l.a.DEBUG,INFO:l.a.INFO,TIME:l.a.TIME,WARN:l.a.WARN,ERROR:l.a.ERROR,OFF:l.a.OFF}),d=!1,_=100},function(t,e,n){"use strict";function r(t){var e=t.document;return n.i(o.a)(e).then(function(t){return n.i(o.b)(t)?t:[]}).then(function(t){return new i.a(i.b.UBLOCK_ORIGIN,t.length>0,o.c.bind(null,e),t)})}var o=n(80),i=n(6);e.a=r;n(0).get("detection:artifact:generic:ublock_origin")},function(t,e,n){"use strict";function r(){return i++,i%=o.length,o[i]}n.d(e,"a",function(){return o}),e.b=r;var o=(n(0).get("detection:artifact:get_easylist_classnames"),["ad-space","placeholder-ad","placeholderAd","plainAd","play-page-ads","playAds1","playAds2","player-ads","player-leaderboard-ad-wrapper","player-under-ad","playerAd","player_ad","player_ad2","player_ad_box","player_hover_ad","player_page_ad_box"]),i=Math.floor(Math.random()*o.length)},function(t,e,n){"use strict";function r(t){return o(t,function(){var e=n.i(p.a)(t,function(t){return p.b.ONLY_DISPLAY_NONE.test(t.cssText)}),r=e.length>0&&e.every(function(t){return t.cssRules.length<50}),o=n.i(p.c)(e,function(t){return s.a.some(function(e){return t.selectorText.toLowerCase().indexOf(e.toLowerCase())>-1})});return r&&o?e:[]})}function o(t,e){var r=t.createElement("div");return new f["default"](function(e){r.className=n.i(s.b)();var o=new MutationObserver(function(n){n.some(function(t){return c()(t.addedNodes).some(function(t){return t===r})})&&(o.disconnect(),t.defaultView.setTimeout(function(){e()},1))});o.observe(t.body,{childList:!0}),t.body.appendChild(r)}).then(function(){return new f["default"](function(n){t.defaultView.setTimeout(function(){n(e(r)),r.parentElement&&t.body.removeChild(r)},150)})})}function i(t){return n.i(p.c)(t,function(t){return p.b.ROOT.test(t.cssText)})}function u(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return r(t).then(function(e){return l.a.apply(void 0,[t,e].concat(n))})}var a=n(8),c=n.n(a),f=n(2),s=n(79),l=n(20),p=n(17);e.a=r,e.d=o,e.b=i,e.c=u;n(0).get("detection:artifact:get_ublock_sheets")},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return new i["default"](function(e){n.i(a.f)(t,function(n,r,o,i,a){p.info("ajax test finished",{blocked:n,succeeded:r,info:o,coreType:i,xhr:a});var f=n?h[i]:d[i],s=[];if(o.indexOf("::")>-1){var _=o.split("::"),y=l(_,2),b=y[0],v=y[1];s.push(new c.h(parseInt(b)),new c.i(parseFloat(v)))}else s.push(new c.j(o));s.push(new c.g(t),new c.k("onl",navigator.onLine?"1":"0")),e({blocked:n,succeeded:r,reasonAttribute:f,infoAttributes:s,xhrData:a&&new u.a(a)})})})}var i=n(2),u=n(82),a=n(163),c=n(1);e.a=o;var f,s,l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=n(0).get("detection:interference:ajax_network_test:promise"),h=(f={},r(f,a.a,c.f.AJAX_LOAD_BLOCK),r(f,a.b,c.f.AJAX_OPEN_BLOCK),r(f,a.c,c.f.AJAX_SEND_BLOCK),f),d=(s={},r(s,a.d,c.f.AJAX_LOAD_SUCCESS),r(s,a.a,c.f.AJAX_LOAD_ERROR),r(s,a.e,c.f.PROTOCOL_MISMATCH),s)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(57),a=(n(0).get("detection:test_result:attribute:data:xhr"),function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),e}(u.a));e.a=a},,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0).get("util:get_elements_from_selector:element_modification_record"),function(){function t(){r(this,t)}return o(t,[{key:"applyToElement",value:function(t){throw new Error("not implemented")}}]),t}());e.a=i},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return(t instanceof a.a?1:-1)-(e instanceof a.a?1:-1)}var a=n(24);n.d(e,"a",function(){return f});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=(n(0).get("util:get_elements_from_selector:element_record"),function(){function t(){i(this,t),this._childElementRecords=[]}return c(t,[{key:"appendChildElementRecord",value:function(t){t.setParentElementRecord(this),this._childElementRecords.push(t)}},{key:"generateElementHierarchy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return this._childElementRecords.map(function(e){return e.generateElement(t)})}}]),t}()),s=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._nodeName=t,n._elementModificationRecords=[],n}return o(e,t),c(e,[{key:"addElementModificationRecord",value:function(t){this._elementModificationRecords.push(t)}},{key:"setParentElementRecord",value:function(t){this._parentElementRecord=t}},{key:"getParentElementRecord",value:function(){return this._parentElementRecord}},{key:"generateElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.createElement(this._nodeName);return this._elementModificationRecords.slice().sort(u).forEach(function(t){t.applyToElement(e)}),this.generateElementHierarchy(t).forEach(function(t){e.appendChild(t)}),e}}]),e}(f);e.b=s},function(t,e,n){function r(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||o(t,e,n)}var o=n(25),i=n(34);t.exports=r},function(t,e,n){var r=n(181),o=r();t.exports=o},function(t,e,n){var r=n(26),o=r["__core-js_shared__"];t.exports=o},function(t,e,n){var r=n(64),o=r(Object.getPrototypeOf,Object);t.exports=o},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){"use strict";function r(t){if(t instanceof o.a){if("function"==typeof t.keys&&"function"==typeof Array.from){return Array.from.bind(Array)(t.keys())}var e=[];return t.forEach(function(t,n){return e.push(n)}),e}if(t instanceof i.a){if("function"==typeof t.keys&&"function"==typeof Array.from){return Array.from.bind(Array)(t.keys())}var n=[];return t.forEach(function(t){return n.push(t)}),n}throw new Error("non es6 structure")}var o=n(12),i=n(51);e.a=r;n(0).get("util:es6_keys")},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e,n,r){var o=t.charCodeAt(0),i=r-n;if(o<n||o>r)return o;var u=o-n;return u=(u+e+i)%i,String.fromCharCode(u+n)}n.d(e,"a",function(){return s});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=(n(0).get("util:shift_cipher"),function(){function t(e){i(this,t),this._shift=e}return a(t,[{key:"encode",value:function(t){return this._encode(t,this._shift)}},{key:"decode",value:function(t){return this._encode(t,-this._shift)}}]),t}()),f=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"_encode",value:function(t,e){return t.split("").map(function(t){return u(t,e,33,127)}).join("")}}]),e}(c);e.b=f;var s=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),a(e,[{key:"_encode",value:function(t,e){return t.replace(/[A-Z]/g,function(t){return u(t,e,65,91)}).replace(/[a-z]/g,function(t){return u(t,e,97,123)})}}]),e}(c)},,function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){R||(t._sp_&&t._sp_._artifactDetectorMap?R=t._sp_._artifactDetectorMap:(R=new l.a,n.i(E.a)("_artifactDetectorMap",R)));var e=R.get(t);return null==e&&(e=new S(t),R.set(t,e)),e}function c(){R&&R.clear()}Object.defineProperty(e,"__esModule",{value:!0});var f=n(71),s=n.n(f),l=n(12),p=n(2),h=n(146),d=n(262),_=n(5),y=n(263),b=n(265),v=n(266),g=n(137),m=n(14),E=n(11),O=n(15),w=n(6);n.d(e,"ArtifactDetector",function(){return S}),e.getArtifactDetector=a,e.resetArtifactDetectors=c;var T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(n(0).get("detection:artifact:index"),function(){function t(e){var r=this;u(this,t),this._windowObject=e;var o=[];m.a.chrome()?o=d.a:m.a.firefox()?o=y.a:m.a.safari()?o=v.a:m.a.ie()?o=b.a:m.a.opera()&&(o=g.b),this._artifactFinderPromise=n.i(h.a)(this._windowObject.document).then(function(){return o.map(function(t){return t(r._windowObject)}).map(function(t){return p["default"].resolve(t)})}).then(function(t){return p["default"].all(t)}).then(function(t){return t.filter(function(t){return t.foundAdblocker()})}),this.hasUblock(s.a)}return T(t,[{key:"hasUblock",value:function(t){var e=this;null==this._hasUblock?this._hasUblock=this.getAllFinders().then(function(n){var r=n.some(function(t){return t.type()===w.b.UBLOCK||t.type()===w.b.UBLOCK_ORIGIN});return t(r),e._hasUblock=r,r}):this._hasUblock instanceof p["default"]?this._hasUblock.then(function(e){t(e)}):"boolean"==typeof this._hasUblock&&t(this._hasUblock)}},{key:"getAllFinders",value:function(){return this._artifactFinderPromise}},{key:"hasArtifact",value:function(){return this.getAllFinders().then(function(t){return t.length>0})}},{key:"getFirstFinder",value:function(){var t=this;return new p["default"](function(e){t.getAllFinders().then(function(t){e(t[0]||null)})})}}]),t}()),R=void 0,P=function(t){function e(t){u(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return _["default"].get(["detection","exposeSpecificContentBlockerData"])&&(n._artifactDetector=a(window),n.exposePublicApi()),n}return i(e,t),T(e,[{key:"exposePublicApi",value:function(){var t=this,e=function(e){t._artifactDetector.getAllFinders().then(function(t){return e.apply(void 0,r(t))})};n.i(E.a)("getContentBlockers",e),n.i(E.a)("getAdblockers",e)}}]),e}(O.b);e["default"]=P},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(5),i=n(11),u=n(93),a=n(31),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(0).get("util:beacon:core"),s=n(222).beacon,l=n(37),p=n(46),h=new u.a(s.shiftKey),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.BEACON,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o["default"].get(["beacon","pageViewEndpoint"]),a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r(this,t),window._sp_&&window._sp_._bid?this._bid=window._sp_._bid:(this._bid=Math.floor(1e9*Math.random()),n.i(i.a)("_bid",this._bid)),this._beaconType=e,this._data={},this._endpoint=u,this._sent=!1,this._shouldCipher=a}return c(t,[{key:"set",value:function(t,e){this._data[t]=String(e)}},{key:"get",value:function(t){return this._data[t]}},{key:"unset",value:function(t){delete this._data[t]}},{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(!0===this._sent)return void t(new Error("Beacon already sent"));this._sent=!0,this.set("cb",(new Date).getTime()),this.populateBeaconFields(),this._sendBeacon(t)}},{key:"populateBeaconFields",value:function(){this.set(p.SCRIPT_VERSION,a.a),this.set(p.CORRELATION_ID,this._bid),this.set(p.ACCOUNT_ID,o["default"].get("accountId"))}},{key:"getBeaconUrl",value:function(){return"//"+this._getEndpoint()+"/"+this._beaconType+"?"+this._encodeData()}},{key:"_sendBeacon",value:function(t){var e=this.getBeaconUrl(),n=new Image;f.info("firing "+this._beaconType+" beacon: "+e),f.info("beacon data",this._data),n.addEventListener("load",function(){return t()}),n.addEventListener("error",function(e){return t(e)}),n.src=e}},{key:"_getEndpoint",value:function(){return this.processEndpoint(this._endpoint)}},{key:"processEndpoint",value:function(t){return t}},{key:"_encodeData",value:function(){var t=this,e=Object.keys(this._data).map(function(e){return encodeURIComponent(t._shouldCipher?h.encode(e):e)+"="+encodeURIComponent(t._shouldCipher?h.encode(t._data[e]):t._data[e])});return e=this.dataPostProcessing(e),e.join("&")}},{key:"dataPostProcessing",value:function(t){return t}}]),t}();e.a=d},function(t,e,n){"use strict";function r(t){for(var e=[],r=t;r&&!n.i(u.d)(r,"html","head","body");)e.push(r),r=r.parentElement;e.reverse();var o=t.querySelectorAll("*");return e.concat(i()(o))}var o=n(8),i=n.n(o),u=n(50);e.a=r;n(0).get("util:get_all_elements_in_hierarchy")},function(t,e,n){var r=n(44),o=n(18),i=n(67),u=n(47),a=n(104),c=n(27),f=Object.prototype,s=f.hasOwnProperty,l=i(function(t,e){if(a(e)||u(e))return void o(e,c(e),t);for(var n in e)s.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){function r(t){return t&&t.length?o(t):[]}var o=n(75);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(2),s=n(148),l=n(1),p=n(16),h=(n.n(p),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),d=(n(0).get("detection:generic_adblocker:element_hiding_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),h(e,null,[{key:"getSchema",value:function(){return new a.a(l.b.GENERIC_ADBLOCKER,l.c.INFERENCE,l.c.ELEMENT,l.c.HIDING,l.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".plainAd",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return new f["default"](function(o){function i(){if(n.i(p.elementIsCollapsed)(a))return f(l.a.NOT_PRESENT,l.f.CONTROL_ELEMENT_HIDDEN);n.i(p.elementIsCollapsed)(u)&&f(l.a.PRESENT,l.f.ELEMENT_HIDDEN,c.a.fromElement(u,e))}var u=n.i(s.a)(e,r.document)[0];u.style.position="absolute",u.style.top="-2000px",u.style.left="-2000px",u.style.height="30px",u.style.width="30px";var a=u.cloneNode(!1);a.removeAttribute("class"),a.removeAttribute("id"),r.document.body.appendChild(u),r.document.body.appendChild(a);var f=function(){for(var n,i=arguments.length,c=Array(i),f=0;f<i;f++)c[f]=arguments[f];r.clearInterval(d),u.parentElement&&r.document.body.removeChild(u),a.parentElement&&r.document.body.removeChild(a),o((n=t.getSchema()).createResult.apply(n,[new l.w(e)].concat(c)))},h=0,d=r.setInterval(function(){if(30==++h)return void f(l.a.NOT_PRESENT,l.f.NO_ELEMENT_HIDDEN);i()},10);i()})}}]),e}(u.b));e.a=d},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=f?f(n):new t.constructor(n);return t.copy(r),r}var o=n(26),i="object"==typeof e&&e&&!e.nodeType&&e,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i,c=a?o.Buffer:void 0,f=c?c.allocUnsafe:void 0;t.exports=r}).call(e,n(205)(t))},function(t,e,n){function r(t){return"function"!=typeof t.constructor||u(t)?{}:o(i(t))}var o=n(171),i=n(89),u=n(104);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){var r=n(176),o=n(110),i=o(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){function r(t,e,n,r){if(!a(t))return t;e=i(e,t);for(var f=-1,s=e.length,l=s-1,p=t;null!=p&&++f<s;){var h=c(e[f]),d=n;if(f!=l){var _=p[h];d=r?r(_,h,p):void 0,void 0===d&&(d=a(_)?_:u(e[f+1])?[]:{})}o(p,h,d),p=p[h]}return t}var o=n(44),i=n(23),u=n(90),a=n(13),c=n(33);t.exports=r},function(t,e,n){function r(t,e,n){e=o(e,t);for(var r=-1,s=e.length,l=!1;++r<s;){var p=f(e[r]);if(!(l=null!=t&&n(t,p)))break;t=t[p]}return l||++r!=s?l:!!(s=null==t?0:t.length)&&c(s)&&a(p,s)&&(u(t)||i(t))}var o=n(23),i=n(54),u=n(9),a=n(90),c=n(91),f=n(33);t.exports=r},function(t,e,n){function r(t){return i(t)&&o(t)}var o=n(47),i=n(38);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){if(!u(t)||o(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==p}var o=n(53),i=n(89),u=n(38),a="[object Object]",c=Function.prototype,f=Object.prototype,s=c.toString,l=f.hasOwnProperty,p=s.call(Object);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){"use strict";function r(t,e){return o.call(t,e)}e.a=r;var o=(n(0).get("util:matches_selector"),Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1})},,function(t,e,n){var r=n(26),o=r.Symbol;t.exports=o},function(t,e){function n(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(){if(!arguments.length)return[];var t=arguments[0];return o(t)?t:[t]}var o=n(9);t.exports=r},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&o(t,e,0)>-1}var o=n(116);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return i(t)?u(t):o(t)}var o=n(229),i=n(120),u=n(236);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var c=null==n?0:u(n);return c<0&&(c=a(r+c,0)),o(t,i(e,3),c)}var o=n(230),i=n(32),u=n(124),a=Math.max;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return null==t?[]:o(t,i(t))}var o=n(231),i=n(27);t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){"use strict";function r(){return["/","/","a","d",".","d","o","u","b","l","e","c","l","i","c","k",".","n","e","t","/","d","d","m","/","a","d","/",o(),"/",";","o","r","d","=",Date.now(),"?"].join("")}function o(){return u()(n.i(a.a)(1,5),function(){return n.i(a.b)(2,11)}).join("/")}var i=n(112),u=n.n(i),a=n(22);e.a=r;n(0).get("config:network_test_uri")},function(t,e,n){"use strict";var r=n(252);n(0).get("detection:adblocker:generic:ublock:index");e.a=[r.a]},function(t,e,n){"use strict";var r=n(253);n(0).get("detection:adblocker:generic:ublock_origin:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.d)(e,function(t){return u.b.ONLY_DISPLAY_NONE.test(t.cssText)}),a=1===r.length&&r[0].cssRules.length<200?r:[];return n.i(o.b)(e,i.b.ADBLOCK,a)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:chrome:adblock")},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.d)(e,function(t){return u.b.ONLY_DISPLAY_NONE.test(t.cssText)}),a=1===r.length&&r[0].cssRules.length<200?r:[];return n.i(o.b)(e,i.b.ADBLOCK_PLUS,a)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:chrome:adblock_plus")},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.d)(e,function(t){return u.b.ONLY_DISPLAY_NONE.test(t.cssText)}),a=2===r.length||3===r.length?r:[];return n.i(o.b)(e,i.b.ADGUARD,a)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:chrome:adguard")},function(t,e,n){"use strict";function r(t){var e=t.document,r=o(e,n.i(b.b)()),a=o(e);return e.body.appendChild(r),e.body.appendChild(a),new _["default"](function(e){i(t,r)&&n.i(v.elementIsCollapsed)(r)&&!n.i(v.elementIsCollapsed)(a)?window.setTimeout(function(){window.setTimeout(function(){e(n.i(v.elementIsCollapsed)(r))},300)},1):e(!1)}).then(function(n){return r.parentElement&&e.body.removeChild(r),a.parentElement&&e.body.removeChild(a),u(n,t)})}function o(t,e){var n=t.createElement("div");return n.className=e||"",n.style.width="1px",n.style.height="1px",n.style.position="absolute",n.style.top="-9999px",n}function i(t,e){return((t.getComputedStyle(e)||{}).MozBinding||"").indexOf("abp-elemhide")>-1}function u(t,e){return new h.a(h.b.ADBLOCK_PLUS,t,a.bind(null,e))}function a(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var u=p()(r,function(t){return n.i(y.a)(t)}).filter(function(e){return i(t,e)}).map(function(t){return new d.a(d.b.MOZ,t,c(t))});return s()(u,function(t){return t.element})}function c(t){return t.nodeName.toLowerCase()+"#"+t.id+"."+t.className}var f=n(154),s=n.n(f),l=n(60),p=n.n(l),h=n(6),d=n(62),_=n(2),y=n(97),b=n(79),v=n(16);n.n(v);e.a=r;n(0).get("detection:artifact:firefox:adblock_plus")},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.a)(e,function(t){return u.b.ONLY_DISPLAY_NONE.test(t.cssText)}),a=(2===r.length||3===r.length)&&r[0].cssRules.length>300?r:[];return n.i(o.b)(e,i.b.ADGUARD,a)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:firefox:adguard")},function(t,e,n){"use strict";function r(t){return n.i(E.d)(t.document,function(e){var n=c(e);return new g.a(g.b.UBLOCK_ORIGIN,i(t,e)&&null!=n,o.bind(null,t,n))})}function o(t,e){for(var r=arguments.length,o=Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var c=b()(o,function(t){return n.i(m.a)(t)}).filter(function(n){return i(t,n)||f(t,e,n)}).map(function(t){return new v.a(v.b.STYLE,t,a(t))});return _()(c,function(t){return t.element})}function i(t,e){return u(t,e)&&e.hidden}function u(t,e){return"none"===((t.getComputedStyle(e)||{}).display||"")}function a(t){return t.nodeName.toLowerCase()+"#"+t.id+"."+t.className}function c(t){var e=h()(t.attributes,function(t){return-1===O.indexOf(t.name)&&""===t.value});return e?e.name:null}function f(t,e,n){return u(t,n)&&l()(n.attributes).some(function(t){return t.name===e})}var s=n(8),l=n.n(s),p=n(52),h=n.n(p),d=n(154),_=n.n(d),y=n(60),b=n.n(y),v=n(62),g=n(6),m=n(97),E=n(80);e.a=r;var O=(n(0).get("detection:artifact:firefox:ublock_origin_1_11"),["id","class","hidden"])},function(t,e,n){"use strict";function r(t){return new o.a(o.b.ADBLOCK_PLUS,"0"===t.document.body.getAttribute("abp"))}var o=n(6);e.a=r;n(0).get("detection:artifact:internet_explorer:adblock_plus")},function(t,e,n){"use strict";function r(t){return new o["default"](function(e){var r=t.document.createElement("div");r.className=n.i(u.b)(),t.document.body.appendChild(r),t.setTimeout(function(){var n="none"===r.style.display;t.document.body.removeChild(r),e(new i.a(i.b.OPERA,n))},1)})}var o=n(2),i=n(6),u=n(79);e.a=r;var a=(n(0).get("detection:artifact:opera:index"),[r]);e.b=a},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.a)(e,function(t){return u.b.DISPLAY_NONE_AND_ORPHAN.test(t.cssText)});return n.i(o.b)(e,i.b.ADBLOCK,r)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:safari:adblock")},function(t,e,n){"use strict";function r(t){var e=t.document,r=n.i(u.a)(e,function(t){return u.b.ONLY_DISPLAY_NONE.test(t.cssText)}),a=1===r.length&&r[0].cssRules.length>50&&r[0].cssRules.length<200?r:[];return n.i(o.b)(e,i.b.ADBLOCK_PLUS,a)}var o=n(20),i=n(6),u=n(17);e.a=r;n(0).get("detection:artifact:safari:adblock_plus")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){return h+Date.now().toString()}var a=n(81),c=n(141),f=n(1);e.a=u;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},p=(n(0).get("detection:interference:image_ajax_network_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return l(e.__proto__||Object.getPrototypeOf(e),"getSchema",this).call(this).addAttribute(f.c.AJAX)}},{key:"testMethod",value:function(){var t=u();return l(e.__proto__||Object.getPrototypeOf(e),"testMethod",this).call(this,t).then(function(e){return e.has(f.a.NOT_PRESENT)?e:n.i(a.a)(t).then(function(t){return t.blocked||t.succeeded?e.addAttribute(t.reasonAttribute,t.infoAttributes):e.addAttribute(f.a.NOT_PRESENT,t.reasonAttribute,t.infoAttributes).removeAttribute(f.a.PRESENT)})})}}]),e}(c.a));e.b=p;var h=["/","/","0","9","1","4",".","g","l","o","b","a","l",".","s","s","l",".","f","a","s","t","l","y",".","n","e","t","/","a","d","2","/","i","m","g","/","x",".","g","i","f","?","c","b","="].join("")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return new p["default"](function(n){var r=document.createElement("div");r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.width="1px",r.style.height="1px";var o=new Image;o.setAttribute("height","1"),o.setAttribute("width","1"),r.appendChild(o);var i=c()(function(o,i,u){r.parentElement&&document.body.removeChild(r),n(t.createResult(o,i,new d.g(e),new l.a(u)))});o.addEventListener("load",function(t){o.src===b?i(d.a.PRESENT,d.f.URL_REWRITTEN,t):i(d.a.NOT_PRESENT,d.f.NO_LOAD_BLOCK,t)},!0),o.addEventListener("error",function(t){i(d.a.PRESENT,d.f.LOAD_BLOCK,t)},!0),o.src=e,document.body.appendChild(r)})}var a=n(157),c=n.n(a),f=n(3),s=n(4),l=n(143),p=n(2),h=n(127),d=n(1),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=(n(0).get("detection:interference:image_network_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),_(e,null,[{key:"getSchema",value:function(){return new s.a(d.b.INTERFERENCE,d.c.INFERENCE,d.c.IMAGE,d.c.NETWORK)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.i(h.a)();return u(this.getSchema(),t)}}]),e}(f.b));e.a=y;var b="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs="},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t+"?cb="+Date.now()}function a(t,e){var n=document.createElement("script");return new l["default"](function(r){n.addEventListener("load",function(n){r(t.createResult(d.a.NOT_PRESENT,d.f.NO_LOAD_BLOCK,new d.g(e),new s.a(n)))}),n.addEventListener("error",function(n){r(t.createResult(d.a.PRESENT,d.f.LOAD_BLOCK,new d.g(e),new s.a(n)))}),h.a.safari()&&window.setTimeout(function(){r(t.createResult(d.a.NOT_PRESENT,d.f.TIMEOUT,new d.g(e)))},1e4),n.src=e,document.body.appendChild(n)}).then(function(t){return n.parentElement&&n.parentElement.removeChild(n),t})}var c=n(3),f=n(4),s=n(143),l=n(2),p=n(81),h=n(14),d=n(1),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=(n(0).get("detection:interference:script_network_test"),["/","/","d","3","u","j","i","d","s6","8","p","6x","m","q",".","c","l","o","ud","f","r","o","n","t",".","ne","t","/","x",".","j","s"].join("")),b=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),_(e,null,[{key:"getSchema",value:function(){return new f.a(d.b.INTERFERENCE,d.c.INFERENCE,d.c.SCRIPT,d.c.AJAX,d.c.NETWORK)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=u(t);return a(this.getSchema(),e).then(function(t){return t.has(d.a.NOT_PRESENT)?t:n.i(p.a)(e).then(function(e){return e.blocked||e.succeeded?t.addAttribute(e.reasonAttribute,e.infoAttributes):t.addAttribute(d.a.NOT_PRESENT,e.reasonAttribute,e.infoAttributes).removeAttribute(d.a.PRESENT)})})}}]),e}(c.b);e.a=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(57),a=(n(0).get("detection:test_result:attribute:data:event"),function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),e}(u.a));e.a=a},function(t,e,n){"use strict";function r(t){var e={};for(var n in u)!function(n){e[n]=t.filter(function(t){return u[n](t)})}(n);return e}var o=n(57),i=n(1);e.a=r;var u=(n(0).get("detection:test_result:attribute:group_attributes_by_type"),{types:i.l,tests:i.m,reasons:i.n,results:i.d,info:i.o,data:function(t){return t instanceof o.a}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(70),i=n.n(o),u=n(21),a=n.n(u),c=n(155),f=n.n(c),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:test_result:core"),function(){function t(){r(this,t);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];this.attributes=f()(a()(i()(n)),function(t,e){return t.is(e)})}return s(t,[{key:"has",value:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.every(function(e){return t.attributes.some(function(t){return t.is(e)})})}}]),t}());e.a=l},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return new o["default"](function(e){function r(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,u=t.createElement("div");u.style.setProperty("display","block","important"),u.style.setProperty("height","10px","important"),t.body.appendChild(u),n.i(i.elementIsCollapsed)(t.body)&&o-- >0?(u.parentElement&&t.body.removeChild(u),setTimeout(function(){r(o)},100)):(u.parentElement&&t.body.removeChild(u),e())}"loading"===t.readyState?t.addEventListener("DOMContentLoaded",function(){r()}):r()})}var o=n(2),i=n(16);n.n(i);e.a=r;n(0).get("util:dom_ready")},function(t,e,n){"use strict";function r(){for(var t=n.i(i.a)(0,5),e=[],r=0;r<t;r++){var a=u[n.i(i.a)(0,u.length)];e.push(new o.b(a))}return e}var o=n(85),i=n(22);e.a=r;var u=(n(0).get("util:get_elements_from_selector:consumers:generate_random_element_records"),["li","span","div"])},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{e.querySelector(t)}catch(e){throw n.i(a.a)(t.toString())}var r=n.i(u.a)(new i.a(t.trim())).generateElementHierarchy(e);return o(t,r,e),r}function o(t,e,r){var o=r.createElement("div");if(e.forEach(function(t){o.appendChild(t)}),!(null!=o.querySelector(t)))throw n.i(a.b)(t)}var i=n(310),u=n(305),a=n(42);e.a=r;n(0).get("util:get_elements_from_selector:index")},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(t)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=(n(0).get("util:mixin"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;i(this,t),this._toCallback=e,this._mixinClasses=[]}return a(t,[{key:"to",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this._toCallback.apply(this,[t].concat(n));return this._mixinClasses.push(o),o}},{key:"test",value:function(t){var e=t.hasOwnProperty("prototype")?t.prototype:t;return this._mixinClasses.some(function(n){return e instanceof n||t===n})}}]),t}());e.a=c},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var u=(n(0).get("util:network_event"),function t(e,n){i(this,t),this.src=e,this.tagName=n}),a=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(u),c=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(u)},function(t,e){function n(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}t.exports=n},function(t,e,n){var r=n(64),o=r(Object.keys,Object);t.exports=o},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){return t&&t.length?i(t,o(e,2)):[]}var o=n(32),i=n(75);t.exports=r},function(t,e,n){function r(t,e){return e="function"==typeof e?e:void 0,t&&t.length?o(t,void 0,e):[]}var o=n(75);t.exports=r},,function(t,e,n){function r(t){return o(2,t)}var o=n(340);t.exports=r},function(t,e,n){"use strict";var r=n(19),o=n.n(r),i=n(239),u=n(241),a=n(244),c=n(128),f=n(129);n(0).get("detection:adblocker:chrome:index");e.a=o()([i.a,u.a,a.a,c.a,f.a])},function(t,e,n){"use strict";var r=n(19),o=n.n(r),i=n(246),u=n(248),a=n(250),c=n(129);n(0).get("detection:adblocker:firefox:index");e.a=o()([i.a,u.a,a.a,c.a])},function(t,e,n){"use strict";var r=n(19),o=n.n(r),i=n(255);n(0).get("detection:adblocker:internet_explorer:index");e.a=o()([i.a])},function(t,e,n){"use strict";var r=n(19),o=n.n(r),i=n(256);n(0).get("detection:adblocker:opera:index");e.a=o()([i.a])},function(t,e,n){"use strict";var r=n(19),o=n.n(r),i=n(258),u=n(260),a=n(128);n(0).get("detection:adblocker:safari:index");e.a=o()([i.a,u.a,a.a])},function(t,e,n){"use strict";function r(t,e){function n(t){try{return t&&t.timeStamp?t.timeStamp:window.performance.now()}catch(t){return Date.now()}}var r=document.createElement("a");if(r.href=t,"https:"===window.location.protocol&&r.protocol!==window.location.protocol)return void e(!1,!1,r.protocol,c);var f=new XMLHttpRequest;try{f.open("GET",t)}catch(t){return void e(!0,!1,t.toString(),u,f)}var s=void 0,l=void 0;f.onloadstart=function(t){s=n(t)},f.onreadystatechange=function(t){if(4===this.readyState){l=n(t)-s;var r=0===this.status,u="2"===this.status.toString()[0],a=u?i:o;return void e(r,u,this.status+"::"+l,a,f)}};try{f.send()}catch(t){return void e(!0,!1,t.toString(),a,f)}}n.d(e,"a",function(){return o}),n.d(e,"d",function(){return i}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a}),n.d(e,"e",function(){return c}),e.f=r;var o=(n(0).get("detection:interference:ajax_network_test:core"),"n"),i="nx",u="xo",a="xs",c="p"},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=e.createElement("style");e.head.appendChild(n);var r=o(t),i=r+" { no_affect_rule: 0; }";n.sheet&&"function"==typeof n.sheet.insertRule?n.sheet.insertRule(i,0):n.innerHTML=i;var u=n.sheet&&n.sheet.cssRules&&"function"==typeof n.sheet.cssRules.item?n.sheet.cssRules.item(0).selectorText:null;return n.parentElement&&n.parentElement.removeChild(n),u}function o(t){return t.replace(/::content/g,"").trim()}e.a=r,e.b=o;n(0).get("util:css:normalize_selector")},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t,e){return o(t,e)}var o=n(320);t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(70),u=n.n(i),a=n(155),c=n.n(a),f=n(52),s=n.n(f),l=n(344),p=n.n(l),h=n(294),d=n(10),_=n(82),y=n(158),b=n(280),v=n(146),g=n(159),m=n(282),E=n(277),O=n(270),w=n(278),T=n(160),S=n(284),R=n(161),P=n(162),k=n(286),j=n(290),A=n(14),N=n(1),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=(n(0).get("detection:index"),function(){function t(e,r){o(this,t),this._options=p()({},e||{},{useInterference:!1,useGenericAdblocker:!0,useAdblocker:!0,runImmediately:!1,internal:{}}),this._options.internal=p()({},this._options.internal,{useInterference:!1,useGenericAdblocker:!0,useAdblocker:!0}),this._testClasses=r||[j.a,w.a,E.a,A.a.chrome()?y.a:[],A.a.firefox()?g.a:[],A.a.safari()?P.a:[],A.a.ie()?T.a:[],A.a.opera()?R.a:[],A.a.chrome()?b.a:[],A.a.firefox()?m.a:[],A.a.safari()?k.a:[],A.a.ie()?S.a:[],n.i(O.a)()],this.rerun()}return C(t,[{key:"rerun",value:function(){var t=this,e=new(Function.prototype.bind.apply(h.a,[null].concat(r(this._testClasses))));return this._runner=e,this._options.runImmediately?this._runner.run():n.i(v.a)().then(function(){t._runner===e&&t._runner.run()}),this}},{key:"serializeResults",value:function(){return this._runner.waitForResultsWhere().then(function(t){return t.join("|")})}},{key:"isStandingDown",value:function(){return this._runner.someResultPresentWhere(function(t){return t.has(N.b.STAND_DOWN)})}},{key:"isInterfering",value:function(){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(t){return t.has(N.b.INTERFERENCE)||t.has(N.b.GENERIC_ADBLOCKER)||t.has(N.b.ADBLOCKER)}))}},{key:"isFSM",value:function(){return this._isNotStandDownAnd(this._runner.waitForResultsWhere(function(t){return t.has(N.c.FSM)}).then(function(t){return t.some(function(t){return!t.has(N.a.NOT_PRESENT)})}))}},{key:"isPrivate",value:function(){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(t){return t.has(N.b.PRIVATE)}))}},{key:"isContentBlockerPresent",value:function(){return this._isContentBlockerPresent(this._options)}},{key:"internalIsContentBlockerPresent",value:function(){return this._isContentBlockerPresent(this._options.internal)}},{key:"getContentBlocker",value:function(){var t=this;return this.isContentBlockerPresent().then(function(e){return e?t._runner.waitForResultsWhere(function(t){return t.has(N.b.ADBLOCKER)}).then(function(t){var e=void 0,r=s()(t,function(t){return!t.has(N.a.NOT_PRESENT)});return r&&(e=s()(r.attributes,function(t){return n.i(N.d)(t)&&t!==N.a.PRESENT})),e||N.a.UNKNOWN_ADBLOCKER}):null})}},{key:"getFSMData",value:function(){return this._runner.waitForResultsWhere(function(t){return t.has(N.c.FSM)}).then(function(t){return s()(t.map(function(t){return t.getData(_.a)}),function(t){return null!=t})||null})}},{key:"getAllElementHidingData",value:function(){return this._runner.waitForResultsWhere(function(t){return t.has(N.c.HIDING_DATA)}).then(function(t){return c()(u()(t.map(function(t){return t.getData(d.a)})),function(t,e){return t.is(e)})})}},{key:"_isContentBlockerPresent",value:function(t){return this._isNotStandDownAnd(this._runner.someResultPresentWhere(function(e){return t.useInterference&&e.has(N.b.INTERFERENCE)||t.useGenericAdblocker&&e.has(N.b.GENERIC_ADBLOCKER)||t.useAdblocker&&e.has(N.b.ADBLOCKER)}))}},{key:"_isNotStandDownAnd",value:function(t){return this.isStandingDown().then(function(e){return!e&&t})}}]),t}());e.a=x},function(t,e,n){"use strict";n(0).get("util:logger:levels");e.a=["DEBUG","INFO","TIME","WARN","ERROR","OFF"]},function(t,e,n){var r=n(26),o=r.Uint8Array;t.exports=o},function(t,e,n){function r(t,e,n,N,C,x){var I,L=e&w,D=e&T,M=e&S;if(n&&(I=C?n(t,N,C,x):n(t)),void 0!==I)return I;if(!E(t))return t;var B=g(t);if(B){if(I=y(t),!L)return s(t,I)}else{var F=_(t),U=F==P||F==k;if(m(t))return f(t,L);if(F==j||F==R||U&&!C){if(I=D||U?{}:v(t),!L)return D?p(t,c(I,t)):l(t,a(I,t))}else{if(!A[F])return C?t:{};I=b(t,F,r,L)}}x||(x=new o);var G=x.get(t);if(G)return G;x.set(t,I);var H=M?D?d:h:D?keysIn:O,K=B?void 0:H(t);return i(K||t,function(o,i){K&&(i=o,o=t[i]),u(I,i,r(o,e,n,i,t,x))}),I}var o=n(66),i=n(313),u=n(44),a=n(317),c=n(318),f=n(102),s=n(63),l=n(323),p=n(324),h=n(152),d=n(165),_=n(76),y=n(335),b=n(336),v=n(103),g=n(9),m=n(68),E=n(13),O=n(27),w=1,T=2,S=4,R="[object Arguments]",P="[object Function]",k="[object GeneratorFunction]",j="[object Object]",A={};A[R]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[j]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[P]=A["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){var r=n(13),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return!(!u(t)||i(t))&&(o(t)?d:f).test(a(t))}var o=n(30),i=n(187),u=n(13),a=n(197),c=/[\\^$.*+?()[\]{}|]/g,f=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,p=s.toString,h=l.hasOwnProperty,d=RegExp("^"+p.call(h).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t,e,n,s,l){t!==e&&u(e,function(u,f){if(c(u))l||(l=new o),a(t,e,f,n,r,s,l);else{var p=s?s(t[f],u,f+"",t,e,l):void 0;void 0===p&&(p=u),i(t,f,p)}},f)}var o=n(66),i=n(86),u=n(87),a=n(175),c=n(13),f=n(35);t.exports=r},function(t,e,n){function r(t,e,n,r,v,g,m){var E=t[n],O=e[n],w=m.get(O);if(w)return void o(t,n,w);var T=g?g(E,O,n+"",t,e,m):void 0,S=void 0===T;if(S){var R=s(O),P=!R&&p(O),k=!R&&!P&&y(O);T=O,R||P||k?s(E)?T=E:l(E)?T=a(E):P?(S=!1,T=i(O,!0)):k?(S=!1,T=u(O,!0)):T=[]:_(O)||f(O)?(T=E,f(E)?T=b(E):(!d(E)||r&&h(E))&&(T=c(O))):S=!1}S&&(m.set(O,T),v(T,O,r,g,m),m["delete"](O)),o(t,n,T)}var o=n(86),i=n(102),u=n(180),a=n(63),c=n(103),f=n(54),s=n(9),l=n(109),p=n(68),h=n(30),d=n(13),_=n(111),y=n(105),b=n(203);t.exports=r},function(t,e,n){function r(t,e){return o(t,e,function(e,n){return i(t,n)})}var o=n(177),i=n(198);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,a=e.length,c={};++r<a;){var f=e[r],s=o(t,f);n(s,f)&&i(c,u(f,t),s)}return c}var o=n(69),i=n(107),u=n(23);t.exports=r},function(t,e,n){function r(t,e){return e=o(e,t),null==(t=u(t,e))||delete t[a(i(e))]}var o=n(23),i=n(153),u=n(337),a=n(33);t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}var o=n(169);t.exports=r},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var o=n(179);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var c=u[t?a:++o];if(!1===n(i[c],c,i))break}return e}}t.exports=n},function(t,e,n){var r=n(184),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(204))},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!u.test(t)||null!=e&&t in Object(e))}var o=n(9),i=n(126),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=r},function(t,e,n){var r=n(88),o=n(30),i=n(202),u=r?o:i;t.exports=u},function(t,e,n){function r(t){return!!i&&i in t}var o=n(88),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():u.call(e,n,1),--this.size,!0)}var o=n(29),i=Array.prototype,u=i.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(29);t.exports=r},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(29);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(29);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,u=-1,a=i(r.length-e,0),c=Array(a);++u<a;)c[u]=r[e+u];u=-1;for(var f=Array(e+1);++u<e;)f[u]=r[u];return f[e]=n(c),o(t,this,f)}}var o=n(101),i=Math.max;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(193),o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=r(function(t){var e=[];return o.test(t)&&e.push(""),t.replace(i,function(t,n,r,o){e.push(r?o.replace(u,"$1"):n||t)}),e});t.exports=a},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,o=r.toString;t.exports=n},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(172),i=n(108);t.exports=r},function(t,e,n){function r(t){if(i(t))throw new Error(u);return o(t)}var o=n(173),i=n(186),u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}t.exports=n},function(t,e,n){var r=n(174),o=n(67),i=o(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return o(t,i(t))}var o=n(18),i=n(35);t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){"use strict";function r(t){t.events=t.events||{},t.events.onDetectionComplete=t.events.onDetectionComplete||function(t){n.i(o.a)(t?"sp.blocking":"sp.not_blocking")}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(221);e["default"]=r;n(0).get("backwards_compatibility:config:apply_default_params")},function(t,e,n){"use strict";function r(t){function e(e,r){l()(t,e)&&(l()(t,r)||f()(n,r,a()(t,e)),i()(n,e))}var n=h()(t);return e("account_id","accountId"),e("client_id","clientId"),e("publisher_base","publisherBase"),e("beacon_endpoint",["beacon","pageViewEndpoint"]),e("content_control_beacon_endpoint",["beacon","contentControlEndpoint"]),e("custom_beacon_entries",["beacon","customEntries"]),e("content_control_callback",["bootstrap","contentControlCallback"]),e("content_control_callback",["rid","contentControlCallback"]),e("enable_rid",["rid","enable"]),e("enable_rid_retry",["rid","enableForgivenessCookie"]),e("dfp_targeting_key",["dfp","targetingKey"]),e("enable_vid",["vid","enable"]),e("enable_generic_vid",["vid","enableGeneric"]),e("enable_iframe_vid",["vid","enableInIFrame"]),e("vid_control_callback",["vid","contentControlCallback"]),e("enable_artifact_detection",["detection","exposeSpecificContentBlockerData"]),e("enable_fsm_detection",["detection","fsm","enable"]),e("enable_fsm_network_detection",["detection","fsm","enableNetwork"]),e("fsm_endpoint",["detection","fsm","endpoint"]),e("use_network_detection",["detection","useNetworkBlockerTests"]),e("site_css_url","siteCssLocation"),e("enable_blocker_style_sheet_disabling","disableBlockerStyleSheets"),e("disable_blocker_style_sheets","disableBlockerStyleSheets"),e("run_immediately","runImmediately"),e("mms_domain",["msg","domain"]),e("mms_client_data_callback",["events","onReceiveMessageData"]),e("mms_choice_selected_callback",["events","onMessageChoiceSelect"]),e("msg_z_index",["msg","zIndex"]),e("enable_style_manager",["styleManager","enable"]),e("enable_simple_style_manager",["styleManager","enableSimple"]),e("enable_full_morph",["styleManager","enableMorphingOutsideAdHierarchy"]),e("smart_lib_url",["smart","libURL"]),e("smart_targeting_key",["smart","targetingKey"]),i()(n,"rid_asset_base"),i()(n,"gpt_auto_load"),i()(n,"converge_recovery_domain"),i()(n,"msg_lib_location"),i()(n,"smart_auto_load"),n}Object.defineProperty(e,"__esModule",{value:!0});var o=n(370),i=n.n(o),u=n(366),a=n.n(u),c=n(369),f=n.n(c),s=n(368),l=n.n(s),p=n(365),h=n.n(p);e["default"]=r;n(0).get("backwards_compatibility:config:index")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(225),a=n(2),c=n(100),f=n(15),s=n(1);n.d(e,"AdblockBeacon",function(){return _});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},h=(n(0).get("delivery:adblock_beacon"),n(37)),d=n(46),_=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.BEACON));return a["default"].all([t.isInterfering().then(function(t){n._isInterfering=t}),t.isContentBlockerPresent().then(function(t){n._isContentBlockerPresent=t}),t.isPrivate().then(function(t){n._isPrivate=t}),t.isFSM().then(function(t){n._isFSM=t}),t.serializeResults().then(function(t){n._serializedResults=t})]).then(function(){n._send(n._isInterfering)}),n}return i(e,t),l(e,[{key:"populateBeaconFields",value:function(){p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"populateBeaconFields",this).call(this),this.set(d.SENTINEL_FLAG,1),null!=this._isInterfering&&this.set(d.ADBLOCK_DETECTED,this._isInterfering?1:0),null!=this._serializedResults&&this.set(d.DEBUG_0,this._serializedResults);var t=[this._isInterfering,this._isContentBlockerPresent,this._isPrivate,this._isFSM].map(function(t){return null==t?-1:t?1:0}).join("::");this.set(d.DEBUG_2,t)}},{key:"_send",value:function(t){var e=this;t?c.a.testMethod(".abp_ob_exist").then(function(t){e.set(d.EXCEPTION_RULES,t.has(s.a.PRESENT)?1:0),e.send()}):(this.set(d.EXCEPTION_RULES,0),this.send())}}]),e}(u["default"]),y=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return new _(t),n.on("pagechange",function(){new _(t)}),n}return i(e,t),e}(f.b);e["default"]=y},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.search,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,c=i()(e),f=r&&new u.a(r).getSearchParam("_sp_scriptVersion");if(!f)return void c(!1);var s=o.document.createElement("script");s.id="_sp_override",s.addEventListener("load",function(){c(!0)}),s.addEventListener("error",function(){c(!1)});var l="latest"===f?"":"-v"+f;s.src=n+"/0/"+f+"/"+t+l+".js",o.document.head?o.document.head.appendChild(s):o.document.documentElement.appendChild(s)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(157),i=n.n(o),u=n(28);e["default"]=r;var a=(n(0).get("delivery:override_script_version"),["h","t","t","p","s",":","/","/","s","p","-","j","s","-","r","e","l","e","a","s","e","s",".","s","3",".","a","m","a","z","o","n","a","w","s",".","c","o","m"].join(""))},function(t,e,n){n(0).get("delivery:stand_down");window._sp_=window._sp_||{};var r={checkState:function(t){t(!1)},isAdBlocking:function(t){t(!1)},getSafeUri:function(t){return t},pageChange:function(){},setupSmartBeacons:function(){}};t.exports.mockApi=function(t){for(var e=0;e<t.length;e++)window._sp_[t[e]]=r[t[e]]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=Date.now();t.isContentBlockerPresent().then(function(t){function n(){f.info("triggering on detection complete",t),a["default"].get(["events","onDetectionComplete"])(t)}var r=Date.now(),o=a["default"].get("runImmediately")?0:Math.max(200-(r-e),0);o>0?window.setTimeout(function(){n()},o):n()})}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),c=n(15),f=n(0).get("life_cycle:events:on_detection_complete_feature"),s=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.on("pagechange",function(){u(t)}),u(t),n}return i(e,t),e}(c.f.to(c.b));e["default"]=s},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){function o(t,e){var n=t[0].map(function(t){return e?new t(e):new t});return u.push.apply(u,r(n)),f["default"].all(n.map(function(t){return t.startPromise})).then(function(){var o=t[1].map(function(t){return e?new t(e):new t});return u.push.apply(u,r(o)),f["default"].all(n.map(function(t){return t.resolutionPromise}).concat(o.map(function(t){return t.resolutionPromise})))})}n.i(p["default"])(l["default"].get(["debug","level"])),b.info("client config",window._sp_.config);var u=[];n.i(h.a)("pageChange",function(){u.forEach(function(t){t.emit("pagechange")})}),n.i(h.a)("scriptName",t),n.i(h.a)("version",_.a),b.info("build version",window._sp_.version),window._sp_._networkListenerData||n.i(h.a)("_networkListenerData",n.i(d.a)());var a=n.i(s.a)(),v=e.filter(function(t){return t.prototype&&t.prototype instanceof y.d}),g=e.filter(function(t){return t.prototype&&t.prototype instanceof y.b}),m=e.filter(function(t){return t.prototype&&t.prototype instanceof y.c}),E=e.filter(function(t){return t.prototype&&t.prototype instanceof y.e});o(i(v)).then(function(){var t=l["default"].get("detection"),e=t.internal,n=new c.a({runImmediately:l["default"].get("runImmediately"),useInterference:t.useNetworkBlockerTests,useGenericAdblocker:t.useGenericContentBlockerTests,useAdblocker:t.useSpecificContentBlockerTests,internal:{useInterference:e.useNetworkBlockerTests,useGenericAdblocker:e.useGenericContentBlockerTests,useAdblocker:e.useSpecificContentBlockerTests}});return n.isContentBlockerPresent().then(function(t){a(t)}),n.isInterfering().then(function(){document.removeEventListener("load",window._sp_._networkListenerData.load.listener,!0),document.removeEventListener("error",window._sp_._networkListenerData.error.listener,!0),window._sp_._networkListenerData.load.events=[],window._sp_._networkListenerData.error.events=[]}),o(i(g),n).then(function(){return o(i(m),n)}).then(function(){return o(i(E),n)})})}function i(t){var e=a()(t,function(t){return y.f.test(t)?"1":"0"});return[e[0]||[],e[1]||[]]}Object.defineProperty(e,"__esModule",{value:!0});var u=n(367),a=n.n(u),c=n(167),f=n(2),s=n(353),l=n(5),p=n(77),h=n(11),d=n(356),_=n(31),y=n(15);e["default"]=o;var b=n(0).get("life_cycle:index")},function(t,e,n){n(0).get("util:detect_stand_down_browser");t.exports=function(t){t=(t||navigator.userAgent||navigator.vendor||window.opera).toLowerCase();var e=t.match(/(msie|trident)\s*(\d+)\./),n=e&&window.parseInt(e[2]);return!!n&&n<11}},function(t,e,n){n(0).get("util:force_util_promise");t.exports=function(){var t=window.Promise;delete window.Promise,n(2),window.Promise=t}},,function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}t.exports=n},function(t,e){function n(t,e){return t+r(o()*(e-t+1))}var r=Math.floor,o=Math.random;t.exports=n},function(t,e,n){function r(t,e,n){if(n&&"boolean"!=typeof n&&i(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=u(t),void 0===e?(e=t,t=0):e=u(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=f();return c(t+s*(e-t+a("1e-"+((s+"").length-1))),e)}return o(t,e)}var o=n(218),i=n(73),u=n(220),a=parseFloat,c=Math.min,f=Math.random;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;try{n=new Event(t,{bubbles:!0,cancelable:!1})}catch(e){n=document.createEvent("Event"),"function"==typeof n.initEvent&&n.initEvent(t,!0,!1)}e.dispatchEvent(n)}e.a=r;n(0).get("util:dispatch_event")},function(t,e,n){n(0).get("config:config");t.exports={bugsnagKey:"00eac706c084cf17802b8cba591a1128",detection:{elementDetection:{waitInterval:100,maxRetries:1}},beacon:{shiftKey:3}}},,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(96),a=n(5),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("util:beacon:index"),n(312)),l=n(46),p=n(37),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.BEACON;r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s(function(){return n.send()}),n}return i(e,t),c(e,[{key:"populateBeaconFields",value:function(){f(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"populateBeaconFields",this).call(this),this._populateCommonFields(),this._populateCustomerFields()}},{key:"_populateCommonFields",value:function(){this.set(l.PAGE_URL,document.location.hostname+document.location.pathname)}},{key:"_populateCustomerFields",value:function(){var t=this,e=a["default"].get(["beacon","customEntries"]);e&&e.forEach(function(e,n){t.set(l["CUSTOMER_"+(n+1).toString()],e)})}},{key:"processEndpoint",value:function(t){return t.replace(/^(https?:)?\/\//,"")}},{key:"dataPostProcessing",value:function(t){if(t=t.slice(),t.length>0&&0===t[0].indexOf("id")){var e=Math.floor(Math.random()*(t.length-1)+1),n=t[0];t[0]=t[e],t[e]=n}return t}}]),e}(u.a);e["default"]=h},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&o(t,e,0)>-1}var o=n(116);t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}t.exports=n},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}t.exports=n},function(t,e,n){function r(t,e){return o(e,function(e){return t[e]})}var o=n(72);t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t){return u(t)||i(t)||!!(a&&t&&t[a])}var o=n(115),i=n(54),u=n(9),a=o?o.isConcatSpreadable:void 0;t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&u(t)&&o(t)==a}var o=n(53),i=n(9),u=n(38),a="[object String]";t.exports=r},,function(t,e,n){"use strict";var r=n(240);n(0).get("detection:adblocker:chrome:adblock:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(130),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:chrome:adblock:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadow:e.getAdblockerStyleSheets()}))}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";var r=n(242),o=n(243);n(0).get("detection:adblocker:chrome:adblock_plus:index");e.a=[r.a,o.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(4),a=n(43),c=n(3),f=n(293),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:chrome:adblock_plus:native_shadow_root_override_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new u.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.NATIVE_OVERRIDE)}},{key:"findDependency",value:function(t){return t.has(s.b.GENERIC_ADBLOCKER,s.c.HIDING)}},{key:"testMethod",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=Object.getOwnPropertyDescriptor(e.Element.prototype,"shadowRoot").get;return n.i(a.a)(r)?this.getSchema().createResult(s.f.NO_NATIVE_OVERRIDE,s.a.NOT_PRESENT):n.i(f.a)(t)?this.getSchema().createResult(s.f.SHADOW_ROOT_NATIVE_OVERRIDE,s.a.ADBLOCK_PLUS):this.getSchema().createResult(s.f.NO_ELEMENT_HIDDEN,s.a.NOT_PRESENT)}}]),e}(c.a));e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(131),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:chrome:adblock_plus:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK_PLUS:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadow:e.getAdblockerStyleSheets()}))}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";var r=n(245);n(0).get("detection:adblocker:chrome:adguard:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(132),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:chrome:adguard:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADGUARD:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({shadow:e.getAdblockerStyleSheets()}))}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";var r=n(247);n(0).get("detection:adblocker:firefox:adblock_plus:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=n(133),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:adblocker:firefox:adblock_plus:style_property_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(e).then(function(e){var n=e.foundAdblocker();return t.getSchema().createResult(n?c.a.ADBLOCK_PLUS:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT)})}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(249);n(0).get("detection:adblocker:firefox:adguard:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(10),a=n(3),c=n(4),f=n(134),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:firefox:adguard:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new c.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADGUARD:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,u.a.fromStyleSheets({document:e.getAdblockerStyleSheets()}))}}]),e}(a.b));e.a=p},function(t,e,n){"use strict";var r=n(251);n(0).get("detection:adblocker:firefox:ublock_origin:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=n(135),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:adblocker:firefox:ublock_origin:style_property_and_hidden_property_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY,c.c.HIDDEN_PROPERTY)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(e).then(function(e){var n=e.foundAdblocker();return t.getSchema().createResult(n?c.a.UBLOCK_ORIGIN:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT,n?c.f.HIDDEN_PROPERTY_PRESENT:c.f.NO_HIDDEN_PROPERTY_PRESENT)})}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(55),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:generic:ublock:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(e).then(function(e){var n=e.foundAdblocker();return t.getSchema().createResult(n?s.a.UBLOCK:s.a.NOT_PRESENT,n?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({document:e.getAdblockerStyleSheets()}))})}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(78),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:generic:ublock_origin:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(e).then(function(e){var n=e.foundAdblocker();return t.getSchema().createResult(n?s.a.UBLOCK_ORIGIN:s.a.NOT_PRESENT,n?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({document:e.getAdblockerStyleSheets()}))})}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=n(136),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:adblocker:internet_explorer:adblock_plus:custom_property_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.CUSTOM_PROPERTY)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t).foundAdblocker();return this.getSchema().createResult(e?c.a.ADBLOCK_PLUS:c.a.NOT_PRESENT,e?c.f.CUSTOM_PROPERTY_PRESENT:c.f.NO_CUSTOM_PROPERTY_PRESENT)}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(254);n(0).get("detection:adblocker:internet_explorer:adblock_plus:index");e.a=[r.a]},function(t,e,n){"use strict";var r=n(257);n(0).get("detection:adblocker:opera:native:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=n(137),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:adblocker:opera:native:style_property_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.ADBLOCKER,c.c.ARTIFACT,c.c.STYLE_PROPERTY)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return n.i(f.a)(e).then(function(e){var n=e.foundAdblocker();return t.getSchema().createResult(n?c.a.NATIVE:c.a.NOT_PRESENT,n?c.f.STYLE_PROPERTY_PRESENT:c.f.NO_STYLE_PROPERTY_PRESENT)})}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(259);n(0).get("detection:adblocker:safari:adblock:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(10),a=n(3),c=n(4),f=n(138),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:safari:adblock:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new c.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,u.a.fromStyleSheets({document:e.getAdblockerStyleSheets()}))}}]),e}(a.b));e.a=p},function(t,e,n){"use strict";var r=n(261);n(0).get("detection:adblocker:safari:adblock_plus:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(10),f=n(139),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("detection:adblocker:safari:adblock_plus:style_sheet_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new a.a(s.b.ADBLOCKER,s.c.ARTIFACT,s.c.STYLE_SHEET,s.c.HIDING_DATA)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=n.i(f.a)(t),r=e.foundAdblocker();return this.getSchema().createResult(r?s.a.ADBLOCK_PLUS:s.a.NOT_PRESENT,r?s.f.STYLE_SHEET_PRESENT:s.f.NO_STYLE_SHEET_PRESENT,c.a.fromStyleSheets({document:e.getAdblockerStyleSheets()}))}}]),e}(u.b));e.a=p},function(t,e,n){"use strict";var r=n(130),o=n(131),i=n(132),u=n(78),a=n(55),c=(n(0).get("detection:artifact:chrome:index"),[r.a,o.a,i.a,a.a,u.a]);e.a=c},function(t,e,n){"use strict";var r=n(133),o=n(134),i=n(135),u=n(78),a=n(55),c=(n(0).get("detection:artifact:firefox:index"),[r.a,o.a,i.a,a.a,u.a]);e.a=c},function(t,e,n){"use strict";function r(t){var e=t.document;return new i["default"](function(n){"complete"===e.readyState?n(o(e)):t.addEventListener("load",function(){n(o(e))})})}function o(t){var e=n.i(c.a)(t,function(t){return c.b.ONLY_DISPLAY_NONE.test(t.cssText)}),r=1===e.length&&e[0].cssRules.length>100?e:[];return n.i(u.b)(t,a.b.ADBLOCK_PLUS,r)}var i=n(2),u=n(20),a=n(6),c=n(17);e.a=r;n(0).get("detection:artifact:internet_explorer:adblock_plus_1_6")},function(t,e,n){"use strict";var r=n(136),o=n(264),i=(n(0).get("detection:artifact:internet_explorer:index"),[r.a,o.a]);e.a=i},function(t,e,n){"use strict";var r=n(55),o=n(138),i=n(139),u=(n(0).get("detection:artifact:safari:index"),[r.a,o.a,i.a]);e.a=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return t+"/"+e}var a=n(3),c=n(4),f=n(81),s=n(1),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(0).get("detection:fsm:ajax_data_test"),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"getSchema",value:function(){return new c.a(s.b.GENERIC_ADBLOCKER,s.b.FSM_DATA,s.c.NETWORK,s.c.INFERENCE,s.c.AJAX,s.c.FSM)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&r?(p.info("loading fsm data",e,r),n.i(f.a)(u(e,r)).then(function(e){return t.getSchema().createResult(e.blocked?s.a.PRESENT:s.a.NOT_PRESENT,e.reasonAttribute,e.infoAttributes,e.xhrData,new s.x(r))})):(p.error("cannot load fsm data",e,r),this.getSchema().createResult(s.a.NOT_PRESENT,s.f.CANNOT_TEST))}}]),e}(a.b);e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var r=document.createElement(O[n.i(g.a)(0,O.length)]);r.className=n.i(g.b)(),document.body.appendChild(r);var o=document.createElement("style");return document.head.appendChild(o),o.innerHTML="\n        "+r.nodeName.toLowerCase()+"."+r.className+" {\n            position: absolute !important;\n            top: -9999px !important;\n            left: -9999px !important;\n        }\n    ",d["default"].all(a(o,r,t,e)).then(function(t){r.parentElement&&document.body.removeChild(r),o.parentElement&&document.head.removeChild(o);var e=t.reduce(function(t,e){return t.addAttribute(e.attributes)});return e.has(v.a.PRESENT)?e.removeAttribute(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST):e})}function a(t,e,r,o){var i=!1;return o.map(function(o){var u=document.createElement(O[n.i(g.a)(0,O.length)]);u.className=n.i(g.b)(),e.appendChild(u);var a=void 0;try{a=n.i(y.a)(o)}catch(t){return E.warn("broken rule",o),r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST,new v.u(o))}var f=u.nodeName.toLowerCase()+"."+u.className+" > "+o,s="\n            "+f+" {\n                display: block;\n                height: 5px !important;\n                width: 5px !important;\n            }\n        ";return null==t.sheet||"function"!=typeof t.sheet.insertRule?t.innerHTML+=s:t.sheet.insertRule(s,0),a.forEach(function(t){u.appendChild(t)}),c().then(function(){return new d["default"](function(t){var e=document.querySelector(f);if(!e)return void t(r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST,new v.v(o)));if(n.i(_.elementIsCollapsed)(e)){E.debug("hiding rule",o);var u=void 0;i||(i=!0,u=p.a.fromElement(e,o)),t(r.createResult(v.a.PRESENT,v.f.HIDE_MATCHING_BLACKLIST,u,new v.w(o)))}else t(r.createResult(v.a.NOT_PRESENT,v.f.NO_MATCHING_BLACKLIST))})}).then(function(t){return u.parentElement&&e.removeChild(u),t})})}function c(){return new d["default"](function(t){setTimeout(function(){setTimeout(function(){t()},150)},1)})}var f=n(21),s=n.n(f),l=n(4),p=n(10),h=n(56),d=n(2),_=n(16),y=(n.n(_),n(148)),b=n(45),v=n(1),g=n(22),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=n(0).get("detection:fsm:element_hiding_test"),O=["div","span","li","section"],w=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),m(e,null,[{key:"getSchema",value:function(){return new l.a(v.b.GENERIC_ADBLOCKER,v.c.INFERENCE,v.c.FSM,v.c.ELEMENT,v.c.HIDING,v.c.HIDING_DATA)}},{key:"testMethod",value:function(t){var e=s()(this.getFSMData(t,b.d));return 0===e.length?(E.debug("no hiding rules"),this.getSchema().createResult(v.a.NOT_PRESENT,v.f.NO_ELEMENT_HIDING_RULES)):u(this.getSchema(),e)}}]),e}(h.a);e.a=w},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(56),a=n(141),c=n(45),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0).get("detection:fsm:image_network_test"),p=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return a.a.getSchema().addAttribute(f.c.FSM)}},{key:"testMethod",value:function(t){var e=this.getFSMData(t,c.b).pop(),n=e&&e.img;return l.debug("fsm image network url",n),null==n?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.CANNOT_TEST):a.a.testMethod.call(this,n+"?cb="+Date.now())}}]),e}(u.a);e.a=p},function(t,e,n){"use strict";function r(){if(!f["default"].get(["detection","fsm","enable"]))return[];var t=o.a.bindArgs(f["default"].get(["detection","fsm","endpoint"]),document.domain);return f["default"].get(["detection","fsm","enableNetwork"])?[t,i.a,a.a,u.a,c.a]:[t,i.a]}var o=n(267),i=n(268),u=n(269),a=n(272),c=n(274),f=n(5);e.a=r;n(0).get("detection:fsm:index")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0).get("detection:fsm:network_blocker_list"),function(){function t(e,n,o,i){r(this,t),this._name=e,this._domain=n||"",this._blacklistRules=o,this._whitelistRules=i}return o(t,[{key:"getName",value:function(){return this._name}},{key:"allMatchingBlacklistRules",value:function(t,e){return this._allMatchingRules(this._blacklistRules,t,e)}},{key:"allMatchingWhitelistRules",value:function(t,e){return this._allMatchingRules(this._whitelistRules,t,e)}},{key:"_allMatchingRules",value:function(t,e,n){var r=this;return t.reduce(function(t,o){var i=e.filter(function(t){return o.test(t.src,{tagName:t.tagName,domain:r._domain})}),a=n.filter(function(t){return o.test(t.src,{tagName:t.tagName,domain:r._domain})});return 0===i.length&&0===a.length?t:t.concat(new u(o,i,a))},[])}}]),t}());e.a=i;var u=function t(e,n,o){r(this,t),this.rule=e,this.loadEvents=n,this.errorEvents=o}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,o){var i=n.i(g.a)(window._sp_._networkListenerData);if(null==i)return t.createResult(E.a.NOT_PRESENT,E.f.NO_NETWORK_LISTENER_DATA);var u=i.loadEvents,a=i.errorEvents;S.debug("fsm load/error events",u,a);var f=e.reduce(function(t,e){var n,o,i=p()(t,function(t){return t.listName===e.listName});return-1===i?(t.push(e),t):((n=t[i].blacklist).push.apply(n,r(e.blacklist)),(o=t[i].whitelist).push.apply(o,r(e.whitelist)),t)},[]),l=f.map(function(t){return new b.a(t.listName,document.domain,t.blacklist.map(function(t){return new O.a(t)}),t.whitelist.map(function(t){return new O.b(t)}))});if(0===l.length)return t.createResult(E.a.NOT_PRESENT,E.f.NO_NETWORK_BLOCKING_RULES);var h=u.map(function(t){return new w.a(c(t.src,o.location.protocol),t.tagName)}),d=a.map(function(t){return new w.b(c(t.src,o.location.protocol),t.tagName)});return l.reduce(function(t,e){var n=e.allMatchingBlacklistRules(h,d),r=e.allMatchingWhitelistRules(h,d),o=n.some(function(t){return t.loadEvents.length>0}),i=n.some(function(t){return t.errorEvents.length>0}),u=r.some(function(t){return t.loadEvents.length>0}),a=r.some(function(t){return t.errorEvents.length>0}),c=new E.p(e.getName(),n.map(function(t){return new E.q(t.rule.toString(),t.loadEvents.map(function(t){return new E.r(t.src,t.tagName)}),t.errorEvents.map(function(t){return new E.s(t.src,t.tagName)}))}),r.map(function(t){return new E.t(t.rule.toString(),t.loadEvents.map(function(t){return new E.r(t.src,t.tagName)}),t.errorEvents.map(function(t){return new E.s(t.src,t.tagName)}))}));if(S.debug("blacklist load",o),S.debug("blacklist error",i),S.debug("whitelist load",u),S.debug("whitelist error",a),S.debug(c),t.has(E.a.PRESENT))return o||i||u||a?t.addAttribute(c):t;if(i&&!o)return t.addAttribute(E.a.PRESENT,E.f.ERROR_MATCHING_BLACKLIST,c).removeAttribute(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST);if(i&&o){var f=s()(n.map(function(t){return t.loadEvents})),p=f.every(function(t){return l.some(function(e){return e.allMatchingWhitelistRules([t],[]).length>0})});return S.debug("all loads matching whitelist",p),p?t.addAttribute(E.a.PRESENT,E.f.ERROR_MATCHING_BLACKLIST,E.f.LOAD_MATCHING_WHITELIST,c).removeAttribute(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST):t.addAttribute(E.f.LOAD_MATCHING_BLACKLIST,c).removeAttribute(E.f.NO_MATCHING_BLACKLIST)}return!i&&o?t.addAttribute(E.f.LOAD_MATCHING_BLACKLIST,c).removeAttribute(E.f.NO_MATCHING_BLACKLIST):u||a?t.addAttribute(c):t},t.createResult(E.a.NOT_PRESENT,E.f.NO_MATCHING_BLACKLIST))}function c(t,e){return 0===t.indexOf("//")?e+t:t}var f=n(19),s=n.n(f),l=n(122),p=n.n(l),h=n(21),d=n.n(h),_=n(4),y=n(56),b=n(271),v=n(2),g=n(311),m=n(45),E=n(1),O=n(273),w=n(150),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=n(0).get("detection:fsm:network_listener_test"),R=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),T(e,null,[{key:"getSchema",value:function(){return new _.a(E.b.GENERIC_ADBLOCKER,E.c.FSM,E.c.NETWORK_LISTENER,E.c.INFERENCE)}},{key:"testMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=d()(this.getFSMData(t,m.c));return S.debug("fsm network rules",r),new v["default"](function(t){"complete"===n.document.readyState?t(a(e.getSchema(),r,n)):n.addEventListener("load",function(){t(a(e.getSchema(),r,n))})})}}]),e}(y.a);e.a=R},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return new RegExp(t.replace(/\*+/g,"*").replace(/\^\|$/,"^").replace(/\W/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\^/g,"(?:[\\x00-\\x24\\x26-\\x2C\\x2F\\x3A-\\x40\\x5B-\\x5E\\x60\\x7B-\\x7F]|$)").replace(/^\\\|\\\|/,"^[\\w\\-]+:\\/+(?!\\/)(?:[^\\/]+\\.)?").replace(/^\\\|/,"^").replace(/\\\|$/,"$").replace(/^(\.\*)/,"").replace(/(\.\*)$/,""))}function a(t){return t.split(",").map(function(t){if(0===t.indexOf("domain=")){var e=t.slice("domain=".length);return new P("domain",e.split("|").map(s))}var n=t.indexOf("third-party");return 0===n||1===n?f(t):c(t)})}function c(t){return l(t,T)}function f(t){return l(t,S)}function s(t){return l(t,R)}function l(t,e){var n=t.match(/(~)?(.*)/);return null==n?new e(t):new e(n[2],"~"===n[1])}function p(t,e,n){if(0===t.length)return!0;var r=t.filter(function(t){return t instanceof O&&!t.not}),o=t.filter(function(t){return t instanceof E&&!t.not}),i=t.filter(function(t){return t.not});return!o.some(function(t){return!t.test(e,n)})&&(!(r.length>0&&r.every(function(t){return!t.test(e,n)}))&&!i.some(function(t){return t.test(e,n)}))}var h=n(153),d=n.n(h),_=n(28);n.d(e,"a",function(){return v}),n.d(e,"b",function(){return g});var y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=(n(0).get("detection:fsm:network_rule"),function(){function t(e){i(this,t);var n=e.indexOf("$"),r=e,o=[];n>-1&&(o=a(e.slice(n+1)),r=e.slice(0,n)),this._ruleStr=e,this.regExp=u(r),this.options=o}return y(t,[{key:"toString",value:function(){return this._ruleStr}},{key:"test",value:function(t,e){return this.regExp.test(t)&&this._testOptions(t,e)}},{key:"_testOptions",value:function(t,e){return p(this.options,t,e)}}]),t}()),v=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(b),g=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(b),m=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,t),this.name=e,this.not=n},E=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(m),O=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),e}(m),w={img:"image",iframe:"subdocument"},T=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"test",value:function(t,e){var n=e.tagName,r=w[n]||n;return this.name===r}}]),e}(O),S=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"test",value:function(t,e){var n=new _.a(t),r=n.hostname;if(r.indexOf(e.domain)>-1)return!1;var o=r.split("."),i=e.domain.split(".");if(d()(o)!==d()(i))return!0;if("co"===o[o.length-2]&&"uk"===d()(o)){if("co"!==i[i.length-2]||"uk"!==d()(i))return!0;o.pop(),i.pop()}return o.pop(),i.pop(),d()(o)!==d()(i)}}]),e}(E),R=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"test",value:function(t,e){return e.domain.indexOf(this.name)>-1}}]),e}(O),P=function(t){function e(t,n){i(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.domains=n,o}return o(e,t),y(e,[{key:"test",value:function(t,e){return p(this.domains,t,e)}}]),e}(E)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(56),a=n(142),c=n(45),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0).get("detection:fsm:script_network_test"),p=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return a.a.getSchema().addAttribute(f.c.FSM)}},{key:"findDependency",value:function(t){return t.has(f.b.FSM_DATA)}},{key:"testMethod",value:function(t){var e=this.getFSMData(t,c.b).pop(),n=e&&e.script;return l.debug("fsm script network url",n),null==n?this.getSchema().createResult(f.a.NOT_PRESENT,f.f.CANNOT_TEST):a.a.testMethod.call(this,n)}}]),e}(u.a);e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(276),a=n(140),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},s=(n(0).get("detection:generic_adblocker:image_hiding_fastly_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),c(e,null,[{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return f(e.__proto__||Object.getPrototypeOf(e),"testMethod",this).call(this,t,n.i(a.a)())}}]),e}(u.a));e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,r){return new f["default"](function(o){function i(){function i(){u(),window.clearInterval(f)}var c=0;a.style.display="block",d.debug("first client height",a.clientHeight);var f=e.setInterval(function(){var e=n.i(l.elementIsCollapsed)(a),u=new p.g(r),f=new p.y(a.clientHeight);e?(i(),o(t.createResult(p.a.PRESENT,p.f.ELEMENT_HIDDEN,p.f.LOAD_BLOCK,u,f))):10==++c&&(i(),o(t.createResult(p.a.NOT_PRESENT,p.f.NO_ELEMENT_HIDDEN,p.f.LOAD_BLOCK,u,f)))},100)}function u(){a.parentElement&&e.document.body.removeChild(a)}if("complete"===e.document.readyState)return void o(t.createResult(p.a.NOT_PRESENT,p.f.CANNOT_TEST));var a=new e.Image;a.style.setProperty("display","block"),a.style.setProperty("position","absolute","important"),a.style.setProperty("top","-9999px","important"),a.style.setProperty("height","5px","important"),a.style.setProperty("min-height","5px","important"),a.style.setProperty("width","5px","important"),a.style.setProperty("min-width","5px","important"),a.addEventListener("load",function(){u(),o(t.createResult(p.a.NOT_PRESENT,p.f.NO_LOAD_BLOCK,new p.g(r)))}),a.addEventListener("error",function(){i()}),a.src=r,e.document.body.appendChild(a)})}var a=n(3),c=n(4),f=n(2),s=n(127),l=n(16),p=(n.n(l),n(1)),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=n(0).get("detection:generic_adblocker:image_hiding_test"),_=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),h(e,null,[{key:"getSchema",value:function(){return new c.a(p.b.GENERIC_ADBLOCKER,p.c.HIDING,p.c.IMAGE,p.c.INFERENCE)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.i(s.a)();return u(this.getSchema(),t,e)}}]),e}(a.b);e.a=_},function(t,e,n){"use strict";var r=n(100),o=n(275);n(0).get("detection:generic_adblocker:index");e.a=[r.a,o.a]},function(t,e,n){"use strict";var r=n(140),o=n(279);n(0).get("detection:interference:index");e.a=[r.b,o.a]},function(t,e,n){"use strict";var r=n(142),o=(n(0).get("detection:interference:script_network_fastly_test"),["/","/","0","9","1","4",".","g","l","o","b","a","l",".","s","s","l",".","f","a","s","t","l","y",".","n","e","t","/","a","d","2","/","s","c","r","i","p","t","/","x",".","j","s"].join(""));e.a=r.a.bindArgs(o)},function(t,e,n){"use strict";var r=n(281);n(0).get("detection:private:chrome:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(2),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:private:chrome:request_file_system_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(f.b.PRIVATE,f.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new c["default"](function(n){e.webkitRequestFileSystem?e.webkitRequestFileSystem(window.TEMPORARY,1,function(){n(t.getSchema().createResult(f.a.NOT_PRESENT,f.f.REQUEST_FILE_SYSTEM_SUCCESS))},function(e){n("SecurityError"===e.name?t.getSchema().createResult(f.a.PRESENT,f.f.REQUEST_FILE_SYSTEM_ERROR,new f.j(e.name)):t.getSchema().createResult(f.a.NOT_PRESENT,f.f.REQUEST_FILE_SYSTEM_ERROR,new f.j(e.name)))}):n(t.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_REQUEST_FILE_SYSTEM))})}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(283);n(0).get("detection:private:firefox:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(2),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:private:firefox:indexed_db_open_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(f.b.PRIVATE,f.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new c["default"](function(n){if(e.indexedDB){var r=e.indexedDB.open("test");r.onsuccess=function(){n(t.getSchema().createResult(f.a.NOT_PRESENT,f.f.INDEXED_DB_OPEN_SUCCESS))},r.onerror=function(){n(t.getSchema().createResult(f.a.PRESENT,f.f.INDEXED_DB_OPEN_ERROR))}}else n(t.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_INDEXED_DB))})}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(285);n(0).get("detection:private:internet_explorer:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("detection:private:internet_explorer:indexed_db_exists_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),f(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.PRIVATE,c.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).indexedDB?this.getSchema().createResult(c.a.NOT_PRESENT,c.f.INDEXED_DB_EXISTS):this.getSchema().createResult(c.a.PRESENT,c.f.NO_INDEXED_DB)}}]),e}(u.b));e.a=s},function(t,e,n){"use strict";var r=n(287);n(0).get("detection:private:safari:index");e.a=[r.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("detection:private:safari:local_storage_set_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),f(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.PRIVATE,c.c.FEATURE_ACCESS)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(!t.localStorage)return this.getSchema().createResult(c.a.NOT_PRESENT,c.f.NO_LOCAL_STORAGE);try{return t.localStorage.setItem("sp","1"),t.localStorage.removeItem("sp"),this.getSchema().createResult(c.a.NOT_PRESENT,c.f.LOCAL_STORAGE_SET_SUCCESS)}catch(t){return"QuotaExceededError"===t.name?this.getSchema().createResult(c.a.PRESENT,c.f.LOCAL_STORAGE_SET_ERROR,new c.j(t.name)):this.getSchema().createResult(c.a.NOT_PRESENT,c.f.LOCAL_STORAGE_SET_ERROR,new c.j(t.name))}}}]),e}(u.b));e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){return new c["default"](function(t){window.setTimeout(function(){t()},500)})}var a=n(149),c=n(2),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)};n(0).get("detection:rerun_test_mixin");e.a=new a.a(function(t){return function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"testMethod",value:function(){for(var t=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(n){return n.has(f.a.NOT_PRESENT)?n:u().then(function(){return l(e.__proto__||Object.getPrototypeOf(e),"testMethod",t).apply(t,r)})};return c["default"].resolve(l(e.__proto__||Object.getPrototypeOf(e),"testMethod",this).apply(this,r)).then(function(t){return i(t)}).then(function(t){return i(t)})}}]),e}(t)})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(14),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:stand_down:bot_ua_test"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,null,[{key:"getSchema",value:function(){return new a.a(f.b.STAND_DOWN,f.c.USER_AGENT,f.c.BOT)}},{key:"testMethod",value:function(){return c.a.googlebot()?this.getSchema().createResult(f.a.PRESENT,f.f.GOOGLE_BOT_USER_AGENT):c.a.googleweblight()?this.getSchema().createResult(f.a.PRESENT,f.f.GOOGLE_WEB_LIGHT_USER_AGENT):c.a.bingbot()?this.getSchema().createResult(f.a.PRESENT,f.f.BING_BOT_USER_AGENT):c.a.exabot()?this.getSchema().createResult(f.a.PRESENT,f.f.EXA_BOT_USER_AGENT):this.getSchema().createResult(f.a.NOT_PRESENT,f.f.NO_BOT_USER_AGENT)}}]),e}(u.b));e.a=l},function(t,e,n){"use strict";var r=n(289),o=n(291);n(0).get("detection:stand_down:index");e.a=[r.a,o.a]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(3),a=n(4),c=n(1),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("detection:stand_down:proxy_host_test"),["w","e","b","c","a","c","h","e",".","g","o","o","g","l","e","u","s","e","r","c","o","n","t","e","n","t",".","c","o","m"].join("")),l=["o","p","t","i","m","i","z","e","l","y","p","r","e","v","i","e","w",".","c","o","m"].join(""),p=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),f(e,null,[{key:"getSchema",value:function(){return new a.a(c.b.STAND_DOWN,c.c.PROXY_HOST)}},{key:"testMethod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return t===s?this.getSchema().createResult(c.a.PRESENT,c.f.GOOGLE_WEBCACHE_PROXY_HOST):t.indexOf(l)>-1?this.getSchema().createResult(c.a.PRESENT,c.f.OPTIMIZELY_PREVIEW_PROXY_HOST):this.getSchema().createResult(c.a.NOT_PRESENT,c.f.NO_PROXY_HOST)}}]),e}(u.b);e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(52),a=n.n(u),c=n(145),f=n(144),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:test_result:index"),["types","tests","reasons","results"]),p=function(t){function e(){var t;r(this,e);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];var c=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),s=n.i(f.a)(c.attributes);return l.forEach(function(t){if(0===s[t].length)throw new Error("did not provide attribute type: "+t)}),c}return i(e,t),s(e,[{key:"toString",value:function(){var t=n.i(f.a)(this.attributes);return l.concat("info").filter(function(e){return t[e].length>0}).map(function(e){return t[e].slice().sort().join(",")}).join("::")}},{key:"addAttribute",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat([this.attributes],n)))}},{key:"removeAttribute",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=new(Function.prototype.bind.apply(c.a,[null].concat(n)));return new e(this.attributes.filter(function(t){return!o.attributes.some(function(e){return e.is(t)})}))}},{key:"getData",value:function(t){var e=a()(this.attributes,function(e){return e instanceof t});return e?e.getValue():null}}]),e}(c.a);e.a=p},function(t,e,n){"use strict";function r(t){return t.some(function(t){return!t.has(o.a.NOT_PRESENT)&&!t.has(o.c.FSM)})}var o=n(1);e.a=r;n(0).get("detection:test_result:util")},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(21),i=n.n(o),u=n(3),a=n(2),c=n(288),f=n(1),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("detection:test_runner"),function(){function t(){r(this,t);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];this._tests=i()(n).map(function(t){return t.has(f.c.NETWORK)?c.a.to(t):t}).map(function(t){return new t}),this._running=!1}return s(t,[{key:"run",value:function(){var t=this;if(this._running)throw new Error("already running");this._running=!0,this._tests.forEach(function(e){if(e instanceof u.a){var n=e,r=t._tests.filter(function(t){return t!==n&&n.constructor.findDependency(t.constructor)});a["default"].all(r.map(function(t){return t.waitForResult()})).then(function(t){return e.run(t)})}else e.run()})}},{key:"waitForResultsWhere",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return a["default"].all(this._getTestResultsWhere(t))}},{key:"someResultPresentWhere",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return new a["default"](function(n){var r=!1,o=0,i=t._getTestResultsWhere(e);i.forEach(function(t){t.then(function(t){if(!r){if(o++,!t.has(f.a.NOT_PRESENT))return r=!0,void n(!0);o===i.length&&(r=!0,n(!1))}})})})}},{key:"_getTestResultsWhere",value:function(t){return this._tests.filter(function(e){return t(e.constructor)}).map(function(t){return t.waitForResult()})}}]),t}());e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return t.consumeCharacters("]"),new s(e)}var a=n(24),c=n(39);e.a=u;var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:any_value_consumer"),function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n.i(c.a)().join(" ")))}return i(e,t),f(e,[{key:"applyToElement",value:function(t){t.setAttribute(this.key,t.hasAttribute(this.key)?t.getAttribute(this.key)||"":this.value)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){t.consumeCharacters("*=");var r=t.consumeRegex(l.f),o=n.i(f.a)(r);return new h(e,o)}var a=n(24),c=n(39),f=n(40),s=n(22),l=n(7);e.a=u;var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:contains_value_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"applyToElement",value:function(t){if(t.hasAttribute(this.key)){var e=(t.getAttribute(this.key)||"").split(" ");e.splice(n.i(s.a)(0,e.length),0,this.value),t.setAttribute(this.key,e.join(" "))}else{var r=n.i(c.a)().join(" "),o=n.i(s.a)(0,r.length);t.setAttribute(this.key,r.slice(0,o)+this.value+r.slice(o))}}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){t.consumeCharacters("$=");var r=t.consumeRegex(s.f),o=n.i(f.a)(r);return new p(e,o)}var a=n(24),c=n(39),f=n(40),s=n(7);e.a=u;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:ends_with_value_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"applyToElement",value:function(t){var e=t.hasAttribute(this.key)?t.getAttribute(this.key)||"":n.i(c.a)().join(" ");t.setAttribute(this.key,e+" "+this.value)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){t.consumeCharacters("=");var r=t.consumeRegex(f.f),o=n.i(c.a)(r);return new l(e,o)}var a=n(24),c=n(40),f=n(7);e.a=u;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:equals_value_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"applyToElement",value:function(t){t.setAttribute(this.key,this.value)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){t.consumeCharacters("~=");var r=t.consumeRegex(l.f),o=n.i(f.a)(r);return new h(e,o)}var a=n(24),c=n(39),f=n(40),s=n(22),l=n(7);e.a=u;var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:equals_word_value_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),p(e,[{key:"applyToElement",value:function(t){var e=t.hasAttribute(this.key)?(t.getAttribute(this.key)||"").split(" "):n.i(c.a)(),r=n.i(s.a)(0,e.length);e.splice(r,0,this.value),t.setAttribute(this.key,e.join(" "))}}]),e}(a.a))},function(t,e,n){"use strict";function r(t){t.consumeCharacters("[");var e=t.consumeRegex(s.b);if(p.indexOf(e)>-1)throw n.i(l.d)(t.getSelector());var r=t.lookAheadRegex(s.e),o=h[r];if(!o)throw n.i(l.a)(t.getSelector());return o(t,e)}var o=n(295),i=n(296),u=n(298),a=n(297),c=n(301),f=n(299),s=n(7),l=n(42);e.a=r;var p=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:index"),["src"]),h={"=":u.a,"~=":f.a,"^=":c.a,"$=":a.a,"*=":i.a,"]":o.a}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){t.consumeCharacters("^=");var r=t.consumeRegex(s.f),o=n.i(f.a)(r);return new p(e,o)}var a=n(24),c=n(39),f=n(40),s=n(7);e.a=u;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("util:get_elements_from_selector:consumers:attribute_consumer:starts_with_value_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"applyToElement",value:function(t){var e=t.hasAttribute(this.key)?t.getAttribute(this.key)||"":n.i(c.a)().join(" ");t.setAttribute(this.key,this.value+" "+e)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeRegex(f.k),new l(n.i(c.a)(t))}var a=n(58),c=n(41),f=n(7);e.a=u;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("util:get_elements_from_selector:consumers:child_element_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"applyToElementRecord",value:function(t){t.appendChildElementRecord(this.elementRecord)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeCharacters("."),new s(t.consumeRegex(c.b))}var a=n(84),c=n(7);e.a=u;var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("util:get_elements_from_selector:consumers:class_name_consumer"),function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._className=t,n}return i(e,t),f(e,[{key:"applyToElement",value:function(t){t.className=t.className?t.className+" "+this._className:this._className}}]),e}(a.a))},function(t,e,n){"use strict";function r(t){throw t.consumeCharacters(":"),n.i(o.c)(t.getSelector())}var o=n(42);e.a=r;n(0).get("util:get_elements_from_selector:consumers:custom_selector_method_consumer")},function(t,e,n){"use strict";function r(t){var e=new f.a,r=n.i(c.a)(t);e.appendChildElementRecord(r);for(var o=r;!t.isDone();){var i=t.lookAheadRegex(s.a);if(""===i)throw n.i(l.a)(t.getSelector());var u=p[i.trim()];if(!u)throw n.i(l.a)(t.getSelector());var a=u(t);a.applyToElementRecord(o),o=a.getElementRecord()}return e}var o=n(302),i=n(306),u=n(307),a=n(309),c=n(41),f=n(85),s=n(7),l=n(42);e.a=r;var p=(n(0).get("util:get_elements_from_selector:consumers:element_hierarchy_consumer"),{">":o.a,"":i.a,"+":a.a,"~":u.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeRegex(s.j),new p(n.i(c.a)(t))}var a=n(58),c=n(41),f=n(147),s=n(7);e.a=u;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("util:get_elements_from_selector:consumers:grand_child_element_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"applyToElementRecord",value:function(t){var e=n.i(f.a)();e.push(this.elementRecord),e.forEach(function(t,n){n>0&&e[n-1].appendChildElementRecord(t)}),t.appendChildElementRecord(e[0])}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeRegex(s.h),new p(n.i(c.a)(t))}var a=n(58),c=n(41),f=n(147),s=n(7);e.a=u;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=(n(0).get("util:get_elements_from_selector:consumers:grand_sibling_element_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"applyToElementRecord",value:function(t){var e=t.getParentElementRecord(),r=n.i(f.a)();r.push(this.elementRecord),r.forEach(function(t){e.appendChildElementRecord(t)})}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeCharacters("#"),new s(t.consumeRegex(c.b))}var a=n(84),c=n(7);e.a=u;var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=(n(0).get("util:get_elements_from_selector:consumers:id_consumer"),function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._id=t,n}return i(e,t),f(e,[{key:"applyToElement",value:function(t){t.id=this._id}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.consumeRegex(f.i),new l(n.i(c.a)(t))}var a=n(58),c=n(41),f=n(7);e.a=u;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=(n(0).get("util:get_elements_from_selector:consumers:sibling_element_consumer"),function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),s(e,[{key:"applyToElementRecord",value:function(t){t.getParentElementRecord().appendChildElementRecord(this.elementRecord)}}]),e}(a.a))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(42),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(n(0).get("util:get_elements_from_selector:selector_reader"),function(){function t(e){r(this,t),this._selector=e,this._index=0}return i(t,[{key:"lookAheadRegex",value:function(){var t=this._getCharsWithRegex.apply(this,arguments);return this._validateNoSkippedChars(t),t}},{key:"consumeRegex",value:function(){var t=this._getCharsWithRegex.apply(this,arguments);return this._validateConsumed(t),this._advanceReader(t.length),t}},{key:"consumeCharacters",value:function(t){return this._validateConsumed(t),this._advanceReader(t.length),t}},{key:"getSelector",value:function(){return this._selector}},{key:"isDone",value:function(){return this._index>=this._selector.length}},{key:"_getCharsWithRegex",value:function(){for(var t=this._getRemainingCharacters(),e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.reduce(function(e,n){return e||n.exec(t)},null);return o?o[0]:""}},{key:"_getRemainingCharacters",value:function(){return this._selector.slice(this._index)}},{key:"_advanceReader",value:function(t){this._index+=t}},{key:"_validateConsumed",value:function(t){if(0===t.length)throw n.i(o.a)(this.getSelector());this._validateNoSkippedChars(t)}},{key:"_validateNoSkippedChars",value:function(t){if(0!==this._getRemainingCharacters().indexOf(t))throw n.i(o.a)(this.getSelector())}}]),t}());e.a=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(150);n(0).get("util:get_network_listener_data");e.a=function(t){return null==t?null:new i(t.load.events.map(function(t){return new o.a(t.src,t.tagName)}),t.error.events.map(function(t){return new o.b(t.src,t.tagName)}))};var i=function t(e,n){r(this,t),this.loadEvents=e,this.errorEvents=n}},function(t,e,n){function r(t){var e=window.document,n=e.addEventListener,r=n?"addEventListener":"attachEvent",o=n?"":"on";window[r](o+"unload",t,!1)}n(0).get("util:unload");t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e){function n(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e,n){function r(t,e){return t&&o(e,i(e),t)}var o=n(18),i=n(27);t.exports=r},function(t,e,n){function r(t,e){return t&&o(e,i(e),t)}var o=n(18),i=n(35);t.exports=r},function(t,e,n){function r(t,e){return t&&o(t,e,i)}var o=n(87),i=n(27);t.exports=r},function(t,e,n){function r(t,e,n,u,a){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:o(t,e,n,u,r,a))}var o=n(321),i=n(38);t.exports=r},function(t,e,n){function r(t,e,n,r,y,v){var g=f(t),m=f(e),E=g?d:c(t),O=m?d:c(e);E=E==h?_:E,O=O==h?_:O;var w=E==_,T=O==_,S=E==O;if(S&&s(t)){if(!s(e))return!1;g=!0,w=!1}if(S&&!w)return v||(v=new o),g||l(t)?i(t,e,n,r,y,v):u(t,e,E,n,r,y,v);if(!(n&p)){var R=w&&b.call(t,"__wrapped__"),P=T&&b.call(e,"__wrapped__");if(R||P){var k=R?t.value():t,j=P?e.value():e;return v||(v=new o),y(k,j,n,r,v)}}return!!S&&(v||(v=new o),a(t,e,n,r,y,v))}var o=n(66),i=n(329),u=n(330),a=n(331),c=n(76),f=n(9),s=n(68),l=n(105),p=1,h="[object Arguments]",d="[object Array]",_="[object Object]",y=Object.prototype,b=y.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:o(t,e,n)}var o=n(151);t.exports=r},function(t,e,n){function r(t,e){return o(t,i(t),e)}var o=n(18),i=n(332);t.exports=r},function(t,e,n){function r(t,e){return o(t,i(t),e)}var o=n(18),i=n(333);t.exports=r},function(t,e,n){function r(t){return function(e){e=a(e);var n=i(e)?u(e):void 0,r=n?n[0]:e.charAt(0),c=n?o(n,1).join(""):e.slice(1);return r[t]()+c}}var o=n(322),i=n(120),u=n(121),a=n(48);t.exports=r},function(t,e,n){function r(t){return function(e){return o(u(i(e).replace(a,"")),t,"")}}var o=n(314),i=n(343),u=n(347),a=RegExp("['’]","g");t.exports=r},function(t,e,n){function r(t){return function(e,n,r){var a=Object(e);if(!i(e)){var c=o(n,3);e=u(e),n=function(t){return c(a[t],t,a)}}var f=t(e,n,r);return f>-1?a[c?e[f]:f]:void 0}}var o=n(32),i=n(47),u=n(27);t.exports=r},function(t,e,n){function r(t,e,n,r){return void 0===t||o(t,i[n])&&!u.call(r,n)?e:t}var o=n(34),i=Object.prototype,u=i.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r,f,s){var l=n&a,p=t.length,h=e.length;if(p!=h&&!(l&&h>p))return!1;var d=s.get(t);if(d&&s.get(e))return d==e;var _=-1,y=!0,b=n&c?new o:void 0;for(s.set(t,e),s.set(e,t);++_<p;){var v=t[_],g=e[_];if(r)var m=l?r(g,v,_,e,t,s):r(v,g,_,t,e,s);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!i(e,function(t,e){if(!u(b,e)&&(v===t||f(v,t,n,r,s)))return b.push(e)})){y=!1;break}}else if(v!==g&&!f(v,g,n,r,s)){y=!1;break}}return s["delete"](t),s["delete"](e),y}var o=n(118),i=n(315),u=n(119),a=1,c=2;t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t,e,n,r,u,c){var f=n&i,s=o(t),l=s.length;if(l!=o(e).length&&!f)return!1;for(var p=l;p--;){var h=s[p];if(!(f?h in e:a.call(e,h)))return!1}var d=c.get(t);if(d&&c.get(e))return d==e;var _=!0;c.set(t,e),c.set(e,t);for(var y=f;++p<l;){h=s[p];var b=t[h],v=e[h];if(r)var g=f?r(v,b,h,e,t,c):r(b,v,h,t,e,c);if(!(void 0===g?b===v||u(b,v,n,r,c):g)){_=!1;break}y||(y="constructor"==h)}if(_&&!y){var m=t.constructor,E=e.constructor;m!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof E&&E instanceof E)&&(_=!1)}return c["delete"](t),c["delete"](e),_}var o=n(152),i=1,u=Object.prototype,a=u.hasOwnProperty;t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e){function n(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&o.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t,e){return e.length<2?t:o(t,i(e,0,-1))}var o=n(69),i=n(151);t.exports=r},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e,n){var r=n(18),o=n(67),i=n(35),u=o(function(t,e,n,o){r(e,i(e),t,o)});t.exports=u},function(t,e,n){function r(t,e){var n;if("function"!=typeof e)throw new TypeError(i);return t=o(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var o=n(124),i="Expected a function";t.exports=r},function(t,e,n){var r=n(342),o=n(326),i=o(function(t,e,n){return e=e.toLowerCase(),t+(n?r(e):e)});t.exports=i},function(t,e,n){function r(t){return i(o(t).toLowerCase())}var o=n(48),i=n(346);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){var r=n(101),o=n(339),i=n(59),u=n(328),a=i(function(t){return t.push(void 0,u),r(o,void 0,t)});t.exports=a},function(t,e,n){function r(t,e){var n={};return e=u(e,3),i(t,function(t,r,i){o(n,e(t,r,i),t)}),n}var o=n(25),i=n(319),u=n(32);t.exports=r},function(t,e,n){var r=n(325),o=r("toUpperCase");t.exports=o},function(t,e,n){function r(t,e,n){return t=u(t),e=n?void 0:e,void 0===e?i(t)?a(t):o(t):t.match(e)||[]}var o=n(316),i=n(334),u=n(48),a=n(338);t.exports=r},,,,,,function(t,e,n){"use strict";function r(){var t=i.a,e=new u["default"](function(e){t=e});return n.i(a.a)("checkState",function(t){e.then(function(e){t(e)})}),t}var o=n(71),i=n.n(o),u=n(2),a=n(11);e.a=r;n(0).get("backwards_compatibility:life_cycle:check_state")},,,function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[],n=[],r=o.bind(null,e),i=o.bind(null,n);return t.addEventListener("load",r,!0),t.addEventListener("error",i,!0),{load:{events:e,listener:r},error:{events:n,listener:i}}}function o(t,e){if(e.target){var n="string"==typeof e.target.tagName?e.target.tagName.toLowerCase():"",r=e.target.src||"";"iframe"!==n&&t.push({tagName:n,src:r})}}e.a=r;n(0).get("util:setup_network_listeners")},,function(t,e){function n(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var u=t[o];e(r,u,n(u),t)}return r}t.exports=n},,function(t,e){function n(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var u=t[o];e(r,u,n(u),t)}return r}t.exports=n},function(t,e){function n(t,e){return null!=t&&o.call(t,e)}var r=Object.prototype,o=r.hasOwnProperty;t.exports=n},,,function(t,e,n){function r(t,e){return function(n,r){var c=a(n)?o:i,f=e?e():{};return c(n,t,u(r,2),f)}}var o=n(358),i=n(360),u=n(32),a=n(9);t.exports=r},function(t,e,n){function r(t){return o(t,i|u)}var o=n(170),i=1,u=4;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}var o=n(69);t.exports=r},function(t,e,n){var r=n(25),o=n(364),i=Object.prototype,u=i.hasOwnProperty,a=o(function(t,e,n){u.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=a},function(t,e,n){function r(t,e){return null!=t&&i(t,e,o)}var o=n(361),i=n(108);t.exports=r},function(t,e,n){function r(t,e,n){return null==t?t:o(t,e,n)}var o=n(107);t.exports=r},function(t,e,n){function r(t,e){return null==t||o(t,e)}var o=n(178);t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(15),a=n(11),c=(n(0).get("detection:is_content_blocker_present_feature"),function(t){function e(t){function i(e){t.isContentBlockerPresent().then(function(t){e(t)})}r(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.i(a.a)("isContentBlockerPresent",i),n.i(a.a)("rerunDetection",function(){t.rerun()}),n.i(a.a)("isAdblocking",i),n.i(a.a)("isAdBlocking",i),u}return i(e,t),e}(u.b));e["default"]=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(0).get("detection");if(n(214)())n(211).mockApi(["checkState","isAdBlocking","pageChange"]);else{var r=function(){if(window._sp_&&window._sp_.config&&window._sp_.config.runImmediately&&n(215)(),window._sp_&&window._sp_.config){var t=n(208)["default"],e=n(207)["default"];window._sp_.config=t(window._sp_.config),e(window._sp_.config)}var r=n(5)["default"];r.init(r.specs.BASE),(0,n(213)["default"])("detection",[n(209)["default"],n(95)["default"],n(400)["default"],n(212)["default"]])};document.getElementById("_sp_override")?r():(0,n(210)["default"])("detection",function(t){if(t)throw new Error("overridden");r()})}}]);

}catch(e){}
}if(typeof initSourcePointLibrary === 'function'){window.initSourcePointLibrary=initSourcePointLibrary};

		         function initMoatTracking(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var i=window.location.protocol,a="https:"===i?"z":"js",r=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var o=[],s={adsManager:e,ids:t,imaSDK:!0,events:[]},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var d,c="_moatApi"+Math.floor(1e8*Math.random());for(d in google.ima.AdEvent.Type){var u=function(t){if(s.sendEvent){for(t=o.length-1;t>=0;t--)e.removeEventListener(o[t].type,o[t].func);s.sendEvent(s.events)}else s.events.push({type:l[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[d],u),o.push({type:google.ima.AdEvent.Type[d],func:u})}}c=void 0!==c?c:"",window[c]=s,n&&n.appendChild(r),r.src=i+"//"+a+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+c}function Visitor(s,w){function y(e){function t(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}for(var n="",a=0,r=e.length;r>a;a++){var o=e[a],s=o[0];(o=o[1])!=i&&o!==u&&(n=t(s,o,n))}return function(e){var t=m.Ba();return(e=e?e+="|":e)+"TS="+t}(n)}if(!s)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="2.0.0";var n=window,l=n.Visitor;l.version=a.version,n.s_c_in||(n.s_c_il=[],n.s_c_in=0),a._c="Visitor",a._il=n.s_c_il,a._in=n.s_c_in,a._il[a._in]=a,n.s_c_in++,a.la={Ja:[]};var v=n.document,i=l.Kb;i||(i=null);var E=l.Lb;E||(E=void 0);var j=l.Ta;j||(j=!0);var k=l.Qa;k||(k=!1),a.ia=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},a.t=function(e,t){var n,i,a="0123456789",r="",s="",l=8,d=10,c=10;if(t===o&&(x.isClientSideMarketingCloudVisitorID=j),1==e){for(a+="ABCDEF",n=0;16>n;n++)i=Math.floor(Math.random()*l),r+=a.substring(i,i+1),i=Math.floor(Math.random()*l),s+=a.substring(i,i+1),l=16;return r+"-"+s}for(n=0;19>n;n++)i=Math.floor(Math.random()*d),r+=a.substring(i,i+1),0==n&&9==i?d=3:(1==n||2==n)&&10!=d&&2>i?d=10:n>2&&(d=10),i=Math.floor(Math.random()*c),s+=a.substring(i,i+1),0==n&&9==i?c=3:(1==n||2==n)&&10!=c&&2>i?c=10:n>2&&(c=10);return r+s},a.Wa=function(){var e;if(!e&&n.location&&(e=n.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),i=t.length-1,a=i-1;if(i>1&&2>=t[i].length&&(2==t[i-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[i]+","))&&a--,a>0)for(e="";i>=a;)e=t[i]+(e?".":"")+e,i--}return e},a.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+v.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},a.cookieWrite=function(e,t,n){var i,t=""+t,r=(r=a.cookieLifetime)?(""+r).toUpperCase():"";return n&&"SESSION"!=r&&"NONE"!=r?(i=""!=t?parseInt(r||0,10):-60)?(n=new Date).setTime(n.getTime()+1e3*i):1==n&&(n=new Date,i=n.getYear(),n.setYear(i+2+(1900>i?1900:0))):n=0,e&&"NONE"!=r?(v.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(e)==t):0},a.h=i,a.z=function(e,t){try{"function"==typeof e?e.apply(n,t):e[1].apply(e[0],t)}catch(e){}},a.L=function(e,t){t&&(a.h==i&&(a.h={}),a.h[e]==E&&(a.h[e]=[]),a.h[e].push(t))},a.s=function(e,t){if(a.h!=i){var n=a.h[e];if(n)for(;0<n.length;)a.z(n.shift(),t)}},a.w=function(e,t,n,i){if(n=encodeURIComponent(t)+"="+encodeURIComponent(n),t=m.Bb(e),-1===(e=m.sb(e)).indexOf("?"))return e+"?"+n+t;var a=e.split("?");return(e=a[0]+"?")+(i=m.fb(a[1],n,i))+t},a.Va=function(e,t){var n=RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);return n&&n.length?decodeURIComponent(n[1]):void 0},a.bb=function(){var e=i,t=n.location.href;try{var r=a.Va(t,p.aa);if(r)for(var e={},o=r.split("|"),t=0,s=o.length;s>t;t++){var l=o[t].split("=");e[l[0]]=decodeURIComponent(l[1])}return e}catch(e){}},a.ea=function(){var e=a.bb();if(e&&e.TS&&!(Math.floor((m.Ba()-e.TS)/60)>p.Oa||e[I]!==s)){var n=e[o],i=a.setMarketingCloudVisitorID;n&&n.match(p.v)&&i(n),a.j(t,-1),e=e[r],n=a.setAnalyticsVisitorID,e&&e.match(p.v)&&n(e)}},a.ab=function(e){function t(e){m.Ea(e)&&a.setCustomerIDs(e)}function n(e){e=e||{},a._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",a._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},a._supplementalDataIDLast=e.supplementalDataIDLast||"",a._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}if(e)try{if((e=m.Ea(e)?e:m.Cb(e))[a.marketingCloudOrgID]){var i=e[a.marketingCloudOrgID];t(i.customerIDs),n(i.sdid)}}catch(e){throw Error("`serverState` has an invalid format.")}},a.l=i,a.Ya=function(e,t,n,i){t=a.w(t,"d_fieldgroup",e,1),i.url=a.w(i.url,"d_fieldgroup",e,1),i.m=a.w(i.m,"d_fieldgroup",e,1),x.d[e]=j,i===Object(i)&&i.m&&"XMLHttpRequest"===a.na.F.G?a.na.ob(i,n,e):a.useCORSOnly||a.Za(e,t,n)},a.Za=function(e,t,n){var r,o=0,s=0;if(t&&v){for(r=0;!o&&2>r;){try{o=(o=v.getElementsByTagName(r>0?"HEAD":"head"))&&0<o.length?o[0]:0}catch(e){o=0}r++}if(!o)try{v.body&&(o=v.body)}catch(e){o=0}if(o)for(r=0;!s&&2>r;){try{s=v.createElement(r>0?"SCRIPT":"script")}catch(e){s=0}r++}}t&&o&&s?(s.type="text/javascript",s.src=t,o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),o=a.loadTimeout,q.d[e]={requestStart:q.p(),url:t,va:o,ta:q.Aa(),ua:0},n&&(a.l==i&&(a.l={}),a.l[e]=setTimeout(function(){n(j)},o)),a.la.Ja.push(t)):n&&n()},a.Ua=function(e){a.l!=i&&a.l[e]&&(clearTimeout(a.l[e]),a.l[e]=0)},a.ja=k,a.ka=k,a.isAllowed=function(){return!a.ja&&(a.ja=j,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a.ka=j),a.ka},a.b=i,a.c=i;var F=l.bc;F||(F="MC");var o=l.ic;o||(o="MCMID");var I=l.fc;I||(I="MCORGID");var G=l.cc;G||(G="MCCIDH");var L=l.gc;L||(L="MCSYNCS");var J=l.hc;J||(J="MCSYNCSOP");var K=l.dc;K||(K="MCIDTS");var B=l.ec;B||(B="MCOPTOUT");var D=l.$b;D||(D="A");var r=l.Xb;r||(r="MCAID");var C=l.ac;C||(C="AAM");var A=l.Zb;A||(A="MCAAMLH");var t=l.Yb;t||(t="MCAAMB");var u=l.jc;u||(u="NONE"),a.M=0,a.ha=function(){if(!a.M){var e=a.version;a.audienceManagerServer&&(e+="|"+a.audienceManagerServer),a.audienceManagerServerSecure&&(e+="|"+a.audienceManagerServerSecure),a.M=a.ia(e)}return a.M},a.ma=k,a.f=function(){if(!a.ma){a.ma=j;var e,t,n,o,s=a.ha(),l=k,d=a.cookieRead(a.cookieName),c=new Date;if(a.b==i&&(a.b={}),d&&"T"!=d)for((d=d.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(d[0],10)!=s&&(l=j),d.shift()),1==d.length%2&&d.pop(),s=0;s<d.length;s+=2)e=d[s].split("-"),t=e[0],n=d[s+1],1<e.length?(o=parseInt(e[1],10),e=0<e[1].indexOf("s")):(o=0,e=k),l&&(t==G&&(n=""),o>0&&(o=c.getTime()/1e3-60)),t&&n&&(a.e(t,n,1),o>0&&(a.b["expire"+t]=o+(e?"s":""),c.getTime()>=1e3*o||e&&!a.cookieRead(a.sessionCookieName)))&&(a.c||(a.c={}),a.c[t]=j);!a.a(r)&&m.o()&&(d=a.cookieRead("s_vi"))&&1<(d=d.split("|")).length&&0<=d[0].indexOf("v1")&&(n=d[1],(s=n.indexOf("["))>=0&&(n=n.substring(0,s)),n&&n.match(p.v)&&a.e(r,n))}},a._appendVersionTo=function(e){var t="vVersion|"+a.version,n=Boolean(e)?a._getCookieVersion(e):null;return n?m.gb(n,a.version)&&(e=e.replace(p.da,t)):e+=(e?"|":"")+t,e},a.eb=function(){var e,t,n=a.ha();for(e in a.b)!Object.prototype[e]&&a.b[e]&&"expire"!=e.substring(0,6)&&(t=a.b[e],n+=(n?"|":"")+e+(a.b["expire"+e]?"-"+a.b["expire"+e]:"")+"|"+t);n=a._appendVersionTo(n),a.cookieWrite(a.cookieName,n,1)},a.a=function(e,t){return a.b==i||!t&&a.c&&a.c[e]?i:a.b[e]},a.e=function(e,t,n){a.b==i&&(a.b={}),a.b[e]=t,n||a.eb()},a.Xa=function(e,t){var n=a.a(e,t);return n?n.split("*"):i},a.cb=function(e,t,n){a.e(e,t?t.join("*"):"",n)},a.Rb=function(e,t){var n=a.Xa(e,t);if(n){var r,o={};for(r=0;r<n.length;r+=2)o[n[r]]=n[r+1];return o}return i},a.Tb=function(e,t,n){var r,o=i;if(t)for(r in o=[],t)Object.prototype[r]||(o.push(r),o.push(t[r]));a.cb(e,o,n)},a.j=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*t),a.b==i&&(a.b={}),a.b["expire"+e]=Math.floor(r.getTime()/1e3)+(n?"s":""),0>t?(a.c||(a.c={}),a.c[e]=j):a.c&&(a.c[e]=k),n&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))},a.ga=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"==(e=e.toUpperCase())&&(e=u),!e||e!=u&&!e.match(p.v))&&(e=""),e},a.k=function(e,n){if(a.Ua(e),a.i!=i&&(a.i[e]=k),q.d[e]&&(q.d[e].Ib=q.p(),q.J(e)),x.d[e]&&x.La(e,k),e==F){x.isClientSideMarketingCloudVisitorID!==j&&(x.isClientSideMarketingCloudVisitorID=k);var s=a.a(o);if(!s||a.overwriteCrossDomainMCIDAndAID){if(!(s="object"==typeof n&&n.mid?n.mid:a.ga(n))){if(a.D)return void a.getAnalyticsVisitorID(i,k,j);s=a.t(0,o)}a.e(o,s)}s&&s!=u||(s=""),"object"==typeof n&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&a.k(C,n),a.D&&n.mid&&a.k(D,{id:n.id})),a.s(o,[s])}if(e==C&&"object"==typeof n){s=604800,n.id_sync_ttl!=E&&n.id_sync_ttl&&(s=parseInt(n.id_sync_ttl,10));var l=a.a(A);l||((l=n.d_region)||(l=n.dcs_region),l&&(a.j(A,s),a.e(A,l))),l||(l=""),a.s(A,[l]),l=a.a(t),(n.d_blob||n.blob)&&((l=n.d_blob)||(l=n.blob),a.j(t,s),a.e(t,l)),l||(l=""),a.s(t,[l]),!n.error_msg&&a.C&&a.e(G,a.C)}if(e==D&&((s=a.a(r))&&!a.overwriteCrossDomainMCIDAndAID||((s=a.ga(n))?s!==u&&a.j(t,-1):s=u,a.e(r,s)),s&&s!=u||(s=""),a.s(r,[s])),a.idSyncDisableSyncs?z.Ca=j:(z.Ca=k,s={},s.ibs=n.ibs,s.subdomain=n.subdomain,z.Db(s)),n===Object(n)){var d;a.isAllowed()&&(d=a.a(B)),d||(d=u,n.d_optout&&n.d_optout instanceof Array&&(d=n.d_optout.join(",")),s=parseInt(n.d_ottl,10),isNaN(s)&&(s=7200),a.j(B,s,j),a.e(B,d)),a.s(B,[d])}},a.i=i,a.u=function(e,n,s,l,d){var c,_="",p=m.ub(e);if(a.isAllowed())if(a.f(),!(!(_=a.a(e,M[e]===j))||a.c&&a.c[e])||a.disableThirdPartyCalls&&!p)_||(e===o?(a.L(e,s),_=a.t(0,o),a.setMarketingCloudVisitorID(_)):e===r?(a.L(e,s),_="",a.setAnalyticsVisitorID(_)):(_="",l=j));else if(e==o||e==B?c=F:e==A||e==t?c=C:e==r&&(c=D),c)return!n||a.i!=i&&a.i[c]||(a.i==i&&(a.i={}),a.i[c]=j,a.Ya(c,n,function(t){a.a(e)||(q.d[c]&&(q.d[c].timeout=q.p(),q.d[c].tb=!!t,q.J(c)),t&&x.La(c,j),t="",e==o?t=a.t(0,o):c==C&&(t={error_msg:"timeout"}),a.k(c,t))},d)),a.L(e,s),_||(n||a.k(c,{id:u}),"");return e!=o&&e!=r||_!=u||(_="",l=j),s&&l&&a.z(s,[_]),_},a._setMarketingCloudFields=function(e){a.f(),a.k(F,e)},a.setMarketingCloudVisitorID=function(e){a._setMarketingCloudFields(e)},a.D=k,a.getMarketingCloudVisitorID=function(e,t){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.D=j);var n=a.B("_setMarketingCloudFields");return a.u(o,n.url,e,t,n)}return""},a.$a=function(){a.getAudienceManagerBlob()},l.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},a.A={},a.fa=k,a.C="",a.setCustomerIDs=function(e){if(a.isAllowed()&&e){a.f();var t,n;for(t in e)if(!Object.prototype[t]&&(n=e[t]))if("object"==typeof n){var i={};n.id&&(i.id=n.id),n.authState!=E&&(i.authState=n.authState),a.A[t]=i}else a.A[t]={id:n};var e=a.getCustomerIDs(),r="";(i=a.a(G))||(i=0);for(t in e)Object.prototype[t]||(n=e[t],r+=(r?"|":"")+t+"|"+(n.id?n.id:"")+(n.authState?n.authState:""));a.C=a.ia(r),a.C!=i&&(a.fa=j,a.$a())}},a.getCustomerIDs=function(){a.f();var e,t,n={};for(e in a.A)Object.prototype[e]||(t=a.A[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),n[e].authState=t.authState!=E?t.authState:l.AuthState.UNKNOWN);return n},a._setAnalyticsFields=function(e){a.f(),a.k(D,e)},a.setAnalyticsVisitorID=function(e){a._setAnalyticsFields(e)},a.getAnalyticsVisitorID=function(e,t,n){if(!m.o()&&!n)return a.z(e,[""]),"";if(a.isAllowed()){d="";if(n||(d=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(e,j)})),d||n){var i=n?a.marketingCloudServer:a.trackingServer,s="";a.loadSSL&&(n?a.marketingCloudServerSecure&&(i=a.marketingCloudServerSecure):a.trackingServerSecure&&(i=a.trackingServerSecure));var l={};if(i){var i="http"+(a.loadSSL?"s":"")+"://"+i+"/id",d="d_visid_ver="+a.version+"&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(d?"&mid="+encodeURIComponent(d):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":""),c=["s_c_il",a._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"],s=i+"?"+d+"&callback=s_c_il%5B"+a._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields";l.m=i+"?"+d,l.qa=c}return l.url=s,a.u(n?o:r,s,e,t,l)}}return""},a._setAudienceManagerFields=function(e){a.f(),a.k(C,e)},a.B=function(e){var n=a.audienceManagerServer,i="",s=a.a(o),l=a.a(t,j),d=(d=a.a(r))&&d!=u?"&d_cid_ic=AVID%01"+encodeURIComponent(d):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(n=a.audienceManagerServerSecure),n){var c,_;if(i=a.getCustomerIDs())for(c in i)Object.prototype[c]||(_=i[c],d+="&d_cid_ic="+encodeURIComponent(c)+"%01"+encodeURIComponent(_.id?_.id:"")+(_.authState?"%01"+_.authState:""));return e||(e="_setAudienceManagerFields"),n="http"+(a.loadSSL?"s":"")+"://"+n+"/id",s="d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!s&&a.D?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(s?"&d_mid="+encodeURIComponent(s):"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(l?"&d_blob="+encodeURIComponent(l):"")+d,l=["s_c_il",a._in,e],i=n+"?"+s+"&d_cb=s_c_il%5B"+a._in+"%5D."+e,{url:i,m:n+"?"+s,qa:l}}return{url:i}},a.getAudienceManagerLocationHint=function(e,t){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(e,j)})){var n=a.a(r);if(!n&&m.o()&&(n=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(e,j)})),n||!m.o())return n=a.B(),a.u(A,n.url,e,t,n)}return""},a.getLocationHint=a.getAudienceManagerLocationHint,a.getAudienceManagerBlob=function(e,n){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(e,j)})){var i=a.a(r);if(!i&&m.o()&&(i=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(e,j)})),i||!m.o()){var o=(i=a.B()).url;return a.fa&&a.j(t,-1),a.u(t,o,e,n,i)}}return""},a._supplementalDataIDCurrent="",a._supplementalDataIDCurrentConsumed={},a._supplementalDataIDLast="",a._supplementalDataIDLastConsumed={},a.getSupplementalDataID=function(e,t){!a._supplementalDataIDCurrent&&!t&&(a._supplementalDataIDCurrent=a.t(1));var n=a._supplementalDataIDCurrent;return a._supplementalDataIDLast&&!a._supplementalDataIDLastConsumed[e]?(n=a._supplementalDataIDLast,a._supplementalDataIDLastConsumed[e]=j):n&&(a._supplementalDataIDCurrentConsumed[e]&&(a._supplementalDataIDLast=a._supplementalDataIDCurrent,a._supplementalDataIDLastConsumed=a._supplementalDataIDCurrentConsumed,a._supplementalDataIDCurrent=n=t?"":a.t(1),a._supplementalDataIDCurrentConsumed={}),n&&(a._supplementalDataIDCurrentConsumed[e]=j)),n},l.OptOut={GLOBAL:"global"},a.getOptOut=function(e,t){if(a.isAllowed()){var n=a.B("_setMarketingCloudFields");return a.u(B,n.url,e,t,n)}return""},a.isOptedOut=function(e,t,n){return a.isAllowed()?(t||(t=l.OptOut.GLOBAL),(n=a.getOptOut(function(n){a.z(e,[n==l.OptOut.GLOBAL||0<=n.indexOf(t)])},n))?n==l.OptOut.GLOBAL||0<=n.indexOf(t):i):k},a.appendVisitorIDsTo=function(e){var t=p.aa,n=y([[o,a.a(o)],[r,a.a(r)],[I,a.marketingCloudOrgID]]);try{return a.w(e,t,n)}catch(t){return e}};var p={r:!!n.postMessage,Pa:1,ca:864e5,aa:"adobe_mc",v:/^[0-9a-fA-F\-]+$/,Oa:5,Ra:/^\d+$/,da:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/};a.Mb=p,a.pa={postMessage:function(e,t,n){var i=1;t&&(p.r?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},W:function(e,t){var n;try{p.r&&(e&&(n=function(n){return!("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))&&void e(n)}),window.addEventListener?window[e?"addEventListener":"removeEventListener"]("message",n,!1):window[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}};var m={N:v.addEventListener?function(e,t,n){e.addEventListener(t,function(e){"function"==typeof n&&n(e)},k)}:v.attachEvent?function(e,t,n){e.attachEvent("on"+t,function(e){"function"==typeof n&&n(e)})}:void 0,map:function(e,t){if(Array.prototype.map)return e.map(t);if(void 0===e||e===i)throw new TypeError;var n=Object(e),a=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=Array(a),o=0;a>o;o++)o in n&&(r[o]=t.call(t,n[o],o,n));return r},xa:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},Bb:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},sb:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},fb:function(e,t,n){return e=e.split("&"),n=n!=i?n:e.length,e.splice(n,0,t),e.join("&")},ub:function(e,t,n){return e!==r?k:(t||(t=a.trackingServer),n||(n=a.trackingServerSecure),"string"==typeof(e=a.loadSSL?n:t)&&e.length?0>e.indexOf("2o7.net")&&0>e.indexOf("omtrdc.net"):k)},Ea:function(e){return Boolean(e&&e===Object(e))},vb:function(e,t){return 0>a._compareVersions(e,t)},gb:function(e,t){return 0!==a._compareVersions(e,t)},Hb:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},o:function(){return!!a.trackingServer||!!a.trackingServerSecure},Cb:function(a,c){function b(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(void 0!==(i=b(a,n))?a[n]=i:delete a[n]);return c.call(e,t,a)}if("object"==typeof JSON&&"function"==typeof JSON.parse)return JSON.parse(a,c);var e;if(e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=""+a,e.lastIndex=0,e.test(a)&&(a=a.replace(e,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?b({"":e},""):e;throw new SyntaxError("JSON.parse")},Ba:function(){return Math.round((new Date).getTime()/1e3)}};a.Sb=m,a.na={F:function(){var e="none",t=j;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=k),0<Object.prototype.toString.call(window.Jb).indexOf("Constructor")&&(t=k)),{G:e,Vb:t}}(),pb:function(){return"none"===this.F.G?i:new window[this.F.G]},ob:function(e,t,n){var r=this;t&&(e.T=t);try{var o=this.pb();o.open("get",e.m+"&ts="+(new Date).getTime(),j),"XMLHttpRequest"===this.F.G&&(o.withCredentials=j,o.timeout=a.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){if(4===this.readyState&&200===this.status)e:{var t;try{if((t=JSON.parse(this.responseText))!==Object(t)){r.n(e,i,"Response is not JSON");break e}}catch(t){r.n(e,t,"Error parsing response as JSON");break e}try{for(var n=e.qa,a=window,o=0;o<n.length;o++)a=a[n[o]];a(t)}catch(t){r.n(e,t,"Error forming callback function")}}}),o.onerror=function(t){r.n(e,t,"onerror")},o.ontimeout=function(t){r.n(e,t,"ontimeout")},o.send(),q.d[n]={requestStart:q.p(),url:e.m,va:o.timeout,ta:q.Aa(),ua:1},a.la.Ja.push(e.m)}catch(t){this.n(e,t,"try-catch")}},n:function(e,t,n){a.CORSErrors.push({Wb:e,error:t,description:n}),e.T&&("ontimeout"===n?e.T(j):e.T(k))}};var z={Sa:3e4,ba:649,Na:k,id:i,V:[],R:i,za:function(e){return"string"==typeof e?(e=e.split("/"))[0]+"//"+e[2]:void 0},g:i,url:i,qb:function(){var e="http://fast.",t="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);return this.g||(this.g="nosubdomainreturned"),a.loadSSL&&(e=a.idSyncSSLUseAkamai?"https://fast.":"https://"),e=e+this.g+".demdex.net/dest5.html"+t,this.R=this.za(e),this.id="destination_publishing_iframe_"+this.g+"_"+a.idSyncContainerID,e},jb:function(){var e="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(v.location.href);"string"==typeof a.K&&a.K.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.R=this.za(a.K),this.url=a.K+e)},Ca:i,wa:k,Y:k,H:i,kc:i,Ab:i,lc:i,X:k,I:[],yb:[],zb:[],Fa:p.r?15:100,S:[],wb:[],ra:j,Ia:k,Ha:function(){return!a.idSyncDisable3rdPartySyncing&&(this.wa||a.Ob)&&this.g&&"nosubdomainreturned"!==this.g&&this.url&&!this.Y},P:function(){function e(){(i=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.Ab=j,t(),document.body.appendChild(i)}function t(){m.N(i,"load",function(){i.className="aamIframeLoaded",n.H=j,n.q()})}this.Y=j;var n=this,i=document.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",e()):"aamIframeLoaded"!==i.className?t():(this.H=j,this.Da=i,this.q()):e(),this.Da=i},q:function(e){var t=this;e===Object(e)&&(this.S.push(e),this.Eb(e)),(this.Ia||!p.r||this.H)&&this.S.length&&(this.J(this.S.shift()),this.q()),!a.idSyncDisableSyncs&&this.H&&this.I.length&&!this.X&&(this.Na||(this.Na=j,setTimeout(function(){t.Fa=p.r?15:150},this.Sa)),this.X=j,this.Ka())},Eb:function(e){var t,n,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(e=0;n>e;e++)(i=t[e]).syncOnPage&&this.sa(i,"","syncOnPage")},J:function(e){var t,n,i,a,r,o=encodeURIComponent;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;n>i;i++)a=t[i],r=[o("ibs"),o(a.id||""),o(a.tag||""),m.xa(a.url||[],","),o(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.ra?this.O(r.join("|")):a.fireURLSync&&this.sa(a,r.join("|")));this.wb.push(e)},sa:function(e,t,n){var i=(n="syncOnPage"===n?j:k)?J:L;a.f();var r=a.a(i),o=k,s=k,l=Math.ceil((new Date).getTime()/p.ca);r?(r=r.split("*"),s=this.Fb(r,e.id,l),o=s.mb,s=s.nb,(!o||!s)&&this.ya(n,e,t,r,i,l)):(r=[],this.ya(n,e,t,r,i,l))},Fb:function(e,t,n){var i,a,r,o=k,s=k;for(a=0;a<e.length;a++)i=e[a],r=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=j,r>n?s=j:(e.splice(a,1),a--)):n>=r&&(e.splice(a,1),a--);return{mb:o,nb:s}},xb:function(e){if(e.join("*").length>this.ba)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.ba;)e.shift()},ya:function(e,t,n,r,o,s){var l=this;if(e){if("img"===t.tag){var d,c,u,e=t.url,n=a.loadSSL?"https:":"http:";for(r=0,d=e.length;d>r;r++){c=e[r],u=/^\/\//.test(c);var _=new Image;m.N(_,"load",function(e,t,n,r){return function(){l.V[e]=i,a.f();var s=a.a(o),d=[];if(s){var c,u,_;for(c=0,u=(s=s.split("*")).length;u>c;c++)(_=s[c]).match("^"+t.id+"-")||d.push(_)}l.Ma(d,t,n,r)}}(this.V.length,t,o,s)),_.src=(u?n:"")+c,this.V.push(_)}}}else this.O(n),this.Ma(r,t,o,s)},O:function(e){var t=encodeURIComponent;this.I.push(t(a.Pb?"---destpub-debug---":"---destpub---")+e)},Ma:function(e,t,n,i){e.push(t.id+"-"+(i+Math.ceil(t.ttl/60/24))),this.xb(e),a.e(n,e.join("*"))},Ka:function(){var e,t=this;this.I.length?(e=this.I.shift(),a.pa.postMessage(e,this.url,this.Da.contentWindow),this.yb.push(e),setTimeout(function(){t.Ka()},this.Fa)):this.X=k},W:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.ra="true"===t[1]?j:k,this.Ia=j,this.q()),this.zb.push(e))},Db:function(e){(this.url===i||e.subdomain&&"nosubdomainreturned"===this.g)&&(this.g="string"==typeof a.oa&&a.oa.length?a.oa:e.subdomain||"",this.url=this.qb()),e.ibs instanceof Array&&e.ibs.length&&(this.wa=j),this.Ha()&&(a.idSyncAttachIframeOnWindowLoad?(l.$||"complete"===v.readyState||"loaded"===v.readyState)&&this.P():this.hb()),"function"==typeof a.idSyncIDCallResult?a.idSyncIDCallResult(e):this.q(e),"function"==typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(e)},ib:function(e,t){return a.Qb||!e||t-e>p.Pa},hb:function(){function e(){t.Y||(document.body?t.P():setTimeout(e,30))}var t=this;e()}};a.Nb=z,a.timeoutMetricsLog=[];var q={lb:window.performance&&window.performance.timing?1:0,Ga:window.performance&&window.performance.timing?window.performance.timing:i,Z:i,Q:i,d:{},U:[],send:function(e){if(a.takeTimeoutMetrics&&e===Object(e)){var t,n=[],i=encodeURIComponent;for(t in e)e.hasOwnProperty(t)&&n.push(i(t)+"="+i(e[t]));e="http"+(a.loadSSL?"s":"")+"://dpm.demdex.net/event?d_visid_ver="+a.version+"&d_visid_stg_timeout="+a.loadTimeout+"&"+n.join("&")+"&d_orgid="+i(a.marketingCloudOrgID)+"&d_timingapi="+this.lb+"&d_winload="+this.rb()+"&d_ld="+this.p(),(new Image).src=e,a.timeoutMetricsLog.push(e)}},rb:function(){return this.Q===i&&(this.Q=this.Ga?this.Z-this.Ga.navigationStart:this.Z-l.kb),this.Q},p:function(){return(new Date).getTime()},J:function(e){var t=this.d[e],n={};n.d_visid_stg_timeout_captured=t.va,n.d_visid_cors=t.ua,n.d_fieldgroup=e,n.d_settimeout_overriden=t.ta,t.timeout?t.tb?(n.d_visid_timedout=1,n.d_visid_timeout=t.timeout-t.requestStart,n.d_visid_response=-1):(n.d_visid_timedout="n/a",n.d_visid_timeout="n/a",n.d_visid_response="n/a"):(n.d_visid_timedout=0,n.d_visid_timeout=-1,n.d_visid_response=t.Ib-t.requestStart),n.d_visid_url=t.url,l.$?this.send(n):this.U.push(n),delete this.d[e]},Gb:function(){for(var e=0,t=this.U.length;t>e;e++)this.send(this.U[e])},Aa:function(){return"function"==typeof setTimeout.toString?-1<setTimeout.toString().indexOf("[native code]")?0:1:-1}};a.Ub=q;var x={isClientSideMarketingCloudVisitorID:i,MCIDCallTimedOut:i,AnalyticsIDCallTimedOut:i,AAMIDCallTimedOut:i,d:{},La:function(e,t){switch(e){case F:t===k?this.MCIDCallTimedOut!==j&&(this.MCIDCallTimedOut=k):this.MCIDCallTimedOut=t;break;case D:t===k?this.AnalyticsIDCallTimedOut!==j&&(this.AnalyticsIDCallTimedOut=k):this.AnalyticsIDCallTimedOut=t;break;case C:t===k?this.AAMIDCallTimedOut!==j&&(this.AAMIDCallTimedOut=k):this.AAMIDCallTimedOut=t}}};a.isClientSideMarketingCloudVisitorID=function(){return x.isClientSideMarketingCloudVisitorID},a.MCIDCallTimedOut=function(){return x.MCIDCallTimedOut},a.AnalyticsIDCallTimedOut=function(){return x.AnalyticsIDCallTimedOut},a.AAMIDCallTimedOut=function(){return x.AAMIDCallTimedOut},a.idSyncGetOnPageSyncInfo=function(){return a.f(),a.a(J)},a.idSyncByURL=function(e){var t;t=(o=e||{}).minutesToLive;i="";if(a.idSyncDisableSyncs&&(i=i||"Error: id syncs have been disabled"),"string"==typeof o.dpid&&o.dpid.length||(i=i||"Error: config.dpid is empty"),"string"==typeof o.url&&o.url.length||(i=i||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||0>=t)&&(i=i||"Error: config.minutesToLive needs to be a positive number")),(t={error:i,mc:t}).error)return t.error;var n,i=e.url,r=encodeURIComponent,o=z,i=i.replace(/^https:/,"").replace(/^http:/,"");return n=m.xa(["",e.dpid,e.dpuuid||""],","),e=["ibs",r(e.dpid),"img",r(i),t.ttl,"",n],o.O(e.join("|")),o.q(),"Successfully queued"},a.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,a.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},a._compareVersions=function(e,t){if(e===t)return 0;var n,i=e.toString().split("."),a=t.toString().split(".");e:{for(var r=0,o=(n=i.concat(a)).length;o>r;r++)if(!p.Ra.test(n[r])){n=k;break e}n=j}if(!n)return NaN;for(;i.length<a.length;)i.push("0");for(;a.length<i.length;)a.push("0");e:{for(n=0;n<i.length;n++){if(r=parseInt(i[n],10),o=parseInt(a[n],10),r>o){i=1;break e}if(o>r){i=-1;break e}}i=0}return i},a._getCookieVersion=function(e){return e=e||a.cookieRead(a.cookieName),(e=p.da.exec(e))&&1<e.length?e[1]:null},a._resetAmcvCookie=function(e){var t=a._getCookieVersion();(!t||m.vb(t,e))&&m.Hb(a.cookieName)},0>s.indexOf("@")&&(s+="@AdobeOrg"),a.marketingCloudOrgID=s,a.cookieName="AMCV_"+s,a.sessionCookieName="AMCVS_"+s,a.cookieDomain=a.Wa(),a.cookieDomain==n.location.hostname&&(a.cookieDomain=""),a.loadSSL=0<=n.location.protocol.toLowerCase().indexOf("https"),a.loadTimeout=3e4,a.CORSErrors=[],a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net";var M={};if(M[A]=j,M[t]=j,w&&"object"==typeof w){for(var H in w)!Object.prototype[H]&&(a[H]=w[H]);a.idSyncContainerID=a.idSyncContainerID||0,a.resetBeforeVersion&&a._resetAmcvCookie(a.resetBeforeVersion),a.ea(),a.f(),H=a.a(K);var N=Math.ceil((new Date).getTime()/p.ca);!a.idSyncDisableSyncs&&z.ib(H,N)&&(a.j(t,-1),a.e(K,N)),a.getMarketingCloudVisitorID(),a.getAudienceManagerLocationHint(),a.getAudienceManagerBlob(),a.ab(a.serverState)}else a.ea();if(!a.idSyncDisableSyncs){z.jb(),m.N(window,"load",function(){l.$=j,q.Z=q.p(),q.Gb();var e=z;e.Ha()&&e.P()});try{a.pa.W(function(e){z.W(e.data)},z.R)}catch(e){}}}window.addLegacyVideoReportingLibrary=function(){window.AppMeasurement_Module_Media=function(e){var t=this;t.s=e,(e=window).s_c_in||(e.s_c_il=[],e.s_c_in=0),t._il=e.s_c_il,t._in=e.s_c_in,t._il[t._in]=t,e.s_c_in++,t._c="s_m",t.list=[],t.open=function(e,n,i,a){var r,o={},s=new Date,l="";if(n||(n=-1),e&&i){if(t.list||(t.list={}),t.list[e]&&t.close(e),a&&a.id&&(l=a.id),l)for(r in t.list)!Object.prototype[r]&&t.list[r]&&t.list[r].R==l&&t.close(t.list[r].name);o.name=e,o.length=n,o.offset=0,o.e=0,o.playerName=t.playerName?t.playerName:i,o.R=l,o.C=0,o.a=0,o.timestamp=Math.floor(s.getTime()/1e3),o.k=0,o.u=o.timestamp,o.c=-1,o.n="",o.g=-1,o.D=0,o.I={},o.G=0,o.m=0,o.f="",o.B=0,o.L=0,o.A=0,o.F=0,o.l=!1,o.v="",o.J="",o.K=0,o.r=!1,o.H="",o.complete=0,o.Q=0,o.p=0,o.q=0,t.list[e]=o}},t.openAd=function(e,n,i,a,r,o,s,l){var d={};t.open(e,n,i,l),(d=t.list[e])&&(d.l=!0,d.v=a,d.J=r,d.K=o,d.H=s)},t.M=function(e){var n=t.list[e];t.list[e]=0,n&&n.monitor&&clearTimeout(n.monitor.interval)},t.close=function(e){t.i(e,0,-1)},t.play=function(e,n,i,a){var r=t.i(e,1,n,i,a);r&&!r.monitor&&(r.monitor={},r.monitor.update=function(){1==r.k&&t.i(r.name,3,-1),r.monitor.interval=setTimeout(r.monitor.update,1e3)},r.monitor.update())},t.click=function(e,n){t.i(e,7,n)},t.complete=function(e,n){t.i(e,5,n)},t.stop=function(e,n){t.i(e,2,n)},t.track=function(e){t.i(e,4,-1)},t.P=function(e,n){var i,a,r="a.media.",o=e.linkTrackVars,s=e.linkTrackEvents,l="m_i",d=e.contextData;if(n.l&&(r+="ad.",n.v&&(d["a.media.name"]=n.v,d[r+"pod"]=n.J,d[r+"podPosition"]=n.K),n.G||(d[r+"CPM"]=n.H)),n.r&&(d[r+"clicked"]=!0,n.r=!1),d["a.contentType"]="video"+(n.l?"Ad":""),d["a.media.channel"]=t.channel,d[r+"name"]=n.name,d[r+"playerName"]=n.playerName,0<n.length&&(d[r+"length"]=n.length),d[r+"timePlayed"]=Math.floor(n.a),0<Math.floor(n.a)&&(d[r+"timePlayed"]=Math.floor(n.a)),n.G||(d[r+"view"]=!0,l="m_s",t.Heartbeat&&t.Heartbeat.enabled&&(l=n.l?t.__primetime?"mspa_s":"msa_s":t.__primetime?"msp_s":"ms_s"),n.G=1),n.f&&(d[r+"segmentNum"]=n.m,d[r+"segment"]=n.f,0<n.B&&(d[r+"segmentLength"]=n.B),n.A&&0<n.a&&(d[r+"segmentView"]=!0)),!n.Q&&n.complete&&(d[r+"complete"]=!0,n.S=1),0<n.p&&(d[r+"milestone"]=n.p),0<n.q&&(d[r+"offsetMilestone"]=n.q),o)for(a in d)Object.prototype[a]||(o+=",contextData."+a);i=d["a.contentType"],e.pe=l,e.pev3=i;var c,u;if(t.contextDataMapping)for(a in e.events2||(e.events2=""),o&&(o+=",events"),t.contextDataMapping)if(!Object.prototype[a]){if(l=a.length>r.length&&a.substring(0,r.length)==r?a.substring(r.length):"","string"==typeof(i=t.contextDataMapping[a]))for(c=i.split(","),u=0;u<c.length;u++)i=c[u],"a.contentType"==a?(o&&(o+=","+i),e[i]=d[a]):"view"==l||"segmentView"==l||"clicked"==l||"complete"==l||"timePlayed"==l||"CPM"==l?(s&&(s+=","+i),"timePlayed"==l||"CPM"==l?d[a]&&(e.events2+=(e.events2?",":"")+i+"="+d[a]):d[a]&&(e.events2+=(e.events2?",":"")+i)):"segment"==l&&d[a+"Num"]?(o&&(o+=","+i),e[i]=d[a+"Num"]+":"+d[a]):(o&&(o+=","+i),e[i]=d[a]);else"milestones"!=l&&"offsetMilestones"!=l||(a=a.substring(0,a.length-1),d[a]&&t.contextDataMapping[a+"s"][d[a]]&&(s&&(s+=","+t.contextDataMapping[a+"s"][d[a]]),e.events2+=(e.events2?",":"")+t.contextDataMapping[a+"s"][d[a]]));d[a]&&(d[a]=0),"segment"==l&&d[a+"Num"]&&(d[a+"Num"]=0)}e.linkTrackVars=o,e.linkTrackEvents=s},t.i=function(e,n,i,a,r){var o,s,l,d,c,u={},_=(new Date).getTime()/1e3,p=t.trackVars,h=t.trackEvents,g=t.trackSeconds,f=t.trackMilestones,E=t.trackOffsetMilestones,m=t.segmentByMilestones,T=t.segmentByOffsetMilestones,A=1,v={};if(t.channel||(t.channel=t.s.w.location.hostname),(u=e&&t.list&&t.list[e]?t.list[e]:0)&&(u.l&&(g=t.adTrackSeconds,f=t.adTrackMilestones,E=t.adTrackOffsetMilestones,m=t.adSegmentByMilestones,T=t.adSegmentByOffsetMilestones),0>i&&(i=1==u.k&&0<u.u?_-u.u+u.c:u.c),0<u.length&&(i=i<u.length?i:u.length),0>i&&(i=0),u.offset=i,0<u.length&&(u.e=u.offset/u.length*100,u.e=100<u.e?100:u.e),0>u.c&&(u.c=i),c=u.D,v.name=e,v.ad=u.l,v.length=u.length,v.openTime=new Date,v.openTime.setTime(1e3*u.timestamp),v.offset=u.offset,v.percent=u.e,v.playerName=u.playerName,v.mediaEvent=0>u.g?"OPEN":1==n?"PLAY":2==n?"STOP":3==n?"MONITOR":4==n?"TRACK":5==n?"COMPLETE":7==n?"CLICK":"CLOSE",n>2||n!=u.k&&(2!=n||1==u.k))){if(r||(a=u.m,r=u.f),n){if(1==n&&(u.c=i),(3>=n||n>=5)&&0<=u.g&&(A=!1,p=h="None",u.g!=i)){if((s=u.g)>i&&(s=u.c)>i&&(s=i),l=f?f.split(","):0,0<u.length&&l&&i>=s)for(d=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&s/u.length*100<o&&u.e>=o&&(A=!0,d=l.length,v.mediaEvent="MILESTONE",u.p=v.milestone=o);if((l=E?E.split(","):0)&&i>=s)for(d=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&o>s&&i>=o&&(A=!0,d=l.length,v.mediaEvent="OFFSET_MILESTONE",u.q=v.offsetMilestone=o)}if(u.L||!r){if(m&&f&&0<u.length){if(l=f.split(","))for(l.push("100"),d=s=0;d<l.length;d++)(o=l[d]?parseFloat(""+l[d]):0)&&(u.e<o&&(a=d+1,r="M:"+s+"-"+o,d=l.length),s=o)}else if(T&&E&&(l=E.split(",")))for(l.push(""+(0<u.length?u.length:"E")),d=s=0;d<l.length;d++)((o=l[d]?parseFloat(""+l[d]):0)||"E"==l[d])&&((o>i||"E"==l[d])&&(a=d+1,r="O:"+s+"-"+o,d=l.length),s=o);r&&(u.L=!0)}(r||u.f)&&r!=u.f&&(u.F=!0,u.f||(u.m=a,u.f=r),0<=u.g&&(A=!0)),(n>=2||100<=u.e)&&u.c<i&&(u.C+=i-u.c,u.a+=i-u.c),(2>=n||3==n&&!u.k)&&(u.n+=(1==n||3==n?"S":"E")+Math.floor(i),u.k=3==n?1:n),!A&&0<=u.g&&3>=n&&(g=g||0)&&u.a>=g&&(A=!0,v.mediaEvent="SECONDS"),u.u=_,u.c=i}(!n||3>=n&&100<=u.e)&&(2!=u.k&&(u.n+="E"+Math.floor(i)),n=0,p=h="None",v.mediaEvent="CLOSE"),7==n&&(A=v.clicked=u.r=!0),(5==n||t.completeByCloseOffset&&(!n||100<=u.e)&&0<u.length&&i>=u.length-t.completeCloseOffsetThreshold)&&(A=v.complete=u.complete=!0),"MILESTONE"==(_=v.mediaEvent)?_+="_"+v.milestone:"OFFSET_MILESTONE"==_&&(_+="_"+v.offsetMilestone),u.I[_]?v.eventFirstTime=!1:(v.eventFirstTime=!0,u.I[_]=1),v.event=v.mediaEvent,v.timePlayed=u.C,v.segmentNum=u.m,v.segment=u.f,v.segmentLength=u.B,t.monitor&&4!=n&&t.monitor(t.s,v),t.Heartbeat&&t.Heartbeat.enabled&&0<=u.g&&(A=!1),0==n&&t.M(e),A&&u.D==c&&(e={contextData:{}},e.linkTrackVars=p,e.linkTrackEvents=h,e.linkTrackVars||(e.linkTrackVars=""),e.linkTrackEvents||(e.linkTrackEvents=""),t.P(e,u),e.linkTrackVars||(e["!linkTrackVars"]=1),e.linkTrackEvents||(e["!linkTrackEvents"]=1),t.s.track(e),u.F?(u.m=a,u.f=r,u.A=!0,u.F=!1):0<u.a&&(u.A=!1),u.n="",u.p=u.q=0,u.a-=Math.floor(u.a),u.g=i,u.D++)}return u},t.O=function(e,n,i,a,r){var o=0;e&&(!t.autoTrackMediaLengthRequired||n&&n>0)&&(t.list&&t.list[e]?o=1:1!=i&&3!=i||(t.open(e,n,"HTML5 Video",r),o=1),o&&t.i(e,i,a,-1,0))},t.attach=function(e){var n,i,a;e&&e.tagName&&"VIDEO"==e.tagName.toUpperCase()&&(t.o||(t.o=function(e,n,i){var a,r;t.autoTrack&&(a=e.currentSrc,(r=e.duration)||(r=-1),0>i&&(i=e.currentTime),t.O(a,r,n,i,e))}),n=function(){t.o(e,1,-1)},i=function(){t.o(e,1,-1)},t.j(e,"play",n),t.j(e,"pause",i),t.j(e,"seeking",i),t.j(e,"seeked",n),t.j(e,"ended",function(){t.o(e,0,-1)}),t.j(e,"timeupdate",n),(a=function(){e.paused||e.ended||e.seeking||t.o(e,3,-1),setTimeout(a,1e3)})())},t.j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},void 0==t.completeByCloseOffset&&(t.completeByCloseOffset=1),void 0==t.completeCloseOffsetThreshold&&(t.completeCloseOffsetThreshold=1),t.Heartbeat={},t.N=function(){var e,n;if(t.autoTrack&&(e=t.s.d.getElementsByTagName("VIDEO")))for(n=0;n<e.length;n++)t.attach(e[n])},t.j(e,"load",t.N)}},window.addAppMeasurementLibrary=function(){function e(e){var t,n,i,a,r,o=window.s_c_il,s=e.split(","),l=0;if(o)for(n=0;!l&&n<o.length;){if("s_c"==(t=o[n])._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),a=0;a<s.length;a++)for(r=0;r<i.length;r++)s[a]==i[r]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function t(){var t,n,i,a=window,r=a.s_giq;if(r)for(t=0;t<r.length;t++)n=r[t],(i=e(n.oun)).setAccount(n.un),i.setTagContainer(n.tagContainerName);a.s_giq=0}window.AppMeasurement=function(){var e=this;e.version="1.8.0";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.AppMeasurement.Ob;n||(n=null);var i,a,r=t;try{for(i=r.parent,a=r.location;i&&i.location&&a&&""+i.location!=""+a&&r.location&&""+i.location!=""+r.location&&i.location.host==a.host;)r=i,i=r.parent}catch(e){}e.P=function(e){try{console.log(e)}catch(e){}},e.La=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||0>e.indexOf(t)?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)i="+~!*()'".substring(n,n+1),0<=t.indexOf(i)&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=0<=t.indexOf("+")?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(e){}return unescape(t)},e.vb=function(){var n,i=t.location.hostname,a=e.fpCookieDomainPeriods;if(a||(a=e.cookieDomainPeriods),i&&!e.cookieDomain&&!/^[0-9.]+$/.test(i)&&(a=a?parseInt(a):2,a=a>2?a:2,(n=i.lastIndexOf("."))>=0)){for(;n>=0&&a>1;)n=i.lastIndexOf(".",n-1),a--;e.cookieDomain=n>0?i.substring(n):i}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),a=0>i?i:n.indexOf(";",i);return"[[B]]"!=(t=0>i?"":e.unescape(n.substring(i+2+t.length,0>a?n.length:a)))?t:""},e.c_w=e.cookieWrite=function(t,n,i){var a,r=e.vb(),o=e.cookieLifetime;return n=""+n,o=o?(""+o).toUpperCase():"",i&&"SESSION"!=o&&"NONE"!=o&&((a=""!=n?parseInt(o||0):-60)?(i=new Date).setTime(i.getTime()+1e3*a):1==i&&(i=new Date,a=i.getYear(),i.setYear(a+5+(1900>a?1900:0)))),t&&"NONE"!=o?(e.d.cookie=e.escape(t)+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=o?" expires="+i.toGMTString()+";":"")+(r?" domain="+r+";":""),e.cookieRead(t)==n):0},e.K=[],e.ia=function(t,n,i){if(e.Ea)return 0;e.maxDelay||(e.maxDelay=250);var a=0,r=(new Date).getTime()+e.maxDelay,o=e.d.visibilityState,s=["webkitvisibilitychange","visibilitychange"];if(o||(o=e.d.webkitVisibilityState),o&&"prerender"==o){if(!e.ja)for(e.ja=1,i=0;i<s.length;i++)e.d.addEventListener(s[i],function(){var t=e.d.visibilityState;t||(t=e.d.webkitVisibilityState),"visible"==t&&(e.ja=0,e.delayReady())});a=1,r=0}else i||e.p("_d")&&(a=1);return a&&(e.K.push({m:t,a:n,t:r}),e.ja||setTimeout(e.delayReady,e.maxDelay)),a},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.p("_d")?i=1:e.xa();0<e.K.length;){if(t=e.K.shift(),i&&!t.t&&t.t>n){e.K.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.Ea=1,e[t.m].apply(e,t.a),e.Ea=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.ia("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)0!=i&&n[i-1]==n[i]||e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,a,r,o,s="";for(r=a="",e.lightProfileID?(i=e.O,(s=e.lightTrackVars)&&(s=","+s+","+e.na.join(",")+",")):(i=e.g,(e.pe||e.linkType)&&(s=e.linkTrackVars,a=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(s=e[r].Mb,a=e[r].Lb))),s&&(s=","+s+","+e.G.join(",")+","),a&&s&&(s+=",events,")),n&&(n=","+n+","),a=0;a<i.length;a++)r=i[a],(o=e[r])&&(!s||0<=s.indexOf(","+r+","))&&(!n||0<=n.indexOf(","+r+","))&&t(r,o)},e.r=function(t,n,i,a,r){var o,s,l,d,c="",u=0;if("contextData"==t&&(t="c"),n){for(o in n)if(!(Object.prototype[o]||r&&o.substring(0,r.length)!=r)&&n[o]&&(!i||0<=i.indexOf(","+(a?a+".":"")+o+","))){if(l=!1,u)for(s=0;s<u.length;s++)o.substring(0,u[s].length)==u[s]&&(l=!0);if(!l&&(""==c&&(c+="&"+t+"."),s=n[o],r&&(o=o.substring(r.length)),0<o.length))if((l=o.indexOf("."))>0)s=o.substring(0,l),l=(r||"")+s+".",u||(u=[]),u.push(l),c+=e.r(s,n,i,a,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==a&&0>r.indexOf(".contextData."))switch(l=o.substring(0,4),d=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:e.La(d)&&("prop"==l?o="c"+d:"eVar"==l?o="v"+d:"list"==l?o="l"+d:"hier"==l&&(o="h"+d,s=s.substring(0,255)))}c+="&"+e.escape(o)+"="+e.escape(s)}}""!=c&&(c+="&."+t)}return c},e.usePostbacks=0,e.yb=function(){var t,i,a,r,o,s,l,d,c="",u="",_="",p=r="";if(e.lightProfileID?(t=e.O,(u=e.lightTrackVars)&&(u=","+u+","+e.na.join(",")+",")):(t=e.g,(e.pe||e.linkType)&&(u=e.linkTrackVars,_=e.linkTrackEvents,e.pe&&(r=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[r]&&(u=e[r].Mb,_=e[r].Lb))),u&&(u=","+u+","+e.G.join(",")+","),_&&(_=","+_+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.visitor&&e.visitor.getCustomerIDs){if(r=n,o=e.visitor.getCustomerIDs())for(i in o)Object.prototype[i]||"object"==typeof(a=o[i])&&(r||(r={}),a.id&&(r[i+".id"]=a.id),a.authState&&(r[i+".as"]=a.authState));r&&(c+=e.r("cid",r))}for(e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.r("d",e.AudienceManagement.getEventCallConfigParams())),i=0;i<t.length;i++){if(r=t[i],o=e[r],a=r.substring(0,4),s=r.substring(4),!o&&"events"==r&&p&&(o=p,p=""),o&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<o.length&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(o+=(""!=o?",":"")+p),_)for(s=o.split(","),o="",a=0;a<s.length;a++)l=s[a],(d=l.indexOf("="))>=0&&(l=l.substring(0,d)),(d=l.indexOf(":"))>=0&&(l=l.substring(0,d)),0<=_.indexOf(","+l+",")&&(o+=(o?",":"")+s[a]);break;case"events2":o="";break;case"contextData":c+=e.r("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.r("mts",e[r],u,r)),o="";break;default:e.La(s)&&("prop"==a?r="c"+s:"eVar"==a?r="v"+s:"list"==a?r="l"+s:"hier"==a&&(r="h"+s,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.e&&(c+=e.e)}return c},e.D=function(e){var t=e.tagName;return"undefined"!=""+e.Rb||"undefined"!=""+e.Hb&&"HTML"!=(""+e.Hb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.Ha=function(e){var n,i,a,r=t.location,o=e.href?e.href:"";return n=o.indexOf(":"),i=o.indexOf("?"),a=o.indexOf("/"),o&&(0>n||i>=0&&n>i||a>=0&&n>a)&&(i=e.protocol&&1<e.protocol.length?e.protocol:r.protocol?r.protocol:"",n=r.pathname.lastIndexOf("/"),o=(i?i+"//":"")+(e.host?e.host:r.host?r.host:"")+("/"!=o.substring(0,1)?r.pathname.substring(0,0>n?0:n)+"/":"")+o),o},e.L=function(t){var n,i,a=e.D(t),r="",o=0;return a&&(n=t.protocol,i=t.onclick,!t.href||"A"!=a&&"AREA"!=a||i&&n&&!(0>n.toLowerCase().indexOf("javascript"))?i?(r=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"\t","")," ",""),o=2):"INPUT"==a||"SUBMIT"==a?(t.value?r=t.value:t.innerText?r=t.innerText:t.textContent&&(r=t.textContent),o=3):"IMAGE"==a&&t.src&&(r=t.src):r=e.Ha(t),r)?{id:r.substring(0,100),type:o}:0},e.Pb=function(t){for(var n=e.D(t),i=e.L(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.D(t),i=e.L(t));return i&&"BODY"!=n||(t=0),t&&(0<=(n=t.onclick?""+t.onclick:"").indexOf(".tl(")||0<=n.indexOf(".trackLink("))&&(t=0),t},e.Gb=function(){var n,i,a,r,o=e.linkObject,s=e.linkType,l=e.linkURL;if(e.oa=1,o||(e.oa=0,o=e.clickObject),o){for(n=e.D(o),i=e.L(o);o&&!i&&"BODY"!=n;)(o=o.parentElement?o.parentElement:o.parentNode)&&(n=e.D(o),i=e.L(o));if(i&&"BODY"!=n||(o=0),o&&!e.linkObject){var d=o.onclick?""+o.onclick:"";(0<=d.indexOf(".tl(")||0<=d.indexOf(".trackLink("))&&(o=0)}}else e.oa=1;if(!l&&o&&(l=e.Ha(o)),l&&!e.linkLeaveQueryString&&(a=l.indexOf("?"))>=0&&(l=l.substring(0,a)),!s&&l){var c,u=0,_=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(d=l.toLowerCase(),a=d.indexOf("?"),r=d.indexOf("#"),a>=0?r>=0&&a>r&&(a=r):a=r,a>=0&&(d=d.substring(0,a)),a=e.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<a.length;r++)(c=a[r])&&d.substring(d.length-(c.length+1))=="."+c&&(s="d");if(e.trackExternalLinks&&!s&&(d=l.toLowerCase(),e.Ka(d)&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),a=0,e.linkExternalFilters?(a=e.linkExternalFilters.toLowerCase().split(","),u=1):e.linkInternalFilters&&(a=e.linkInternalFilters.toLowerCase().split(",")),a))){for(r=0;r<a.length;r++)c=a[r],0<=d.indexOf(c)&&(_=1);_?u&&(s="e"):u||(s="e")}}e.linkObject=o,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.e="",o&&(s=e.pageName,l=1,o=o.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,o=i.type=1),s&&i&&i.id&&n&&(e.e="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(o?"&oi="+o:""))))},e.zb=function(){var t=e.oa,n=e.linkType,i=e.linkURL,a=e.linkName;if(n&&(i||a)&&("d"!=(n=n.toLowerCase())&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=a?e.escape(a):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats||e.ActivityMap){var r,o,s,n={},i=0,l=(d=e.cookieRead("s_sq"))?d.split("&"):0,d=0;if(l)for(r=0;r<l.length;r++)o=l[r].split("="),a=e.unescape(o[0]).split(","),o=e.unescape(o[1]),n[o]=a;a=e.account.split(","),r={};for(s in e.contextData)s&&!Object.prototype[s]&&"a.activitymap."==s.substring(0,14)&&(r[s]=e.contextData[s],e.contextData[s]="");if(e.e=e.r("c",r)+(e.e?e.e:""),t||e.e){t&&!e.e&&(d=1);for(o in n)if(!Object.prototype[o])for(s=0;s<a.length;s++)for(d&&(l=n[o].join(","))==e.account&&(e.e+=("&"!=o.charAt(0)?"&":"")+o,n[o]=[],i=1),r=0;r<n[o].length;r++)(l=n[o][r])==a[s]&&(d&&(e.e+="&u="+e.escape(l)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),n[o].splice(r,1),i=1);if(t||(i=1),i){d="",r=2,!t&&e.e&&(d=e.escape(a.join(","))+"="+e.escape(e.e),r=1);for(o in n)!Object.prototype[o]&&r>0&&0<n[o].length&&(d+=(d?"&":"")+e.escape(n[o].join(","))+"="+e.escape(o),r--);e.cookieWrite("s_sq",d)}}}return t},e.Ab=function(){if(!e.Kb){var t,n,i=new Date,a=r.location,o=n=t="",s="",l="",d="1.2",c=e.cookieWrite("s_cc","true",0)?"Y":"N",u="",_="";if(i.setUTCDate&&(d="1.3",(0).toPrecision&&(d="1.5",(i=[]).forEach))){d="1.6",n=0,t={};try{(n=new Iterator(t)).next&&(d="1.7",i.reduce&&(d="1.8").trim&&(d="1.8.1",Date.parse&&(d="1.8.2",Object.create&&(d="1.8.5"))))}catch(e){}}t=screen.width+"x"+screen.height,o=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,s=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),u=e.b.Qb(a)?"Y":"N"}catch(e){}try{e.b.addBehavior("#default#clientCaps"),_=e.b.connectionType}catch(e){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=d,e.javaEnabled=o,e.cookiesEnabled=c,e.browserWidth=s,e.browserHeight=l,e.connectionType=_,e.homepage=u,e.Kb=1}},e.Q={},e.loadModule=function(n,i){var a=e.Q[n];if(!a){a=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.Q[n]=e[n]=a,a.cb=function(){return a.hb},a.ib=function(t){(a.hb=t)&&(e[n+"_onLoad"]=t,e.ia(n+"_onLoad",[e,a],1)||t(e,a))};try{Object.defineProperty?Object.defineProperty(a,"onLoad",{get:a.cb,set:a.ib}):a._olc=1}catch(e){a._olc=1}}i&&(e[n+"_onLoad"]=i,e.ia(n+"_onLoad",[e,a],1)||i(e,a))},e.p=function(t){var n,i;for(n in e.Q)if(!Object.prototype[n]&&(i=e.Q[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.Cb=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup,i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:""),a=e.cookieRead(i);if(n){if(n*=100,a&&(a=parseInt(a)),!a){if(!e.cookieWrite(i,t))return 0;a=t}if(a%1e4>n)return 0}return 1},e.R=function(t,n){var i,a,r,o,s,l;for(i=0;2>i;i++)for(a=i>0?e.Aa:e.g,r=0;r<a.length;r++)if(o=a[r],(s=t[o])||t["!"+o]){if(!n&&("contextData"==o||"retrieveLightData"==o)&&e[o])for(l in e[o])s[l]||(s[l]=e[o][l]);e[o]=s}},e.Ua=function(t,n){var i,a,r,o;for(i=0;2>i;i++)for(a=i>0?e.Aa:e.g,r=0;r<a.length;r++)o=a[r],t[o]=e[o],n||t[o]||(t["!"+o]=1)},e.ub=function(e){var t,n,i,a,r,o,s=0,l="",d="";if(e&&255<e.length&&(t=""+e,(n=t.indexOf("?"))>0&&(o=t.substring(n+1),t=t.substring(0,n),a=t.toLowerCase(),i=0,"http://"==a.substring(0,7)?i+=7:"https://"==a.substring(0,8)&&(i+=8),(n=a.indexOf("/",i))>0&&(a=a.substring(i,n),r=t.substring(n),t=t.substring(0,n),0<=a.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=a.indexOf("yahoo.co")&&(s=",p,ei,"),s&&o)))){if((e=o.split("&"))&&1<e.length){for(i=0;i<e.length;i++)a=e[i],(n=a.indexOf("="))>0&&0<=s.indexOf(","+a.substring(0,n)+",")?l+=(l?"&":"")+a:d+=(d?"&":"")+a;l&&d?o=l+"&"+d:d=""}e=t+((n=253-(o.length-d.length)-t.length)>0?r.substring(0,n):"")+"?"+o}return e},e.$a=function(t){var n=e.d.visibilityState,i=["webkitvisibilitychange","visibilitychange"];if(n||(n=e.d.webkitVisibilityState),n&&"prerender"==n){if(t)for(n=0;n<i.length;n++)e.d.addEventListener(i[n],function(){var n=e.d.visibilityState;n||(n=e.d.webkitVisibilityState),"visible"==n&&t()});return!1}return!0},e.ea=!1,e.I=!1,e.kb=function(){e.I=!0,e.j()},e.ca=!1,e.V=!1,e.gb=function(t){e.marketingCloudVisitorID=t,e.V=!0,e.j()},e.fa=!1,e.W=!1,e.lb=function(t){e.visitorOptedOut=t,e.W=!0,e.j()},e.Z=!1,e.S=!1,e.Wa=function(t){e.analyticsVisitorID=t,e.S=!0,e.j()},e.ba=!1,e.U=!1,e.Ya=function(t){e.audienceManagerLocationHint=t,e.U=!0,e.j()},e.aa=!1,e.T=!1,e.Xa=function(t){e.audienceManagerBlob=t,e.T=!0,e.j()},e.Za=function(t){return e.maxDelay||(e.maxDelay=250),!e.p("_d")||(t&&setTimeout(function(){t()},e.maxDelay),!1)},e.da=!1,e.H=!1,e.xa=function(){e.H=!0,e.j()},e.isReadyToTrack=function(){var t,i,a,r=!0,o=e.visitor;return e.ea||e.I||(e.$a(e.kb)?e.I=!0:e.ea=!0),!(e.ea&&!e.I)&&(o&&o.isAllowed()&&(e.ca||e.marketingCloudVisitorID||!o.getMarketingCloudVisitorID||(e.ca=!0,e.marketingCloudVisitorID=o.getMarketingCloudVisitorID([e,e.gb]),e.marketingCloudVisitorID&&(e.V=!0)),e.fa||e.visitorOptedOut||!o.isOptedOut||(e.fa=!0,e.visitorOptedOut=o.isOptedOut([e,e.lb]),e.visitorOptedOut!=n&&(e.W=!0)),e.Z||e.analyticsVisitorID||!o.getAnalyticsVisitorID||(e.Z=!0,e.analyticsVisitorID=o.getAnalyticsVisitorID([e,e.Wa]),e.analyticsVisitorID&&(e.S=!0)),e.ba||e.audienceManagerLocationHint||!o.getAudienceManagerLocationHint||(e.ba=!0,e.audienceManagerLocationHint=o.getAudienceManagerLocationHint([e,e.Ya]),e.audienceManagerLocationHint&&(e.U=!0)),e.aa||e.audienceManagerBlob||!o.getAudienceManagerBlob||(e.aa=!0,e.audienceManagerBlob=o.getAudienceManagerBlob([e,e.Xa]),e.audienceManagerBlob&&(e.T=!0)),r=e.ca&&!e.V&&!e.marketingCloudVisitorID,o=e.Z&&!e.S&&!e.analyticsVisitorID,t=e.ba&&!e.U&&!e.audienceManagerLocationHint,i=e.aa&&!e.T&&!e.audienceManagerBlob,a=e.fa&&!e.W,r=!(r||o||t||i||a)),e.da||e.H||(e.Za(e.xa)?e.H=!0:e.da=!0),e.da&&!e.H&&(r=!1),r)},e.o=n,e.u=0,e.callbackWhenReadyToTrack=function(t,i,a){var r;(r={}).pb=t,r.ob=i,r.mb=a,e.o==n&&(e.o=[]),e.o.push(r),0==e.u&&(e.u=setInterval(e.j,100))},e.j=function(){var t;if(e.isReadyToTrack()&&(e.jb(),e.o!=n))for(;0<e.o.length;)(t=e.o.shift()).ob.apply(t.pb,t.mb)},e.jb=function(){e.u&&(clearInterval(e.u),e.u=0)},e.eb=function(t){var i,a,r=n,o=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(a in r={},t)r[a]=t[a];return o={},e.Ua(o,!0),i.push(r),i.push(o),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.wb=function(){var t,n=e.cookieRead("s_fid"),i="",a="";t=8;var r=4;if(!n||0>n.indexOf("-")){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*r),a+="0123456789ABCDEF".substring(t,t+1),t=r=16;n=i+"-"+a}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var a,o=new Date,s="s"+Math.floor(o.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=o.getYear(),l="t="+e.escape(o.getDate()+"/"+o.getMonth()+"/"+(1900>l?l+1900:l)+" "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+" "+o.getDay()+" "+o.getTimezoneOffset());e.visitor&&e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),e.p("_s"),e.eb(n)||(i&&e.R(i),n&&(a={},e.Ua(a,0),e.R(n)),e.Cb()&&!e.visitorOptedOut&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.wb()),e.Gb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.visitor&&!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData)),e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(o.getTime()/1e3)),o=t.location,e.pageURL||(e.pageURL=o.href?o.href:o),e.referrer||e.Va||(e.referrer=r.document.referrer),e.Va=1,e.referrer=e.ub(e.referrer),e.p("_g")),e.zb()&&!e.abort&&(e.Ab(),l+=e.yb(),e.Fb(s,l),e.p("_t"),e.referrer=""))),n&&e.R(a,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.clickObject=e.linkURL=e.linkName=e.linkType=t.s_objectID=e.pe=e.pev1=e.pev2=e.pev3=e.e=e.lightProfileID=0},e.za=[],e.registerPreTrackCallback=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);"function"==typeof t?e.za.push([t,n]):console.logTracking&&e.P("DEBUG: Non function type passed to registerPreTrackCallback")},e.bb=function(t){e.wa(e.za,t)},e.ya=[],e.registerPostTrackCallback=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);"function"==typeof t?e.ya.push([t,n]):console.logTracking&&e.P("DEBUG: Non function type passed to registerPostTrackCallback")},e.ab=function(t){e.wa(e.ya,t)},e.wa=function(t,n){if("object"==typeof t)for(var i=0;i<t.length;i++){var a=t[i][0],r=t[i][1];if(r.unshift(n),"function"==typeof a)try{a.apply(null,r)}catch(t){console.logTracking&&e.P(t.message)}}},e.tl=e.trackLink=function(t,n,i,a,r){return e.linkObject=t,e.linkType=n,e.linkName=i,r&&(e.l=t,e.A=r),e.track(a)},e.trackLight=function(t,n,i,a){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(a)},e.clearVars=function(){var t,n;for(t=0;t<e.g.length;t++)("prop"==(n=e.g[t]).substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.tagContainerMarker="",e.Fb=function(t,n){var i,a=e.trackingServer;i="";var r=e.dc,o="sc.",s=e.visitorNamespace;a?e.trackingServerSecure&&e.ssl&&(a=e.trackingServerSecure):(s||(s=e.account,(a=s.indexOf(","))>=0&&(s=s.substring(0,a)),s=s.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),r=r?(""+r).toLowerCase():"d1","2o7.net"==i&&("d1"==r?r="112":"d2"==r&&(r="122"),o=""),a=s+"."+r+"."+o+i),i=e.ssl?"https://":"http://",r=e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks,i+=a+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(r?"10":"1")+"/JS-"+e.version+(e.Jb?"T":"")+(e.tagContainerMarker?"-"+e.tagContainerMarker:"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(r?"callback=s_c_il["+e._in+"].doPostbacks&et=1&":"")+n+"&AQE=1",e.bb(i),e.sb(i),e.ka()},e.Ta=/{(%?)(.*?)(%?)}/,e.Nb=RegExp(e.Ta.source,"g"),e.tb=function(t){if("object"==typeof t.dests)for(var n=0;n<t.dests.length;++n){var i=t.dests[n];if("string"==typeof i.c&&"aa."==i.id.substr(0,3))for(var a=i.c.match(e.Nb),r=0;r<a.length;++r){var o=a[r],s=o.match(e.Ta),l="";"%"==s[1]&&"timezone_offset"==s[2]?l=(new Date).getTimezoneOffset():"%"==s[1]&&"timestampz"==s[2]&&(l=e.xb()),i.c=i.c.replace(o,e.escape(l))}}},e.xb=function(){var t=new Date,n=new Date(6e4*Math.abs(t.getTimezoneOffset()));return e.k(4,t.getFullYear())+"-"+e.k(2,t.getMonth()+1)+"-"+e.k(2,t.getDate())+"T"+e.k(2,t.getHours())+":"+e.k(2,t.getMinutes())+":"+e.k(2,t.getSeconds())+(0<t.getTimezoneOffset()?"-":"+")+e.k(2,n.getUTCHours())+":"+e.k(2,n.getUTCMinutes())},e.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},e.ta={},e.doPostbacks=function(t){if("object"==typeof t)if(e.tb(t),"object"==typeof e.AudienceManagement&&"function"==typeof e.AudienceManagement.isReady&&e.AudienceManagement.isReady()&&"function"==typeof e.AudienceManagement.passData)e.AudienceManagement.passData(t);else if("object"==typeof t&&"object"==typeof t.dests)for(var n=0;n<t.dests.length;++n){var i=t.dests[n];"object"==typeof i&&"string"==typeof i.c&&"string"==typeof i.id&&"aa."==i.id.substr(0,3)&&(e.ta[i.id]=new Image,e.ta[i.id].alt="",e.ta[i.id].src=i.c)}},e.sb=function(t){e.i||e.Bb(),e.i.push(t),e.ma=e.C(),e.Ra()},e.Bb=function(){e.i=e.Db(),e.i||(e.i=[])},e.Db=function(){var n,i;if(e.ra()){try{(i=t.localStorage.getItem(e.pa()))&&(n=t.JSON.parse(i))}catch(e){}return n}},e.ra=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.Ia=function(){var t=0;return e.i&&(t=e.i.length),e.q&&t++,t},e.ka=function(){if(!e.q||(e.B&&e.B.complete&&e.B.F&&e.B.va(),!e.q))if(e.Ja=n,e.qa)e.ma>e.N&&e.Pa(e.i),e.ua(500);else{var t=e.nb();t>0?e.ua(t):(t=e.Fa())&&(e.q=1,e.Eb(t),e.Ib(t))}},e.ua=function(t){e.Ja||(t||(t=0),e.Ja=setTimeout(e.ka,t))},e.nb=function(){var t;return!e.trackOffline||0>=e.offlineThrottleDelay?0:(t=e.C()-e.Oa,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.Fa=function(){return 0<e.i.length?e.i.shift():void 0},e.Eb=function(t){if(console.logTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.P(n)}},e.fb=function(){return e.marketingCloudVisitorID||e.analyticsVisitorID},e.Y=!1;var o;try{o=JSON.parse('{"x":"y"}')}catch(e){o=null}for(o&&"y"==o.x?(e.Y=!0,e.X=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.X=function(e){return t.$.parseJSON(e)},e.Y=!0):e.X=function(){return null},e.Ib=function(i){var a,r,o;if(e.fb()&&2047<i.length&&("undefined"!=typeof XMLHttpRequest&&("withCredentials"in(a=new XMLHttpRequest)?r=1:a=0),a||"undefined"==typeof XDomainRequest||(a=new XDomainRequest,r=2),a&&(e.AudienceManagement&&e.AudienceManagement.isReady()||0!=e.usePostbacks)&&(e.Y?a.Ba=!0:a=0)),!a&&e.Sa&&(i=i.substring(0,2047)),!a&&e.d.createElement&&(0!=e.usePostbacks||e.AudienceManagement&&e.AudienceManagement.isReady())&&(a=e.d.createElement("SCRIPT"))&&"async"in a&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(a.type="text/javascript",a.setAttribute("async","async"),r=3):a=0),a||(a=new Image,a.alt="",a.abort||void 0===t.InstallTrigger||(a.abort=function(){a.src=n})),a.Da=function(){try{a.F&&(clearTimeout(a.F),a.F=0)}catch(e){}},a.onload=a.va=function(){if(e.ab(i),a.Da(),e.rb(),e.ga(),e.q=0,e.ka(),a.Ba){a.Ba=!1;try{e.doPostbacks(e.X(a.responseText))}catch(e){}}},a.onabort=a.onerror=a.Ga=function(){a.Da(),(e.trackOffline||e.qa)&&e.q&&e.i.unshift(e.qb),e.q=0,e.ma>e.N&&e.Pa(e.i),e.ga(),e.ua(500)},a.onreadystatechange=function(){4==a.readyState&&(200==a.status?a.va():a.Ga())},e.Oa=e.C(),1==r||2==r){var s=i.indexOf("?");o=i.substring(0,s),s=(s=i.substring(s+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==r?(a.open("POST",o,!0),a.send(s)):2==r&&(a.open("POST",o),a.send(s))}else if(a.src=i,3==r){if(e.Ma)try{o.removeChild(e.Ma)}catch(e){}o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),e.Ma=e.B}a.F=setTimeout(function(){a.F&&(a.complete?a.va():(e.trackOffline&&a.abort&&a.abort(),a.Ga()))},5e3),e.qb=i,e.B=t["s_i_"+e.replace(e.account,",","_")]=a,(e.useForcedLinkTracking&&e.J||e.A)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.ha=setTimeout(e.ga,e.forcedLinkTrackingTimeout))},e.rb=function(){if(e.ra()&&!(e.Na>e.N))try{t.localStorage.removeItem(e.pa()),e.Na=e.C()}catch(e){}},e.Pa=function(n){if(e.ra()){e.Ra();try{t.localStorage.setItem(e.pa(),t.JSON.stringify(n)),e.N=e.C()}catch(e){}}},e.Ra=function(){if(e.trackOffline)for((!e.offlineLimit||0>=e.offlineLimit)&&(e.offlineLimit=10);e.i.length>e.offlineLimit;)e.Fa()},e.forceOffline=function(){e.qa=!0},e.forceOnline=function(){e.qa=!1},e.pa=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.C=function(){return(new Date).getTime()},e.Ka=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,a;for(e.Jb=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.R(i),i.lmq)for(n=0;n<i.lmq.length;n++)a=i.lmq[n],e.loadModule(a.n);if(i.ml)for(a in i.ml)if(e[a])for(n in t=e[a],a=i.ml[a])!Object.prototype[n]&&("function"!=typeof a[n]||0>(""+a[n]).indexOf("s_c_il"))&&(t[n]=a[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)a=i.mmq[n],e[a.m]&&(t=e[a.m])[a.f]&&"function"==typeof t[a.f]&&(a.a?t[a.f].apply(t,a.a):t[a.f].apply(t));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,a){var r;return i||(i=e.pageURL?e.pageURL:t.location),a||(a="&"),n&&i&&(i=""+i,(r=i.indexOf("?"))>=0&&(i=a+i.substring(r+1)+a,(r=i.indexOf(a+n+"="))>=0&&(i=i.substring(r+a.length+n.length+1),(r=i.indexOf(a))>=0&&(i=i.substring(0,r)),0<i.length)))?e.unescape(i):""}},e.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),e.g=e.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),e.na="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),e.O=e.na.slice(0),e.Aa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" "),i=0;250>=i;i++)76>i&&(e.g.push("prop"+i),e.O.push("prop"+i)),e.g.push("eVar"+i),e.O.push("eVar"+i),6>i&&e.g.push("hier"+i),4>i&&e.g.push("list"+i);i="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" "),e.g=e.g.concat(i),e.G=e.G.concat(i),e.ssl=0<=t.location.protocol.toLowerCase().indexOf("https"),e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.Oa=0,e.ma=0,e.N=0,e.Na=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{if(e.Sa=!1,navigator){var s=navigator.userAgent;("Microsoft Internet Explorer"==navigator.appName||0<=s.indexOf("MSIE ")||0<=s.indexOf("Trident/")&&0<=s.indexOf("Windows NT 6"))&&(e.Sa=!0)}}catch(e){}e.ga=function(){e.ha&&(t.clearTimeout(e.ha),e.ha=n),e.l&&e.J&&e.l.dispatchEvent(e.J),e.A&&("function"==typeof e.A?e.A():e.l&&e.l.href&&(e.d.location=e.l.href)),e.l=e.J=e.A=0},e.Qa=function(){e.b=e.d.body,e.b?(e.v=function(n){var i,a,r,o,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n["s_fe_"+e._in])){if(e.Ca){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.v,!0),void(e.Ca=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.v,!1)}else e.useForcedLinkTracking=0;e.clickObject=n.srcElement?n.srcElement:n.target;try{if(!e.clickObject||e.M&&e.M==e.clickObject||!(e.clickObject.tagName||e.clickObject.parentElement||e.clickObject.parentNode))e.clickObject=0;else{var l=e.M=e.clickObject;if(e.la&&(clearTimeout(e.la),e.la=0),e.la=setTimeout(function(){e.M==l&&(e.M=0)},1e4),r=e.Ia(),e.track(),r<e.Ia()&&e.useForcedLinkTracking&&n.target){for(o=n.target;o&&o!=e.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(s=o.href,e.Ka(s)||(s=0),a=o.target,n.target.dispatchEvent&&s&&(!a||"_self"==a||"_top"==a||"_parent"==a||t.name&&a==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(e){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(e){i=0}i&&(i["s_fe_"+e._in]=i.s_fe=1,n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.preventDefault(),e.l=n.target,e.J=i)}}}}}catch(t){e.clickObject=0}}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.v):e.b&&e.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&e.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&t.MouseEvent)&&(e.Ca=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.v,!0)),e.b.addEventListener("click",e.v,!1))):setTimeout(e.Qa,30)},e.Qa(),e.loadModule("ActivityMap"),e.getTimeParting=new Function("t","z","var s=this,cy;dc=new Date('1/1/2000');if(dc.getDay()!=6||dc.getMonth()!=0){return'Data Not Available'}else{;z=parseFloat(z);var dsts=new Date(s.dstStart);var dste=new Date(s.dstEnd);fl=dste;cd=new Date();if(cd>dsts&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneOffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear();var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];if(thisy!=s.currentYear){return'Data Not Available'}else{;thish=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow=days[thisd];var ap='AM';var dt='Weekday';if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+':00';if(t=='h'){return timestring}if(t=='d'){return dow};if(t=='w'){return dt}}};"),function(e){e.currentYear=(new Date).getFullYear();var t=7-new Date("03/01/"+e.currentYear).getDay()+7+1,n=(7-new Date("11/01/"+e.currentYear).getDay())%7+1;e.dstStart="03/"+t+"/"+e.currentYear,e.dstEnd="11/"+n+"/"+e.currentYear}(e),e.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),e.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a")},AppMeasurement.getInstance=e,window.s_objectID||(window.s_objectID=0),t()},window.addFreewheelLibrary=function(){!function(){var R="SDK_"+"6.16.2.0-55e6ca73-201706301855".replace(/[^\w]/g,"_"),v="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;v.tv=v.tv||{},v.tv.freewheel=v.tv.freewheel||{},v.tv.freewheel[R]=function(v){var a={version:"js-6.16.2.0-55e6ca73-201706301855"};return"undefined"!=typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=a.version),a.LOG_LEVEL_QUIET=0,a.LOG_LEVEL_INFO=1,a.LOG_LEVEL_DEBUG=2,a.setLogLevel=function(e){if(a.log=a.log=a.log=function(){},"undefined"!=typeof console){try{window.localStorage&&window.localStorage.getItem("fwLogLevel")&&-1<window.localStorage.getItem("fwLogLevel")&&(e=window.localStorage.getItem("fwLogLevel"))}catch(e){console.log(">FW Common.setLogLevel"+e.description)}e>a.LOG_LEVEL_QUIET&&(a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))},e>a.LOG_LEVEL_INFO)&&(a.log=function(){console.log(">FW "+(new Date).toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "))})}},a.setLogLevel(a.LOG_LEVEL_INFO),console.log("FreeWheel Integration Runtime",a.version),a.proxyUrl=null,a.proxyAuthenticationParameter=null,a.setProxy=function(e){"string"==typeof e?("/"!=e.charAt(e.length-1)&&(e+="/"),a.proxyUrl=e):a.proxyUrl=null},a.setProxyAuthenticationParameter=function(e,t){a.proxyAuthenticationParameter=2<=arguments.length&&e?{key:e,value:t||""}:null},a.checkUserAgent=function(e){a.PLATFORM_IS_WINDOWSPHONE=-1<e.search("windows phone"),a.PLATFORM_IS_IPAD=-1<e.search("ipad"),a.PLATFORM_IS_IPHONE_IPOD=-1<e.search("iphone")||-1<e.search("ipod");var t=function(t){return(t=e.match(t))&&0<t.length?1*(t=t[0].match(/\d+/g))[0]+.1*t[1]:0};a.PLATFORM_IE_MOBILE_VERSION=t(/iemobile\/\d+\.\d+/),a.PLATFORM_IOS_VERSION=t(/os \d+_\d+/),a.PLATFORM_ANDROID_VERSION=-1<e.indexOf("transformer")?3.2:t(/android \d+\.\d+/),a.PLATFORM_IS_SAFARI=0<a.PLATFORM_IOS_VERSION&&-1<e.search("applewebkit")||0===a.PLATFORM_ANDROID_VERSION&&0>e.search("chrome")&&-1<e.search("safari"),a.PLATFORM_IS_MOBILE=0<a.PLATFORM_IOS_VERSION||0<a.PLATFORM_ANDROID_VERSION,a.PLATFORM_ID=a.PLATFORM_IS_MOBILE?0<a.PLATFORM_ANDROID_VERSION?"Android"+a.PLATFORM_ANDROID_VERSION:a.PLATFORM_IS_IPAD?"iPad"+a.PLATFORM_IOS_VERSION:a.PLATFORM_IS_IPHONE_IPOD?"iPhone"+a.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop",console.log("Device:",a.PLATFORM_ID,"PLATFORM_IS_SAFARI:",a.PLATFORM_IS_SAFARI)},a.checkUserAgent(navigator.userAgent.toLowerCase()),a.PLATFORM_EVENT_CLICK=a.PLATFORM_IS_MOBILE?"touchend":"click",a.MOBILE_EVENT_DRAG="touchmove",a.PLATFORM_SEND_REQUEST_BY_FORM=!1,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0,a.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=a.PLATFORM_IS_IPAD||a.PLATFORM_IS_IPHONE_IPOD,a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=a.PLATFORM_IS_IPAD,a.PLATFORM_NOT_SUPPORT_OVERLAY_AD=a.PLATFORM_IS_IPHONE_IPOD||0<a.PLATFORM_ANDROID_VERSION&&3.1>a.PLATFORM_ANDROID_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION||9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<a.PLATFORM_ANDROID_VERSION&&2.1>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=a.PLATFORM_IS_IPAD&&4.2<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=a.PLATFORM_IS_IPHONE_IPOD&&10>a.PLATFORM_IOS_VERSION||a.PLATFORM_IS_WINDOWSPHONE,a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=a.PLATFORM_ANDROID_VERSION||10<=a.PLATFORM_IOS_VERSION,a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION,a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=a.PLATFORM_IE_MOBILE_VERSION,a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION&&4<=a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=!1,a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===a.PLATFORM_IOS_VERSION||4<=a.PLATFORM_IOS_VERSION&&4.2>a.PLATFORM_IOS_VERSION,a.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=a.PLATFORM_IS_IPAD,a.RENDERER_STATE_INIT=1,a.RENDERER_STATE_STARTING=2,a.RENDERER_STATE_STARTED=3,a.RENDERER_STATE_COMPLETING=4,a.RENDERER_STATE_COMPLETED=5,a.RENDERER_STATE_FAILED=6,a.TRANSLATOR_STATE_INIT=a.RENDERER_STATE_INIT,a.TRANSLATOR_STATE_STARTING=a.RENDERER_STATE_STARTING,a.TRANSLATOR_STATE_STARTED=a.RENDERER_STATE_STARTED,a.TRANSLATOR_STATE_COMPLETING=a.RENDERER_STATE_COMPLETING,a.TRANSLATOR_STATE_COMPLETED=a.RENDERER_STATE_COMPLETED,a.TRANSLATOR_STATE_FAILED=a.RENDERER_STATE_FAILED,a.EVENT_AD="adEvent",a.EVENT_AD_BUFFERING_START="adBufferingStart",a.EVENT_AD_BUFFERING_END="adBufferingEnd",a.EVENT_SLOT_IMPRESSION="slotImpression",a.EVENT_SLOT_END="slotEnd",a.EVENT_AD_INITIATED="adInitiated",a.EVENT_AD_IMPRESSION="defaultImpression",a.EVENT_AD_IMPRESSION_END="adEnd",a.EVENT_AD_QUARTILE="quartile",a.EVENT_AD_FIRST_QUARTILE="firstQuartile",a.EVENT_AD_MIDPOINT="midPoint",a.EVENT_AD_THIRD_QUARTILE="thirdQuartile",a.EVENT_AD_SKIPPED="adSkipped",a.EVENT_AD_COMPLETE="complete",a.EVENT_AD_CLICK="defaultClick",a.EVENT_AD_MUTE="_mute",a.EVENT_AD_UNMUTE="_un-mute",a.EVENT_AD_COLLAPSE="_collapse",a.EVENT_AD_EXPAND="_expand",a.EVENT_AD_PAUSE="_pause",a.EVENT_AD_RESUME="_resume",a.EVENT_AD_REWIND="_rewind",a.EVENT_AD_ACCEPT_INVITATION="_accept-invitation",a.EVENT_AD_CLOSE="_close",a.EVENT_AD_MINIMIZE="_minimize",a.EVENT_ERROR="_e_unknown",a.EVENT_RESELLER_NO_AD="resellerNoAd",a.EVENT_AD_MEASUREMENT="concreteEvent",a.EVENT_EXTENSION_LOADED="extensionLoaded",a.EVENT_AD_VOLUME_CHANGE="adVolumeChange",a.INFO_KEY_CUSTOM_ID="customId",a.INFO_KEY_MODULE_TYPE="moduleType",a.MODULE_TYPE_EXTENSION="extension",a.MODULE_TYPE_RENDERER="renderer",a.MODULE_TYPE_TRANSLATOR="translator",a.INFO_KEY_ERROR_CODE="errorCode",a.INFO_KEY_ERROR_INFO="errorInfo",a.INFO_KEY_ERROR_MODULE="errorModule",a.ERROR_IO="_e_io",a.ERROR_TIMEOUT="_e_timeout",a.ERROR_NULL_ASSET="_e_null-asset",a.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail",a.ERROR_UNKNOWN="_e_unknown",a.ERROR_MISSING_PARAMETER="_e_missing-param",a.ERROR_NO_AD_AVAILABLE="_e_no-ad",a.ERROR_PARSE="_e_parse",a.ERROR_INVALID_VALUE="_e_invalid-value",a.ERROR_INVALID_SLOT="_e_invalid-slot",a.ERROR_NO_RENDERER="_e_no-renderer",a.ERROR_DEVICE_LIMIT="_e_device-limit",a.ERROR_3P_COMPONENT="_e_3p-comp",a.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature",a.ERROR_SECURITY="_e_security",a.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch",a.INFO_KEY_URL="url",a.INFO_KEY_SHOW_BROWSER="showBrowser",a.INFO_KEY_CUSTOM_EVENT_NAME="customEventName",a.INFO_KEY_NEED_EMPTY_CT="needEmptyCT",a.INFO_KEY_CONCRETE_EVENT_ID="concreteEventId",a.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING",a.EVENT_TYPE_IMPRESSION="IMPRESSION",a.EVENT_TYPE_CLICK="CLICK",a.EVENT_TYPE_STANDARD="STANDARD",a.EVENT_TYPE_GENERIC="GENERIC",a.EVENT_TYPE_ERROR="ERROR",a.EVENT_VIDEO_VIEW="videoView",a.SHORT_EVENT_TYPE_IMPRESSION="i",a.SHORT_EVENT_TYPE_CLICK="c",a.SHORT_EVENT_TYPE_STANDARD="s",a.SHORT_EVENT_TYPE_ERROR="e",a.INIT_VALUE_ZERO="0",a.INIT_VALUE_ONE="1",a.INIT_VALUE_TWO="2",a.INFO_KEY_PARAMETERS="parameters",a.URL_PARAMETER_KEY_ET="et",a.URL_PARAMETER_KEY_CN="cn",a.URL_PARAMETER_KEY_INIT="init",a.URL_PARAMETER_KEY_CT="ct",a.URL_PARAMETER_KEY_METR="metr",a.URL_PARAMETER_KEY_CR="cr",a.URL_PARAMETER_KEY_KEY_VALUE="kv",a.URL_PARAMETER_KEY_ERROR_INFO="additional",a.URL_PARAMETER_KEY_ERROR_MODULE="renderer",a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid",a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID="creid",a.CAPABILITY_SLOT_TEMPLATE="sltp",a.CAPABILITY_DISPLAY_REFRESH="rfnt",a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr",a.CAPABILITY_RECORD_VIDEO_VIEW="exvt",a.CAPABILITY_CHECK_COMPANION="cmpn",a.CAPABILITY_CHECK_TARGETING="targ",a.CAPABILITY_RESET_EXCLUSIVITY="rste",a.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka",a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks",a.CAPABILITY_FALLBACK_ADS="fbad",a.CAPABILITY_SLOT_CALLBACK="slcb",a.CAPABILITY_NULL_CREATIVE="nucr",a.CAPABILITY_AUTO_EVENT_TRACKING="aeti",a.CAPABILITY_RENDERER_MANIFEST="rema",a.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb",a.CAPABILITY_SKIP_AD_SELECTION="skas",a.SLOT_TYPE_TEMPORAL="temporal",a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL="videoPlayerNonTemporal",a.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal",a.TIME_POSITION_CLASS_PREROLL="PREROLL",a.TIME_POSITION_CLASS_MIDROLL="MIDROLL",a.TIME_POSITION_CLASS_POSTROLL="POSTROLL",a.TIME_POSITION_CLASS_OVERLAY="OVERLAY",a.TIME_POSITION_CLASS_DISPLAY="DISPLAY",a.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL",a.EVENT_REQUEST_INITIATED="onRequestInitiated",a.EVENT_REQUEST_COMPLETE="onRequestComplete",a.EVENT_SLOT_STARTED="onSlotStarted",a.EVENT_SLOT_ENDED="onSlotEnded",a.EVENT_CONTENT_VIDEO_PAUSED="contentVideoPaused",a.EVENT_CONTENT_VIDEO_RESUMED="contentVideoResumed",a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest",a.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest",a.CAPABILITY_STATUS_OFF=0,a.CAPABILITY_STATUS_ON=1,a.PARAMETER_LEVEL_PROFILE=0,a.PARAMETER_LEVEL_GLOBAL=1,a.PARAMETER_LEVEL_OVERRIDE=5,a.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport",a.PARAMETER_DESIRED_BITRATE="desiredBitrate",a.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize",a.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType",a.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT",a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement",a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled",a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack",a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore",a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled",a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout",a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout",a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay",a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause",a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection",a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled",a.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled",a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME="renderer.html.coadScriptName",a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent",a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration",a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType",a.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap",a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor",a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth",a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight",a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline",a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial",a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial",a.ID_TYPE_FW=1,a.ID_TYPE_CUSTOM=2,a.ID_TYPE_GROUP=3,a.VIDEO_STATE_PLAYING=1,a.VIDEO_STATE_PAUSED=2,a.VIDEO_STATE_STOPPED=3,a.VIDEO_STATE_COMPLETED=4,a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1,a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3,a.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3,a.VIDEO_ASSET_DURATION_TYPE_EXACT="exact",a.VIDEO_ASSET_DURATION_TYPE_VARIABLE="variable",a.ADUNIT_PREROLL="preroll",a.ADUNIT_MIDROLL="midroll",a.ADUNIT_POSTROLL="postroll",a.ADUNIT_OVERLAY="overlay",a.ADUNIT_STREAM_PREROLL="stream_preroll",a.ADUNIT_STREAM_POSTROLL="stream_postroll",a.SLOT_LOCATION_PLAYER="player",a.SLOT_LOCATION_EXTERNAL="external",a.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0,a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=4,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6,a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7,a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8,a.REQUEST_MODE_ON_DEMAND="on-demand",a.REQUEST_MODE_LIVE="live",a.Util={canPlayVideoType:function(e){if(a.PLATFORM_IS_SAFARI&&("video/ogg"==e||"video/webm"==e))return!1;if(1<a.PLATFORM_ANDROID_VERSION&&"video/m4v"==e)return!0;if("video/3gp"==e&&(e="video/3gpp"),3<=a.PLATFORM_ANDROID_VERSION&&"video/3gpp"==e)return!0;var t=document.createElement("video");return!!t.canPlayType&&!(!t.canPlayType(e)&&!t.canPlayType(e.replace("/","/x-")))},str2bool:function(e){return!!e&&("true"==(e=a.Util.trim(e).toLowerCase())||"yes"==e||"on"==e||"1"==e)},trim:function(e){return"string"!=typeof e?e.toString():e.replace(/^\s+|\s+$/g,"")},isBlank:function(e){return!e||""===a.Util.trim(e)},encodeToHex:function(e){for(var t="",n=0;n<e.length;n++){for(var i=e.charCodeAt(n).toString(16).toUpperCase();4>i.length;)i="0"+i;t+="\\u"+i.toUpperCase()}return t},forEachOnArray:function(e,t,n){var i;if(null==e)throw new TypeError(" array is null or not defined");var a=(e=Object(e)).length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(i=n),n=0;a>n;){var r;n in e&&(r=e[n],t.call(i,r,n,e)),n++}},mixin:function(e,t){for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e},copy:function(e){return a.Util.mixin({},e)},bind:function(e,t){var n=Array.prototype.slice.call(arguments);return n.shift(),t=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},getObject:function(e,t,n){if(!e)return null;for(var i,e=e.split("."),t=t||window,a=0;t&&(i=e[a]);a++)t=i in t?t[i]:n?t[i]={}:void 0;return t},buildNode:function(b,c,d,f,g){console.log("Util.buildNode"),d||(d=document);var h=null!=navigator.userAgent.match(/Firefox/);b.innerHTML=c||"";for(var b=b.getElementsByTagName("script"),i=d.getElementsByTagName("head")[0],c=0;c<b.length;++c)if(h||b[c].src){var j=d.createElement("script");b[c].charset&&(j.charset=b[c].charset),b[c].src&&(j.src=b[c].src),b[c].innerHTML&&(j.innerHTML=b[c].innerHTML),j.onload=j.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&i.removeChild(j)};try{i.appendChild(j)}catch(e){console.log("load script err: "+e)}}else j=b[c].innerHTML,f&&(j=j.replace(/var fw_scope = document;/,"var fw_scope="+f+";")),g&&(j=j.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";")),eval(j)},replacePageSlot:function(e,t,n){console.log("Util.replacePageSlot("+Array.prototype.slice.call(arguments).join(",")+")");var i,r,o;try{i=document.getElementById(e)?document:parent.document.getElementById(e)?parent.document:null,r=document.getElementById(e)?"window":parent.document.getElementById(e)?"parent":null}catch(e){r=i=null}if(!i)for(var s=0;s<window.frames.length;s++)try{window.frames[s].document.getElementById(e)&&(i=window.frames[s].document,r="window.frames["+s+"]")}catch(e){console.log(e)}if(r&&(o=r+".document"),console.log("replacing slot "+e+" in frame "+o),!i)throw"Slot element not found: "+e;s=n?i.getElementById(n):i.getElementById("_fw_container_"+e),a.Util.buildNode(s,t,i,o,r)},transformUrlToProxy:function(e){if(null===a.proxyUrl)return e;var t=a.proxyUrl.replace("$","$$"),e=e.replace(/https?:\/\//,t);return a.proxyAuthenticationParameter&&(e=a.Util.setParameterInURL(e,a.proxyAuthenticationParameter.key,a.proxyAuthenticationParameter.value)),e},pingURLWithImage:function(e){new Image(1,1).src=a.Util.transformUrlToProxy(e)},pingURLWithForm:function(e,t,n){n=n?"_fw_request":"_fw_cb",null==t&&(t=Math.random());var i=document.createElement("iframe");i.name=n+"_iframe_"+t,i.id=n+"_iframe_"+t,i.style.position="absolute",i.style.left="-10000px",i.style.width="1px",i.style.visibility="hidden";var r=document.createElement("form");r.action=a.Util.transformUrlToProxy(e),r.id=n+"_form_"+t,r.target=i.id,r.method="post",r.style.position="absolute",r.style.left="-10000px",r.style.width="1px",r.style.visibility="hidden",document.body&&(document.body.appendChild(i),document.body.appendChild(r),r.submit(),document.body.removeChild(r))},pingURLWithScript:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.src=a.Util.transformUrlToProxy(e),n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&t.removeChild(n)},t.appendChild(n)},pingURL:function(e){console.log("send callback: "+e),e&&(a.PLATFORM_SEND_REQUEST_BY_FORM?a.Util.pingURLWithForm(e,null,!1):a.Util.pingURLWithImage(e))},pingURLs:function(e){for(var t=0;t<e.length;t++)a.Util.pingURL(e[t])},setParameterInURL:function(e,t,n){if(!e||!t||null==n)return null;var i,a,r=!1,e=e.split("?"),n=encodeURIComponent(n);if(e[1]){a=e[1].split("&");for(var o=0;o<a.length;++o)if((i=a[o].split("="))[0]==t){a[o]=i[0]+"="+n,r=!0;break}i=a.join("&"),r||(i=t+"="+n+"&"+i)}else i=t+"="+n;return i=e[0]+"?"+i},getParameterInURL:function(e,t){if(!e||!t)return null;if((n=e.split("?"))[1])for(var n=n[1].split("&"),i=0;i<n.length;++i){var r=n[i].split("=");if(r[0]==t&&!a.Util.isBlank(r[1]))return decodeURIComponent(r[1])}return null},isParameterInURL:function(e,t){if(!e||!t)return!1;if((n=e.split("?"))[1])for(var n=n[1].split("&"),i=0;i<n.length;++i)if(n[i].split("=")[0]==t)return!0;return!1},flashVersion:function(){var e="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var t=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),n=t[2].split("."),i=n[0],a=n[1],r=t[3];""==r&&(r=t[4]),"d"==r[0]?r=r.substring(1):"r"==r[0]&&0<(r=r.substring(1)).indexOf("d")&&(r=r.substring(0,r.indexOf("d"))),e=i+","+a+","+r+",0"}catch(e){console.log("Flash detection failed on navigator method")}}else{var o;try{var s=(o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version").split(" ")[1].split(",");3==s.length?e=s.join(",")+",0":4==s.length&&(e=s.join(","))}catch(e){console.log("Flash detection failed on ActiveX method")}}return e},xmlToJson:function(e){var t={};if(!e)return null;if(1===e.nodeType){if(0<e.attributes.length){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType?t=e.nodeValue:4===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(n=0;n<e.childNodes.length;n++){var r=(i=e.childNodes.item(n)).nodeName;if(void 0===t[r])t[r]=a.Util.xmlToJson(i);else{if(void 0===t[r].length||"string"==typeof t[r]){var o=t[r];t[r]=[],t[r].push(o)}t[r].push(a.Util.xmlToJson(i))}}void 0!==t["#cdata-section"]?(t.value=t["#cdata-section"],t.value.constructor===Array&&(t.value=t.value.join(""))):t["#text"]&&(t.value=t["#text"])}return t},lazyJavaScriptLoad:function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.attachEvent&&!window.opera?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(n.removeChild(i),i.onreadystatechange=null,t())}:i.addEventListener("load",function(){n.removeChild(i),t()},!1)),n.insertBefore(i,n.firstChild)},getViewport:function(){var e=0,t=0;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{width:e,height:t,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},getAbsoluteUrl:function(e,t){if(e=a.Util.trim(e),-1!==(t=a.Util.trim(t)).indexOf("://"))return t;var n=e.substring(0,e.indexOf("://"));if(0===t.indexOf("//"))return n+":"+t;var i=e;return-1!==(n=e.indexOf("/",e.indexOf("://")+5))&&(i=e.substring(0,n)),0==t.indexOf("/")?i+t:(n=e.lastIndexOf("#"),i=e,-1!==n&&(i=e.substring(0,n)),0==t.indexOf("#")?i+t:(i=e.indexOf("?"),n=e,-1!==i&&(n=e.substring(0,i)),0==t.indexOf("?")?n+t:(i=-1===i?e.lastIndexOf("/"):n.lastIndexOf("/"),(n=-1!==i?e.substring(0,i+1):n+"/")+t)))}},a.MediaState=function(){},a.MediaState.prototype={},a.MediaState.prototype.constructor=a.MediaState,a.Util.mixin(a.MediaState.prototype,{play:function(e){console.log(this._name+" play("+e+")")},pause:function(e){console.log(this._name+" pause("+e+")")},complete:function(e){console.log(this._name+" complete("+e+")")}}),a.MediaInitState=function(){this._name="MediaInitState"},a.MediaInitState.prototype=new a.MediaState,a.MediaInitState.prototype.constructor=a.MediaInitState,a.Util.mixin(a.MediaInitState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onStartPlaying&&e.onStartPlaying()}}),a.MediaInitState.instance=new a.MediaInitState,a.MediaPlayingState=function(){this._name="MediaPlayingState"},a.MediaPlayingState.prototype=new a.MediaState,a.MediaPlayingState.prototype.constructor=a.MediaPlayingState,a.Util.mixin(a.MediaPlayingState.prototype,{pause:function(e){console.log(this._name+" pause("+e+")"),e.setMediaState(a.MediaPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPlayingState.instance=new a.MediaPlayingState,a.MediaPausedState=function(){this._name="MediaPausedState"},a.MediaPausedState.prototype=new a.MediaState,a.MediaPausedState.prototype.constructor=a.MediaPausedState,a.Util.mixin(a.MediaPausedState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaPlayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompletePlaying&&e.onCompletePlaying()}}),a.MediaPausedState.instance=new a.MediaPausedState,a.MediaReplayingState=function(){this._name="MediaReplayingState"},a.MediaReplayingState.prototype=new a.MediaState,a.MediaReplayingState.prototype.constructor=a.MediaReplayingState,a.Util.mixin(a.MediaReplayingState.prototype,{pause:function(e){console.log(this._name+" pause("+e+")"),e.setMediaState(a.MediaReplayPausedState.instance),"function"==typeof e.onPausePlaying&&e.onPausePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayingState.instance=new a.MediaReplayingState,a.MediaReplayPausedState=function(){this._name="MediaReplayPausedState"},a.MediaReplayPausedState.prototype=new a.MediaState,a.MediaReplayPausedState.prototype.constructor=a.MediaReplayPausedState,a.Util.mixin(a.MediaReplayPausedState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onResumePlaying&&e.onResumePlaying()},complete:function(e){console.log(this._name+" complete("+e+")"),e.setMediaState(a.MediaEndState.instance),"function"==typeof e.onCompleteReplaying&&e.onCompleteReplaying()}}),a.MediaReplayPausedState.instance=new a.MediaReplayPausedState,a.MediaEndState=function(){this._name="MediaEndState"},a.MediaEndState.prototype=new a.MediaState,a.MediaEndState.prototype.constructor=a.MediaEndState,a.Util.mixin(a.MediaEndState.prototype,{play:function(e){console.log(this._name+" play("+e+")"),e.setMediaState(a.MediaReplayingState.instance),"function"==typeof e.onStartReplaying&&e.onStartReplaying()}}),a.MediaEndState.instance=new a.MediaEndState,a.RendererState=function(){},a.RendererState.prototype={},a.RendererState.prototype.constructor=a.RendererState,a.Util.mixin(a.RendererState.prototype,{start:function(){console.log(this._name+" start()")},notifyStarted:function(){console.log(this._name+" notifyStarted()")},stop:function(){console.log(this._name+" stop()")},complete:function(){console.log(this._name+" complete()")},notifyCompleted:function(){console.log(this._name+" notifyCompleted()")},fail:function(e){console.log(this._name+" fail()"),e.setRendererState(a.RendererFailedState.instance),e.getAdInstance().complete()}}),a.RendererInitState=function(){this._name="RendererInitState"},a.RendererInitState.prototype=new a.RendererState,a.RendererInitState.prototype.constructor=a.RendererInitState,a.RendererInitState.instance=new a.RendererInitState,a.Util.mixin(a.RendererInitState.prototype,{start:function(e){console.log(this._name+" start()"),e.setRendererState(a.RendererStartingState.instance),e.getRenderer().start(e)},stop:function(e){console.log(this._name+" stop()"),e.setRendererState(a.RendererCompletingState.instance),e.getRendererState().notifyCompleted(e)}}),a.RendererStartingState=function(){this._name="RendererStartingState"},a.RendererStartingState.prototype=new a.RendererState,a.RendererStartingState.prototype.constructor=a.RendererStartingState,a.RendererStartingState.instance=new a.RendererStartingState,a.Util.mixin(a.RendererStartingState.prototype,{notifyStarted:function(e){console.log(this._name+" notifyStarted()"),e.setRendererState(a.RendererStartedState.instance),e.getAdInstance().play()},stop:function(e){console.log(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),e.getRenderer().stop())}}),a.RendererStartedState=function(){this._name="RendererStartedState"},a.RendererStartedState.prototype=new a.RendererState,a.RendererStartedState.prototype.constructor=a.RendererStartedState,a.RendererStartedState.instance=new a.RendererStartedState,a.Util.mixin(a.RendererStartedState.prototype,{complete:function(e){console.log(this._name+" complete()"),e.setRendererState(a.RendererCompletingState.instance)},stop:function(e){console.log(this._name+" stop()"),"function"==typeof e.getRenderer().stop&&(e.setRendererState(a.RendererCompletingState.instance),!1===e.getRenderer().stop()&&e.getAdInstance().fakeComplete())}}),a.RendererCompletingState=function(){this._name="RendererCompletingState"},a.RendererCompletingState.prototype=new a.RendererState,a.RendererCompletingState.prototype.constructor=a.RendererCompletingState,a.RendererCompletingState.instance=new a.RendererCompletingState,a.Util.mixin(a.RendererCompletingState.prototype,{notifyCompleted:function(e){console.log(this._name+" notifyCompleted()"),e.setRendererState(a.RendererCompletedState.instance),e.getAdInstance().complete()}}),a.RendererCompletedState=function(){this._name="RendererCompletedState"},a.RendererCompletedState.prototype=new a.RendererState,a.RendererCompletedState.prototype.constructor=a.RendererCompletedState,a.RendererCompletedState.instance=new a.RendererCompletedState,a.RendererFailedState=function(){this._name="RendererFailedState"},a.RendererFailedState.prototype=new a.RendererState,a.RendererFailedState.prototype.constructor=a.RendererFailedState,a.RendererFailedState.instance=new a.RendererFailedState,a.HTMLRenderer=function(){},a.HTMLRenderer.prototype={start:function(e){this.rendererController=e,e.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),e.handleStateTransition(a.RENDERER_STATE_STARTED)):e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"slot base is empty"})},pause:function(){console.log("pause"),this.shouldEndAfterDuration&&this.timer&&this.timer.pause()},resume:function(){console.log("resume"),this.shouldEndAfterDuration&&this.timer&&this.timer.start()},stop:function(){return console.log("stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial),this._stop()},_stop:function(){return console.log("_stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial),!(!this.isMRAIDAd&&this._tpc==a.TIME_POSITION_CLASS_DISPLAY&&!this.shouldKeepInterstitial)&&(this._cleanup(),void this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED))},resize:function(){var e=this.rendererController.getAdInstance(),t=e.getSlot().getBase();e.getSlot().getTimePositionClass()==a.TIME_POSITION_CLASS_OVERLAY?!this.isMRAIDAd||this.isMRAIDAd&&this.mraid.state==this.mraid.STATEDEFAULT?(e="_fw_ad_container_html_"+e.getSlot().getCustomId()+"_",e=document.getElementById(e),e.style.width=t.style.width||"100%",e.style.height=t.style.height||"100%",this._layoutOverlayAd(this.defaultAdElement)):console.log("Cannot resize an MRAID ad that is not in the default state"):console.log("Cannot resize a non-overlay ad")},_cleanup:function(){if(console.log("_cleanup"),this.timer&&(this.timer.stop(),this.timer=null),this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),window.detachEvent("onscroll",this.viewportChangeFunc)),this.isMRAIDAd&&(this.mraid.inExpandedState()&&(console.log("stopping with expanded state, invoke close()"),this._mraidClose()),this.mraid.inDefaultState()))return console.log("stopping with default state, invoke close()"),void this._mraidClose();var e;if(this.expandedAdElement&&(e=this.expandedAdElement.parentNode,this.expandedAdElement._fw_closeButton&&e.removeChild(this.expandedAdElement._fw_closeButton),e.removeChild(this.expandedAdElement),this.expandedAdElement===this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null),this.expandedAdElement=null),this.expandedLightbox&&((e=this.expandedLightbox.parentNode).removeChild(this.expandedLightbox),this.expandedLightbox=null),this.rendererController.getAdInstance().getSlot().getTimePositionClass(),this.defaultAdElement){e=this.defaultAdElement.parentNode;var t=this.defaultAdElement;t.style.display="none",e!==this.rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var n=e&&e.childNodes||[],i=0;i<n.length;i++){var a=n[i];a===t&&e.removeChild(a)}},200),this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null}this.defaultAdElementContainer&&((e=this.defaultAdElementContainer.parentNode).removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null),(this.shouldPauseContentWhenStart||this.isInterstitialNow&&!this.isMRAIDAd)&&this.rendererController.requestContentStateChange(!1)},_setupParameters:function(){var e=this.rendererController,t=(i=e.getAdInstance()).getSlot().getTimePositionClass();this._tpc=t;var n,i=(r=i.getActiveCreativeRendition()).getBaseUnit(),r=r.getCreativeApi();if(a.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&t===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Overlay not supported on this device."}),!1;if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(t===a.TIME_POSITION_CLASS_MIDROLL||t===a.TIME_POSITION_CLASS_PAUSE_MIDROLL))return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll not supported on this device."}),!1;if(a.PLATFORM_IS_IPHONE_IPOD)switch(t){case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_OVERLAY:return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."}),!1;case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF)}if(this.adLoadTimeout=5,(n=e.getParameter(a.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))&&(this.adLoadTimeout=0<Number(n)?Number(n):this.adLoadTimeout),this.shouldKeepInterstitial=!1,(n=e.getParameter(a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=n===a.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"==typeof i&&(this.shouldKeepInterstitial=i.toLowerCase()===a.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL),this.isInterstitialNow=this.shouldKeepInterstitial,this.shouldPauseContentWhenStart=!1,this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(t===a.TIME_POSITION_CLASS_DISPLAY||t===a.TIME_POSITION_CLASS_OVERLAY),this.shouldBackgroundTransparent=!1,void 0!==(n=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT))&&null!==n&&(this.shouldBackgroundTransparent=a.Util.str2bool(n)),this.shouldEndAfterDuration=t!==a.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial,void 0!==(n=e.getParameter(a.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION))&&null!==n&&(this.shouldEndAfterDuration=a.Util.str2bool(n)),this.coadScriptName=e.getParameter(a.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME),this.coadScriptName||(this.coadScriptName=e.getParameter("coad_script_name")),this.primaryAnchor=e.getParameter(a.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc",this.marginWidth=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0,this.marginHeight=e.getParameter(a.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0,this.bootstrap=e.getParameter(a.PARAMETER_RENDERER_HTML_BOOTSTRAP),i=a.Util.getViewport(),this.defaultExpandWidth=i.width,this.defaultExpandHeight=i.height,this.isMRAIDAd="MRAID-1.0"===r,this.mraid=new function(e){this.STATELOADING="loading",this.STATEDEFAULT="default",this.STATEEXPANDED="expanded",this.STATEHIDDEN="hidden",this._renderer=e,this._state=this.STATELOADING,this._useCustomClose=!1,this.viewable=this.expandIsModal=!0,this._baseUrlExpanded=this._baseUrlDefault="",(e=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)})(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault},set:function(e){this.inExpandedState()?this._baseUrlExpanded=e:(this._baseUrlDefault=e,this._baseUrlExpanded="")}}),e(this,"useCustomClose",{get:function(){return this._useCustomClose},set:function(e){this._useCustomClose===!e&&(this._useCustomClose=!!e,this.pushData())}}),e(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline"}}),e(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth}}),e(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight}}),e(this,"state",{get:function(){return this._state},set:function(e){console.log("mraid.state change "+this.state+" => "+e),this.state!==e&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(e===this.STATEEXPANDED?this._renderer.rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer.rendererController.requestContentStateChange(!1)),e===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.rendererController.processEvent({name:a.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):e===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer.rendererController.processEvent({name:a.EVENT_AD_CLOSE}):this._renderer.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer.start()),this._state=e,this.pushData(),e===this.STATEHIDDEN&&this._renderer.stop())}}),this.inLoadingState=function(){return this.state===this.STATELOADING},this.inDefaultState=function(){return this.state===this.STATEDEFAULT},this.inExpandedState=function(){return this.state===this.STATEEXPANDED},this.inHiddenState=function(){return this.state===this.STATEHIDDEN},this.pushData=function(){var e='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";console.log("mraid.pushData: going to invoke on iframe with "+e),this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+e,"*")):console.log("_mraidPushData: no iframe suitable to send "+e)},a.log=function(e){console.log(e)},a.log=function(e){console.log(e)}}(this),this.onLoadFunc=a.Util.bind(this,function(){this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null),this.timer&&this.shouldEndAfterDuration&&this.timer.start()}),this.touchMoveDisabler=function(e){e.preventDefault()},console.log("setting parameters, adLoadTimeout: "+this.adLoadTimeout+", isMRAIDAd: "+this.isMRAIDAd+", shouldKeepInterstitial: "+this.shouldKeepInterstitial+", shouldEndAfterDuration: "+this.shouldEndAfterDuration+", shouldPauseContentWhenStart: "+this.shouldPauseContentWhenStart+", shouldPauseContentWhenExpandOrClick: "+this.shouldPauseContentWhenExpandOrClick+", shouldBackgroundTransparent: "+this.shouldBackgroundTransparent+", defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", coadScriptName: "+this.coadScriptName+", primaryAnchor: "+this.primaryAnchor+", marginWidth: "+this.marginWidth+", marginHeight: "+this.marginHeight+", bootstrap: "+this.bootstrap),this.shouldKeepInterstitial){if(t===a.TIME_POSITION_CLASS_OVERLAY)return e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_SLOT,errorInfo:"Interstitial ad is not supported on overlay slot."}),!1}else!this.isMRAIDAd||a.PLATFORM_IS_IPHONE_IPOD&&t!==a.TIME_POSITION_CLASS_DISPLAY||(e.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_COLLAPSE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON));return!0},_render:function(){console.log("_render");var b=this.rendererController,c=b.getAdInstance(),d=c.getSlot(),f=d.getTimePositionClass(),g=d.getBase(),h=c.getActiveCreativeRendition(),i=h.getDuration(),j=h.getPrimaryCreativeRenditionAsset(),c=j.getUrl(),k=j.getContent();if(f===a.TIME_POSITION_CLASS_DISPLAY&&(g.innerHTML=""),this.timer=new a.Timer(i,a.Util.bind(this,this._stop)),this.coadScriptName&&"function"==typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](k,c,h.getHeight(),h.getWidth(),j.getMimeType(),d.getCustomId()),this.timer&&this.shouldEndAfterDuration&&this.timer.start();else{if(i=document.createElement("span"),i.id="_fw_ad_container_html_"+d.getCustomId()+"_",i.style.position="relative"===g.style.position?"absolute":"relative",i.style.display="inline-block",i.style.margin="0px",i.style.padding="0px",i.style.width=g.style.width||"100%",i.style.height=g.style.height||"100%",i.style.top=i.style.left="0px",g.appendChild(i),this.defaultAdElementContainer=i,!c&&!k)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this._stop();if("text/html_lit_nowrapper"==h.getContentType()||"text/html_lit_js_wc_nw"==h.getContentType()){if(this.isMRAIDAd||this.isInterstitialNow)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_INVALID_VALUE}),void this._stop();if(!k)return b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),void this._stop();this.defaultAdElement=i,this.defaultAdElement.innerHTML=k;for(var d=this.defaultAdElement.getElementsByTagName("script"),m=document.getElementsByTagName("head")[0],g=0;g<d.length;++g)if(d[g].src){var l=document.createElement("script");d[g].charset&&(l.charset=d[g].charset),d[g].src&&(l.src=d[g].src),d[g].innerHTML&&(l.innerHTML=d[g].innerHTML),l.onload=l.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&m.removeChild(l)},m.appendChild(l)}else l=d[g].innerHTML,eval(l);return this.presentInline(),void this.onLoadFunc()}h=document.createElement("iframe"),h.id="_fw_ad_container_iframe_"+d.getCustomId()+"_"+Math.random(),h.attachEvent?h.attachEvent("onload",this.onLoadFunc):h.onload=this.onLoadFunc,this.defaultAdElement=h,this.defaultAdElementContainer.appendChild(h),this._fillAdNode(h,c,k),this.isMRAIDAd&&(this.adLoadTimeoutTimer=new a.Timer(this.adLoadTimeout,a.Util.bind(this,function(){b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_TIMEOUT,errorModule:"HTMLRenderer",errorInfo:"Loading element timeout"}),f!==a.TIME_POSITION_CLASS_DISPLAY&&this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this._stop()})),this.adLoadTimeoutTimer.start())}!this.defaultAdElement&&(d=g.getElementsByTagName("iframe"))&&0<d.length&&(this.defaultAdElement=d[d.length-1]),this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=a.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=a.Util.bind(this,function(){this.viewportChangeFuncTimer&&window.clearTimeout(this.viewportChangeFuncTimer),this.viewportChangeFuncTimer=window.setTimeout(a.Util.bind(this,this._onViewportResizeScroll),200)}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",this.viewportChangeFunc))):this.isMRAIDAd&&(b.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_UNKNOWN,errorModule:"HTMLRenderer",errorInfo:"Failed to find iframe in slotBase for MRAID ad"}),this._stop())},_layoutOverlayAd:function(e){console.log("_layoutOverlayAd");var t=(n=(i=this.rendererController.getAdInstance()).getSlot()).getVideoDisplaySize().width,n=n.getVideoDisplaySize().height,i=(a=i.getActiveCreativeRendition()).getWidth()||240,a=a.getHeight()||50;switch(e.style.width=Math.min(i,t)+"px",e.style.height=Math.min(a,n)+"px",e.style.left=e.style.top=e.style.right=e.style.bottom="",this.primaryAnchor){case"tl":case"lt":e.style.top=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"tr":case"rt":e.style.top=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"bl":case"lb":e.style.bottom=this.marginHeight+"px",e.style.left=this.marginWidth+"px";break;case"br":case"rb":e.style.bottom=this.marginHeight+"px",e.style.right=this.marginWidth+"px";break;case"tc":case"ct":e.style.top=this.marginHeight+"px",e.style.left=.5*Math.max(0,t-i)+"px";break;case"lm":case"ml":e.style.left=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"rm":case"mr":e.style.right=this.marginWidth+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;case"mc":case"cm":case"c":case"m":e.style.left=.5*Math.max(0,t-i)+"px",e.style.top=.5*Math.max(0,n-a)+"px";break;default:case"bc":case"cb":e.style.bottom=this.marginHeight+"px",e.style.left=.5*Math.max(0,t-i)+"px"}},_fillAdNode:function(e,t,n){console.log("_fillAdNode, url:"+t+", content:"+(n?"<omited>":"<empty>"));var i=this.rendererController;if(t)e.src=t;else{if(!n)return i.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"HTMLRenderer",errorCode:a.ERROR_NULL_ASSET}),!1;(e=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument).open(),e.write(n),e.close()}return!0},presentInline:function(){console.log("presentInline"),this.isInterstitialNow=!1;var e=this.defaultAdElement;if(e){var t=(o=(s=this.rendererController.getAdInstance()).getSlot()).getTimePositionClass(),n=o.getWidth(),i=o.getHeight(),r=o.getVideoDisplaySize().width,o=o.getVideoDisplaySize().height,s=(l=s.getActiveCreativeRendition()).getWidth(),l=l.getHeight();switch(e.scrolling="no",e.style.overflow="hidden",t){case a.TIME_POSITION_CLASS_DISPLAY:e.style.position="",e.style.background=this.shouldBackgroundTransparent?"transparent":"",e.style.left="0px",e.style.top="0px",e.style.width=(s||n)+"px",e.style.height=(l||i)+"px";break;case a.TIME_POSITION_CLASS_OVERLAY:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",this._layoutOverlayAd(e);break;default:e.style.position="absolute",e.style.background=this.shouldBackgroundTransparent?"transparent":"white",e.style.left="0px",e.style.top="0px",e.style.width=r+"px",e.style.height=o+"px"}}},presentInterstitial:function(){if(console.log("presentInterstitial, defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", this.mraid.expandWidth: "+this.mraid.expandWidth+", this.mraid.expandHeight: "+this.mraid.expandHeight+", (Math.max(0, this.defaultExpandWidth - this.mraid.expandWidth) / 2) = "+Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+", (Math.max(0, this.defaultExpandHeight - this.mraid.expandHeight) / 2) = "+Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2),this.expandedAdElement){this.isInterstitialNow=!0,document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,!1));var e=this.expandedAdElement.parentNode;if(this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,e.appendChild(this.expandedLightbox)),this.expandedLightbox.style.width=this.defaultExpandWidth+"px",this.expandedLightbox.style.height=this.defaultExpandHeight+"px",this.expandedAdElement.frameBorder="0",this.expandedAdElement.scrolling="no",this.expandedAdElement.style.position="fixed",this.expandedAdElement.style.overflow="hidden",this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px",this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px",this.expandedAdElement.style.width=this.expandedAdElement.width=this.mraid.expandWidth+"px",this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px",this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1e4,console.log("presentInterstitial, expanded ad element size: (top, left, width, height) = ("+this.expandedAdElement.top+", "+this.expandedAdElement.left+", "+this.expandedAdElement.width+", "+this.expandedAdElement.height+")"),this.isMRAIDAd){var t=this.expandedAdElement._fw_closeButton;t||((t=document.createElement("div")).addEventListener?t.addEventListener("click",a.Util.bind(this,function(){this._mraidClose()})):t.attachEvent&&t.attachEvent("onclick",a.Util.bind(this,function(){this._mraidClose()})),t.style.position="fixed",t.style.margin="0px",t.style.padding="0px",t.style.width="25px",t.style.height="25px",t.style.zIndex=t.style["z-index"]=10001,e.appendChild(t),this.expandedAdElement._fw_closeButton=t),t.style.top=this.expandedAdElement.style.top,t.style.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px",t.innerHTML=this.mraid.useCustomClose?0<a.PLATFORM_ANDROID_VERSION?"   ":"":0<a.PLATFORM_ANDROID_VERSION&&3>=a.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':'<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">'}this.isMRAIDAd||this.rendererController.requestContentStateChange(!0)}},_onWindowMessageReceived:function(e){if(this.defaultAdElement&&(e.source===this.defaultAdElement.contentWindow||this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow)){console.log("_onWindowMessageReceived, event.data:"+e.data+", event.origin:"+e.origin);var t=e.data.toString().split(":");if(t&&2<=t.length&&"fwsdk-invoke"===t[0]){var n=t[1];if((t=t.slice(2))&&0<t.length){for(var i=0;i<t.length;i++)t[i]=decodeURIComponent(t[i]);1===t.length&&(t=t[0])}else t=null;"iframe_ready"===n?(this.onLoadFunc&&e.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement&&this.onLoadFunc(),t&&(t=a.Util.trim(t))&&this.isMRAIDAd&&(this.mraid.baseUrl=t),this.bootstrap&&e.source.postMessage("fwsdk-bounce:"+this.bootstrap,e.origin),e.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',e.origin),this.isMRAIDAd&&(e.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&e.source===this.expandedAdElement.contentWindow&&this.mraid.pushData())):this.isMRAIDAd?this._mraidMethods(n,t):"close"===n&&this._stop()}}},_mraidMethods:function(e,t){if(e&&this.isMRAIDAd)switch(console.log("_mraidMethods("+e+", "+t+")"),e){case"open":"string"==typeof t?this._mraidOpen(t):2<=t.length&&this._mraidOpen(t[0],a.Util.str2bool(t[1]));break;case"close":this._mraidClose();break;case"expand":this._mraidExpand(t);break;case"useCustomClose":t&&0<t.length?this.mraid.useCustomClose=a.Util.str2bool(t):console.log("Invalid parameter to useCustomClose");break;case"setExpandProperties":if(!t)break;this.requestedExpandWidth=Number(t[0]),this.requestedExpandHeight=Number(t[1]),this.requestedExpandWidth&&this.requestedExpandHeight&&(this.requestedExpandWidth!==this.defaultExpandWidth||this.requestedExpandHeight!==this.defaultExpandHeight)||(this.requestedExpandHeight=this.requestedExpandWidth=0),this.mraid.useCustomClose=a.Util.str2bool(t[2]),(this.requestedExpandWidth!==this.mraid.expandWidth||this.requestedExpandHeight!==this.mraid.expandHeight)&&this.mraid.pushData();break;case"log":console.log("MRAID log:"+t);break;default:console.log("Unknown MRAID function call: "+e+" with param:"+t)}},_mraidOpen:function(e,t){console.log("_mraidOpen("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e)));var n=this.rendererController;n.getAdInstance(),e&&"string"==typeof e&&0<e.length?((t||void 0===t)&&window.open(e),n.processEvent({name:a.EVENT_AD_CLICK,info:{showBrowser:!1,url:e}})):console.log("_mraidOpen: url required for open")},_mraidClose:function(){if(console.log("_mraidClose, current state: "+this.mraid.state),this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var e=this.expandedAdElement,t=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=null;var n=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT,this.expandedLightbox&&(n.removeChild(this.expandedLightbox),this.expandedLightbox=null),e!==this.defaultAdElement&&(e.style.display="hidden",window.setTimeout(function(){n.removeChild(e)},50)),n.removeChild(t)}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:console.log("_mraidClose: close() is only valid when in expanded/default state")},_mraidExpand:function(e){if(console.log("_mraidExpand, current state: "+this.mraid.state),this.mraid.inDefaultState())if(this.shouldKeepInterstitial)console.log("_mraidExpand: expand() is only valid for inline ad");else{if(e){var t=document.createElement("iframe");this.shouldBackgroundTransparent&&(t.allowTransparency="true",t.style["background-color"]="rgba(255,255,255,0)"),(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(t),this.expandedAdElement=t,console.log("_mraidExpand("+e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(e=a.Util.getAbsoluteUrl(this.mraid.baseUrl,e))),this._fillAdNode(t,e,null)}this.mraid.state=this.mraid.STATEEXPANDED,this.isInterstitialNow=!0,this._onViewportResizeScroll()}else console.log("_mraidExpand: expand() is only valid when in default state")},_onViewportResizeScroll:function(){var e=a.Util.getViewport();this.defaultExpandWidth=e.width,this.defaultExpandHeight=e.height,this.isInterstitialNow&&this.presentInterstitial()},log:function(e){var t=this.rendererController.getAdInstance().getSlot();console.log("HTMLRenderer["+t+"]\t"+e)},warn:function(e){var t=this.rendererController.getAdInstance().getSlot();console.log("HTMLRenderer["+t+"]\t"+e)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1},getDuration:function(){return this.timer?this.timer.getDuration():-1}},a.HTMLRenderer.prototype.constructor=a.HTMLRenderer,a.Ad=function(){var e=null,t=[],n=!1,i=null,r=!1;return{isRequiredToShow:function(){return r},parse:function(o){if(o){e=o.adId||null,n=o.noLoad,i=o.adUnit,o.hasOwnProperty("required")&&(r=o.required);for(var s=0,o=o.creatives||[];s<o.length;s++){var l=o[s],d=new a.Creative;d.parse(l),t.push(d)}}},getSoAdUnit:function(){return i},getId:function(){return e},getNoLoad:function(){return n},getCreative:function(e){for(var n=0;n<t.length;n++)if(t[n].getId()===e)return t[n];return null},addCreativeRendition:function(){var e=new a.Creative;return t.push(e),e}}},a.Creative=function(){var e=null,t=null,n=null,i={},r=[];return{getId:function(){return e},getBaseUnit:function(){return t},getDuration:function(){return n},getParameter:function(e){return i[e]},setParameter:function(e,t){null==t?delete i[e]:i[e]=t},parse:function(o){if(o){e=o.creativeId||null,t=o.baseUnit||null,n=1*o.duration;var s;if(o.parameters)if(o.parameters.constructor===Array)for(var l=0,d=o.parameters||[];l<d.length;l++)s=d[l],i[s.name]=s.value;else"object"==typeof o.parameters&&(i=a.Util.copy(o.parameters));for(l=0,d=o.creativeRenditions||[];l<d.length;l++){s=d[l],(o=new a.CreativeRendition).parse(s),o.setDuration(n),o.setBaseUnit(t);for(name in i)o.setParameter(name,i[name]);r.push(o)}}},getAllCreativeRenditions:function(){return r},addCreativeRendition:function(e){r.push(e)},getEligibleCreativeRenditionsForAdInstance:function(e){var t,n,i=[],a=[];for(n=0;n<r.length;n++)(t=r[n]).getId()==e._creativeRenditionId&&t.getReplicaId()==e._replicaId&&i.push(t),""==t.getReplicaId()&&a.push(t);return 0==i.length?a:i},cloneForTranslation:function(){var r=new a.Creative;return r.parse({creativeId:e,baseUnit:t,duration:n,parameters:a.Util.copy(i)}),r}}},a.CreativeRendition=function(){var e=null,t="None",n=null,i="",r=null,o=null,s=null,l=null,d=null,c=null,u={},_=null,p=[],h=null;return{getId:function(){return e},getCreativeApi:function(){return t},setCreativeApi:function(e){t=e||"None"},getReplicaId:function(){return i},getContentType:function(){return r||(_&&_.getContentType()?_.getContentType():null)},setContentType:function(e){r=e},getWrapperType:function(){return o},setWrapperType:function(e){o=e},getWrapperUrl:function(){return s},setWrapperUrl:function(e){s=e},getBaseUnit:function(){return n},setBaseUnit:function(e){n=e},getPreference:function(){return l},setPreference:function(e){l=e},getWidth:function(){return d},setWidth:function(e){d=e},getHeight:function(){return c},setHeight:function(e){c=e},getDuration:function(){return h},setDuration:function(e){h=e},getParameter:function(e){return u[e]},setParameter:function(e,t){null==t?delete u[e]:u[e]=t},getPrimaryCreativeRenditionAsset:function(){return _},getOtherCreativeRenditionAssets:function(){return p.slice()},addCreativeRenditionAsset:function(e,t){var n=new a.CreativeRenditionAsset;return n.setName(e),t?_=n:p.push(n),n},parse:function(n){if(n){e=n.creativeRenditionId||null,t=n.creativeApi||"None",i=n.hasOwnProperty("adReplicaId")?n.adReplicaId:"",r=n.contentType||null,o=n.wrapperType||null,s=n.wrapperUrl||null,l=1*n.preference,d=1*n.width,c=1*n.height;for(var h,g=0,f=n.parameters||[];g<f.length;g++)h=f[g],u[h.name]=h.value;for((_=new a.CreativeRenditionAsset).parse(n.asset),g=0,f=n.otherAssets||[];g<f.length;g++)h=f[g],(n=new a.CreativeRenditionAsset).parse(h),p.push(n)}}}},a.CreativeRenditionAsset=function(){var e=null,t=null,n=null,i=null,a=null,r=null;return{getName:function(){return e},setName:function(t){e=t},getUrl:function(){return t},setUrl:function(e){t=e},getContent:function(){return n},setContent:function(e){n=e},getContentType:function(){return i},setContentType:function(e){i=e},getMimeType:function(){return a},setMimeType:function(e){a=e},getBytes:function(){return r},setBytes:function(e){r=e},parse:function(o){o&&(e=o.name||null,t=o.url||null,n=o.content||null,i=o.contentType||null,a=o.mimeType||null,r=1*o.bytes)}}},a.AdInstance=function(e){this._context=e,this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null,this._replicaId="",this._primaryCreativeRendition=this._creative=null,this._creativeRenditions=[],this._noLoad=!1,this._companionAdInstances=[],this._eventCallbacks=[],this._externalEventCallbackUrlsDictionary={},this._rendererController=new a.RendererController(e,this),this._timer=new a.Timer,this._metr=0,this._state=a.MediaInitState.instance,this._isStartSuccessfully=this._translated=this._isImpressionSent=this._isInitiatedSent=!1,this._lastDurationFromRenderer=-1,this._slotCustomId=this._parentAdInstancesGroup=null,this._isSkipped=!1},a.AdInstance.prototype={},a.AdInstance.prototype.constructor=a.AdInstance,a.METR_MASK_QUARTILE=0,a.METR_MASK_MIDPOINT=1,a.METR_MASK_COMPLETE=2,a.METR_MASK_VOLUME=3,a.METR_MASK_SIZE=4,a.METR_MASK_CONTROL=5,a.METR_MASK_REWIND=6,a.METR_MASK_ACCEPT_INVITATION=7,a.METR_MASK_CLOSE=8,a.METR_MASK_MINIMIZE=9,a.METR_MASK_CLICK=10,a.AdInstance._metrDictionary={},a.AdInstance._metrDictionary[a.EVENT_AD_FIRST_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_THIRD_QUARTILE]=a.AdInstance._metrDictionary[a.EVENT_AD_QUARTILE]=1<<a.METR_MASK_QUARTILE|1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MIDPOINT]=1<<a.METR_MASK_MIDPOINT|1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_COMPLETE]=1<<a.METR_MASK_COMPLETE,a.AdInstance._metrDictionary[a.EVENT_AD_MUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_UNMUTE]=1<<a.METR_MASK_VOLUME,a.AdInstance._metrDictionary[a.EVENT_AD_COLLAPSE]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_EXPAND]=1<<a.METR_MASK_SIZE,a.AdInstance._metrDictionary[a.EVENT_AD_PAUSE]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_RESUME]=1<<a.METR_MASK_CONTROL,a.AdInstance._metrDictionary[a.EVENT_AD_REWIND]=1<<a.METR_MASK_REWIND,a.AdInstance._metrDictionary[a.EVENT_AD_ACCEPT_INVITATION]=1<<a.METR_MASK_ACCEPT_INVITATION,a.AdInstance._metrDictionary[a.EVENT_AD_CLOSE]=1<<a.METR_MASK_CLOSE,a.AdInstance._metrDictionary[a.EVENT_AD_MINIMIZE]=1<<a.METR_MASK_MINIMIZE,a.AdInstance._metrDictionary[a.EVENT_AD_CLICK]=1<<a.METR_MASK_CLICK,a.Util.mixin(a.AdInstance.prototype,{getAdId:function(){return this._adId},getSoAdUnit:function(){return this._soAdUnit},getEventCallbackUrls:function(e,t){var n=[],i=t===a.EVENT_TYPE_CLICK,r=t===a.EVENT_TYPE_CLICK_TRACKING,o=a.EventCallback.getEventCallback(this._eventCallbacks,e,r?a.EVENT_TYPE_CLICK:t);if(!o)return n;var s={};return s[a.INFO_KEY_NEED_EMPTY_CT]=!0,i?o._showBrowser&&n.push(o.getUrl(s)):r?o._showBrowser||n.push(o.getUrl(s)):n.push(o.getUrl(s)),i||(n=n.concat(o.getTrackingUrls())),n},addEventCallbackUrls:function(e,t,n){n&&this._isValidEventNameAndType(e,t)&&(this._externalEventCallbackUrlsDictionary[t+"-"+e]=this.getExternalEventCallbackUrls(e,t).concat(n||[]))},setClickThroughUrl:function(e,t){if(t&&this._isValidEventNameAndType(e,a.EVENT_TYPE_CLICK)){var n=this.getEventCallback(e,a.EVENT_TYPE_CLICK);n&&(a.Util.isParameterInURL(n._url,a.URL_PARAMETER_KEY_CR)||(n._url=n._url+"&"+a.URL_PARAMETER_KEY_CR+"="),n._url=a.Util.setParameterInURL(n._url,a.URL_PARAMETER_KEY_CR,t),n._showBrowser=!0)}},addCreativeRendition:function(){var e=new a.CreativeRendition;return e.parse({creativeRenditionId:this._creativeRenditionId,adReplicaId:this._replicaId,preference:0}),e.setBaseUnit(this._creative.getBaseUnit()),e.setDuration(this._creative.getDuration()),this._creativeRenditions.push(e),this.isPlaceholder()&&(this._noLoad=!1),e},getRendererController:function(){return this._rendererController},getSlot:function(){return this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId)),this._slot},getCompanionSlots:function(){for(var e=[],t=0;t<this._companionAdInstances.length;t++)e.push(this._companionAdInstances[t]._slot);return e},getActiveCreativeRendition:function(){return this._primaryCreativeRendition},setActiveCreativeRendition:function(e){e?(-1==this._creativeRenditions.indexOf(e)&&this._creativeRenditions.push(cr),this._primaryCreativeRendition=e,this._creativeRenditionId=e.getId()):console.log("AdInstance.setActiveCreativeRendition","rendition is null")},getAllCreativeRenditions:function(){var e=this._creativeRenditions.slice();e.sort(function(e,t){return t.getPreference()-e.getPreference()});var t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getRenderableCreativeRenditions:function(){var e=this._creativeRenditions.slice().sort(function(e,t){return t.getPreference()-e.getPreference()}).filter(function(e){return this._rendererController.rendererMatch(e)},this),t=e.indexOf(this._primaryCreativeRendition);return t>-1&&(e.splice(t,1),e.unshift(this._primaryCreativeRendition)),e},getPlayheadTime:function(){var e=-1;if(this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getPlayheadTime)try{e=this._rendererController.getRenderer().getPlayheadTime()}catch(e){console.log("AdInstance.getPlayheadTime",e.description)}return e},getDuration:function(){var e=-1;return this._rendererController.getRenderer()&&"function"==typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=e=this._rendererController.getRenderer().getDuration()),-1===e&&(e=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:this.getActiveCreativeRendition().getDuration()),e},parse:function(e){if(e){this._adId=e.adId||null,this._creativeId=e.creativeId||null,this._creativeRenditionId=e.creativeRenditionId||null,this._replicaId=e.hasOwnProperty("replicaId")?e.replicaId:"",this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad(),this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit(),this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId),this._creativeRenditions=this._creative.getEligibleCreativeRenditionsForAdInstance(this);var t,n;for(t=0,n=e.eventCallbacks||[];t<n.length;t++){iter=n[t];var i=a.EventCallback.newEventCallback(this._context,iter.name,iter.type);i&&(i._adInstance=this,i.parse(iter),this._eventCallbacks.push(i))}for(t=0,n=e.companionAds||[];t<n.length;++t)(iter=n[t])&&iter.adSlotCustomId&&(i=new a.AdInstance(this._context),i._slotCustomId=iter.adSlotCustomId,i.parse(iter),this._companionAdInstances.push(i));for(t=0,n=e.fallbackAds||[];t<n.length;++t)iter=n[t],i=new a.AdInstance(this._context),this._parentAdInstancesGroup.push(i),i._slot=this._slot,i._parentAdInstancesGroup=this._parentAdInstancesGroup,i.parse(iter);0<this._creativeRenditions.length&&(this._primaryCreativeRendition=this._creativeRenditions[0])}},play:function(){if(console.log("AdInstance.play "+this._slotCustomId),this._timer.tick(),this.processEvent(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION),this._isStartSuccessfully||(a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION,{adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0),this._state.play(this),this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]===a.MODULE_TYPE_RENDERER)for(var e=0;e<this._companionAdInstances.length;e++)this._companionAdInstances[e].isPlaceholder()||this._companionAdInstances[e].getSlot().playCompanionAds(this._companionAdInstances[e])},pause:function(){console.log("AdInstance.pause "+this._slotCustomId),this._isStartSuccessfully?this._rendererController&&this._rendererController.pause():console.log("Ad hasn't started yet. Ignore.")},resume:function(){console.log("AdInstance.resume"+this._slotCustomId),this._isStartSuccessfully?this._rendererController&&this._rendererController.resume():console.log("Ad hasn't started yet. Ignore.")},skip:function(){console.log("AdInstance.skip"),"VPAID"!=this.getActiveCreativeRendition().getCreativeApi()?(this._isSkipped=!0,this.processEvent(a.EVENT_AD_SKIPPED,a.EVENT_TYPE_GENERIC),this.stop()):console.log("VPAID creative, skip has been implemented inside of VPAID")},stop:function(){console.log("AdInstance.stop"),this._rendererController.stop()},fakeComplete:function(){this._slot.getTimePositionClass()===a.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance())},complete:function(){this._isStartSuccessfully&&(this.processEvent(a.EVENT_AD_IMPRESSION_END,a.EVENT_TYPE_IMPRESSION),a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(a.EVENT_AD_IMPRESSION_END,{adInstance:this})),this._state.complete(this),this._rendererController._restorePlaceholdersForHybrid(),this._rendererController.setRenderer(null),this._isStartSuccessfully=!1,this._slot.playNextAdInstance()},isStarted:function(){return this._isStartSuccessfully},onStartPlaying:function(){a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},getEventCallback:function(e,t){return a.EventCallback.getEventCallback(this._eventCallbacks,e,t)},processEvent:function(e,t,n,i){var r=!0,t=this.getEventCallback(e,t);return e===a.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(t=this.getEventCallback(a.EVENT_ERROR,a.EVENT_TYPE_ERROR),n={errorInfo:"Trying to send defaultImpression multiple times"},r=!1),t?i||t.process(n):r=!1,e===a.EVENT_AD_CLICK&&this._context.dispatchEvent(a.EVENT_AD_CLICK,{adInstance:this}),(e!=a.EVENT_AD_IMPRESSION&&e!=a.EVENT_AD_IMPRESSION_END||a.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[a.INFO_KEY_MODULE_TYPE])&&(i={subType:e,adInstance:this,slot:this._slot},e===a.EVENT_ERROR&&(i[a.INFO_KEY_ERROR_CODE]=n[a.INFO_KEY_ERROR_CODE],i[a.INFO_KEY_ERROR_INFO]=n[a.INFO_KEY_ERROR_INFO],i[a.INFO_KEY_ERROR_MODULE]=n[a.INFO_KEY_ERROR_MODULE]),e===a.EVENT_AD_MEASUREMENT&&(i[a.INFO_KEY_CONCRETE_EVENT_ID]=n[a.INFO_KEY_CONCRETE_EVENT_ID]),this._context.dispatchEvent(a.EVENT_AD,i)),r},setVolume:function(e){console.log("AdInstance.setVolume("+e+")"),this.isStarted()&&"function"==typeof this._rendererController.getRenderer().setVolume&&this._rendererController.getRenderer().setVolume(e)},setMetr:function(e,t){var n=a.AdInstance._metrDictionary[e];n&&(e===a.EVENT_AD_CLICK&&(t=!t),this._metr=t===a.CAPABILITY_STATUS_ON||!0===t?this._metr|n:this._metr&~n)},getExternalEventCallbackUrls:function(e,t){return(this._externalEventCallbackUrlsDictionary[t+"-"+e]||[]).slice()},reset:function(){this._rendererController.reset();for(var e=0;e<this._companionAdInstances.length;e++){var t=this._companionAdInstances[e];(t._state===a.MediaPlayingState.instance||t._state===a.MediaReplayingState.instance)&&t.stop(),t._rendererController.reset()}},cloneForTranslation:function(){var e=new a.AdInstance(this._context);e._parent=this,e._adId=this._adId,e._creativeId=this._creativeId,e._creative=this._creative.cloneForTranslation(),e._creativeRenditionId=this._creativeRenditionId,e._isInitiatedSent=this._isInitiatedSent,e._noLoad=this._noLoad,e._slot=this.getSlot(),e._soAdUnit=this.getSoAdUnit(),e._replicaId=this._replicaId;for(var t=0;t<this._eventCallbacks.length;t++){var n=this._eventCallbacks[t].copy();n._adInstance=e,e._eventCallbacks.push(n)}for(e._externalEventCallbackUrlsDictionary=a.Util.copy(this._externalEventCallbackUrlsDictionary),t=0;t<this._companionAdInstances.length;t++)this._companionAdInstances[t].isPlaceholder()?e._companionAdInstances.push(this._companionAdInstances[t].cloneForTranslation()):e._companionAdInstances.push(this._companionAdInstances[t]);return e},isPlaceholder:function(){return this._noLoad},setMediaState:function(e){this._state=e},_isValidEventNameAndType:function(e,t){return!a.Util.isBlank(e)&&!a.Util.isBlank(t)&&(t===a.EVENT_TYPE_CLICK||t===a.EVENT_TYPE_CLICK_TRACKING||t===a.EVENT_TYPE_IMPRESSION&&(e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE)||t===a.EVENT_TYPE_STANDARD&&(e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION)||t===a.EVENT_TYPE_ERROR&&e===a.EVENT_ERROR)},isPlayable:function(){var e;return(e=!(this._rendererController.getRendererState()==a.RendererFailedState.instance&&!this._isImpressionSent))?((e=e&&!this._translated)||console.log("AdInstance.isPlayable returning false translated:",this._translated),e):(console.log("AdInstance.isPlayable returning false isImpressionSent:",this._isImpressionSent),e)},toString:function(){return"[AdInstance "+this._adId+"]"},getCompanionAdInstances:function(){for(var e=[],t=0;t<this._companionAdInstances.length;++t)this._companionAdInstances[t].isPlaceholder()||e.push(this._companionAdInstances[t]);return e},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow()}}),a.AdManager=function(){var e=this;this._context=this.newContext(),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,function(t){e.onRequestComplete(t)}),this._networkId=this._serverURL="",this._onRequestComplete=this._location=null},a.AdManager.prototype={getVersion:function(){if(a.version){var e=a.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||a.version.match(/^js-(\d)\.(\d)\.(\d)/)||a.version.match(/^js-(\d)\.(\d)/);if(null!=e&&0<e.length){for(var t=0,n=0;n<e.length-1;n++)t+=e[e.length-n-1]<<(n<<3);return t}if(0===a.version.indexOf("js-master"))return 4294967295}return 0},setNetwork:function(e){if(console.log("AdManager.setNetwork("+Array.prototype.slice.call(arguments).join(",")+")"),1*e>0){this._networkId=1*e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else console.log("AdManager.setNetwork","valid networkId required")},setServerURL:function(e){console.log("AdManager.setServerURL("+Array.prototype.slice.call(arguments).join(",")+")"),console.log("AdManager.setServerURL method is DEPRECATED, use AdManager.setServer instead."),this.setServer(e)},setServer:function(e){if(console.log("AdManager.setServer("+Array.prototype.slice.call(arguments).join(",")+")"),e&&"string"==typeof e){this._serverURL=e;for(var t in a._instanceQueue)if(a._instanceQueue.hasOwnProperty(t)){var n=a._instanceQueue[t];n&&n._videoAsset._videoPlayPending&&n._videoAsset.play()}}else console.log("AdManager.setServer","server url required")},setLocation:function(e){console.log("AdManager.setLocation("+Array.prototype.slice.call(arguments).join(",")+")"),this._location=e},newContext:function(){return console.log("AdManager.newContext("+Array.prototype.slice.call(arguments).join(",")+")"),new a.Context(this)},newContextWithContext:function(e){console.log("AdManager.newContextWithContext("+Array.prototype.slice.call(arguments).join(",")+")");var t=this.cloneContext(e);t._temporalSlotBase=e._temporalSlotBase,e.getContentVideoElement()&&(t.setContentVideoElement(e.getContentVideoElement()),delete t._temporalSlotBase["_fw_contentVideo_"+e._instanceId]),t._videoDisplaySize=e._videoDisplaySize,t._overriddenAdRenderers=e._overriddenAdRenderers,t._currentContentPlayheadTime=e._currentContentPlayheadTime,t.startSubsession(e._adRequest._subsessionToken),t.setRequestMode(e._adRequest._requestMode),t._adRequest._compatibleDimensions=e._adRequest._compatibleDimensions,t._videoAsset._state=e._videoAsset._state,t._videoAsset._callbackTimer=e._videoAsset._callbackTimer,t._videoAsset._videoPlayPending=e._videoPlayPending,t._videoAsset._requestedVideoViewUrl=e._videoAsset._requestedVideoViewUrl,t._videoAsset._delay=e._videoAsset._delay,t._videoAsset._durationType=e._videoAsset._durationType;var n,i=e._extensionManager.extensions;for(n in i)t.loadExtension(i[n]);return this._context=t},setParameter:function(e,t,n){console.log("AdManager.setParameter("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setParameter(e,t,n)},getParameter:function(e){return this._context.getParameter(e)},submitRequest:function(e,t){console.log("AdManager.submitRequest()"),e&&"function"==typeof e?this._onRequestComplete=e:console.log("AdManager.submitRequest(): callback function required"),this._context.submitRequest(t/1e3)},onRequestComplete:function(e){console.log("AdManager.onRequestComplete("+Array.prototype.slice.call(arguments).join(",")+")"),this._onRequestComplete&&(this._onRequestComplete({success:e.success,response:e.response}),this._onRequestComplete=null)},registerVideoDisplayBase:function(e){console.log("AdManager.registerVideoDisplayBase("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.registerVideoDisplayBase(e)},setVideoAsset:function(e,t){console.log("AdManager.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoAsset(e,t)},setSiteSection:function(e){console.log("AdManager.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setSiteSection(e)},addKeyValue:function(e,t){console.log("AdManager.addKeyValue("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.addKeyValue(e,t)},setVideoDisplayCompatibleSizes:function(e){console.log("AdManager.setVideoDisplayCompatibleSizes("+Array.prototype.slice.call(arguments).join(",")+")"),this._context.setVideoDisplayCompatibleSizes(e)},playSlots:function(e,t){console.log("AdManager.playSlots() has DEPRECATED, use tv.freewheel.SDK.Slot.Play() instead"),console.log("AdManager.playSlots("+e+")"),"string"==typeof e&&(e=e.toUpperCase()),this._playSlots(e,t)},_playSlots:function(e,t){if("function"!=typeof t&&(t=function(){}),this._context._adResponse){for(var n=[],i=this._context.getTemporalSlots(),r=0;r<i.length;++r){var o=i[r];(.1>Math.abs(o.getTimePosition()-e)||e===o.getTimePositionClass())&&n.push(o)}if(0===n.length)console.log("AdManager.playSlots","no slot matches",e),t();else if(e===a.TIME_POSITION_CLASS_OVERLAY)for(r=0;r<n.length;r++)!function(e){if(!e._onContentVideoTimeUpdate){var t=this._context.getContentVideoElement(),n=e._onContentVideoTimeUpdate=function(){!t.paused&&!0!==t._fw_videoAdPlaying&&0<=t.currentTime-e.getTimePosition()&&1>t.currentTime-e.getTimePosition()&&(t.removeEventListener("timeupdate",n,!1),e._play(function(){var i=setInterval(function(){!t.paused&&2<Math.abs(t.currentTime-e.getTimePosition())&&(t.addEventListener("timeupdate",n,!1),clearInterval(i))},1e3)}))};t.addEventListener("timeupdate",n,!1)}}(n[r]);else!function(){var e=n.shift();e?e._play(arguments.callee):t()}()}else console.log("AdManager._playSlots","request is not completed"),t()},dispose:function(){console.log("AdManager.dispose()"),this._context.dispose(),this._onRequestComplete=null},cloneContext:function(e){var t,n=this.newContext(),i=e._adRequest._capabilities._capabilities;for(t in i)i.hasOwnProperty(t)&&n.setCapability(t,i[t]);return n.setProfile(e._adRequest._playerProfile),n.setSiteSection(e._ss_id,e._ss_networkId,e._ss_pageViewRandom,e._ss_idType,e._ss_fallbackId),n.setVideoAsset(e._va_id,e._va_duration,e._va_networkId,e._va_location,e._va_autoPlayType,e._va_viewRandom,e._va_idType,e._va_fallbackId,e._va_durationType),n.setVisitor(e._adRequest._visitorCustomId,e._adRequest._visitorIpV4Address),n}},a.AdManager.prototype.constructor=a.AdManager,a.AdRequest=function(e){this._context=e,this._capabilities=new a.Capabilities,this._keyValues=[],this._playerProfile="",this._compatibleDimensions=null,this._temporalSlots=[],this._siteSectionId=this._siteSectionCustomId="",this._siteSectionNetworkId=0,this._siteSectionFallbackId="",this._siteSectionViewRandom=0,this._requestMode=this._visitorIpV4Address=this._visitorCustomId="",this._subsessionToken=this._requestDuration=0,this._candidateAdIds=[],this._slotScanner=new a.PageSlotScanner(e),this._urlParams={},this._urlKeyValues=[],this._customInfo=""},a.AdRequest.prototype={setCapability:function(e,t){this._capabilities.setCapability(e,t)},addKeyValue:function(e,t){if("string"!=typeof e||"string"!=typeof t||0===e.length)console.log("AdRequest.addKeyValue:","key and value required");else{var n=encodeURIComponent(e)+"="+encodeURIComponent(t);0>this._keyValues.indexOf(n)&&this._keyValues.push(n)}},setProfile:function(e){"string"!=typeof e?console.log("AdRequest.setProfile:","player profile required"):this._playerProfile=e},setVideoDisplayCompatibleSizes:function(e){if(e&&e.length){for(var t=[],n={},i=0;i<e.length;++i)if(console.log("dimension is:",e[i].width,"X",e[i].height),0<e[i].width&&0<e[i].height){var a=e[i].width+","+e[i].height;null==n[a]&&(n[a]="",t.push(a))}0<t.length&&(this._compatibleDimensions=t.join("|"))}else console.log("AdRequest.setVideoDisplayCompatibleSizes:","compatible dimensions required")},setSiteSection:function(e,t,n,i,r){if(e){switch(i){case a.ID_TYPE_FW:this._siteSectionId=e;break;case a.ID_TYPE_GROUP:this._siteSectionId="g"+e;break;default:this._siteSectionCustomId=e}1*t>0&&(this._siteSectionNetworkId=1*t),1*n>0&&(this._siteSectionViewRandom=1*n),"number"==typeof r&&r>0?this._siteSectionFallbackId=""+r:"string"==typeof r&&(this._siteSectionFallbackId=r.trim())}else console.log("AdRequest.setSiteSection: id required")},setVisitor:function(e,t){"string"!=typeof e?console.log("AdRequest.setVisitor:","customId required"):(this._visitorCustomId=e,"string"==typeof t&&""!==t&&(this._visitorIpV4Address=t))},setRequestMode:function(e){e!==a.REQUEST_MODE_ON_DEMAND&&e!==a.REQUEST_MODE_LIVE?console.log("AdRequest.setRequestMode:","unknown mode: "+e):(this._requestMode=e,this._requestMode==a.REQUEST_MODE_LIVE&&0==this._subsessionToken&&this.setSubsessionToken(1e4*Math.random()+1))},setRequestDuration:function(e){"number"!=typeof e?console.log("AdRequest.setRequestDuration:","request duration required"):(0>e&&(console.log("AdRequest.setRequestDuration:","requestDuration is negative, reset it to 0"),e=0),this._requestDuration=e)},addCandidateAd:function(e){"number"!=typeof e?console.log("AdRequest.addCandidateAd:","candidate ad ID required"):0>e?console.log("AdRequest.addCandidateAd","invalid ad ID, ignore"):this._candidateAdIds.push(e)},addTemporalSlot:function(e,t,n,i,r,o,s,l){if(a.Util.isBlank(e)||a.Util.isBlank(t)||0>n)console.log("AdRequest.addTemporalSlot:","invalid parameters");else{for(var d=0;d<this._temporalSlots.length;d++)if(this._temporalSlots[d].getCustomId()===e)return void console.log("AdRequest.addTemporalSlot:","slot is already existed, ignored");(d=new a.Slot(this._context)).setCustomId(e),d.setAdUnit(t),d.setTimePosition(n),d.setSlotProfile(i),d.setCuepointSequence(1*r),d.setMaxDuration(o),d.setMinDuration(s),d.setAcceptContentType(l),this._temporalSlots.push(d)}},setSubsessionToken:function(e){this._subsessionToken=e},scanPageSlots:function(){this._slotScanner.scanPageSlots()},generateTypeBRequestUrl:function(){var e=this._context._adManager._serverURL.split("?"),t=e[0],n=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===t.indexOf("http://")||0===t.indexOf("https://"))for(var i=0;i<n.length;++i)if(t.match(n[i])){t=t.slice(0,t.indexOf("fwmrm.net")+9)+"/ad/g/1";break}return this.parseQueryStr(e.slice(1).join("?")),e=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";",this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)&&1==this._capabilities.getCapability(a.CAPABILITY_SKIP_AD_SELECTION)||(e+=this.generateSlotsTypeBStr()),a.Util.isBlank(this._customInfo)||(e+=";"+this._customInfo),t+"?"+e},generateVideoViewRequestUrlWithDummyContextInstanceId:function(e){this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_ON);var t=this.generateTypeBRequestUrl(),t=a.Util.setParameterInURL(t,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+e+"']._videoAsset.requestComplete");return console.log("generateVideoViewRequestUrlWithDummyContextInstanceId():"+t),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),this._context.setCapability(a.CAPABILITY_SKIP_AD_SELECTION,a.CAPABILITY_STATUS_UNSET),t},parseQueryStr:function(e){if(console.log("AdRequest.parseQueryStr("+Array.prototype.slice.call(arguments).join(",")+")"),this._urlParams={},this._urlKeyValues=[],this._customInfo="",e){";"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));var t,n,i=e.split(";");if(i[0])for(t=i[0].split("&"),n=0;n<t.length;++n){var a=t[n].split("=");2===a.length&&(this._urlParams[a[0]]=a[1])}if(i[1])for(t=i[1].split("&"),n=0;n<t.length;++n)this._urlKeyValues.push(t[n]);i[2]&&(this._customInfo=i.slice(2).join(";"))}},generateGlobalParametersQueryStr:function(){console.log("AdRequest.generateGlobalParametersQueryStr");for(var e=this._context.getParameter("wrapperVersion"),e=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,"string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"string"],["vdty",this._context._videoAsset._durationType,"string"],["vtpo",this._context._videoAsset._currentTpos,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,"number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"string"],["vcid",this._visitorCustomId,"string"],["mode",this._requestMode,"string"],["vrdu",this._requestDuration,"number"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",a.version+(e?","+e:""),"string"],["resp",a.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"],["vip",this._visitorIpV4Address,"string"],["cana",this._candidateAdIds.join(","),"string"]],t=0;t<e.length;t++){var n=e[t];switch(n[2]){case"string":a.Util.isBlank(n[1])||(this._urlParams[n[0]]=encodeURIComponent(n[1]));break;case"number":0<n[1]&&(this._urlParams[n[0]]=n[1])}}var i,e="";for(i in this._urlParams)this._urlParams.hasOwnProperty(i)&&(e+=i+"="+this._urlParams[i]+"&");switch(e=e.substring(0,e.length-1),0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[a.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_COMPANION,a.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[a.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(a.CAPABILITY_CHECK_TARGETING,a.CAPABILITY_STATUS_OFF)),!this._context._videoAsset._eventCallback&&!this._context._videoAsset._requestedVideoViewUrl&&(this._context._videoAsset._id||this._context._videoAsset._customId)&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_ON),this._capabilities._capabilities[a.CAPABILITY_DISPLAY_REFRESH]&&this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_OFF),e=this._capabilities.parseCapabilities(e),this._context.setCapability(a.CAPABILITY_REQUIRE_VIDEO_CALLBACK,a.CAPABILITY_STATUS_UNSET),i="",this._context._videoAsset._autoPlayType){case a.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:i="+play+uapl";break;case a.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:i="-play";break;default:i="+play-uapl"}return e=e.replace(/flag=/,"flag="+encodeURIComponent(i))},generateKeyValuesStr:function(){console.log("AdRequest.generateKeyValuesStr");for(var e=a.Util.flashVersion(),e=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(e),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]),t=0;t<this._urlKeyValues.length;t++){var n=this._urlKeyValues[t];0>e.indexOf(n)&&e.push(n)}return(t=this._context._adManager._location)&&e.push("ltlg="+encodeURIComponent(Math.round(1e4*t.coords.latitude)/1e4+","+Math.round(1e4*t.coords.longitude)/1e4)),e.join("&")},generateSlotsTypeBStr:function(){console.log("AdRequest.generateSlotsTypeBStr");for(var e="",t=[],n=0;n<this._temporalSlots.length;n++){for(var i=[["slid",(i=this._temporalSlots[n]).getCustomId(),"string"],["slau",i.getAdUnit(),"string"],["ptgt","a","string"],["tpos",i.getTimePosition(),"number"],["cpsq",i.getCuepointSequence(),"number"],["envp",i.getSlotProfile(),"string"],["maxd",i.getMaxDuration(),"number"],["mind",i.getMinDuration(),"number"],["prct",i.getAcceptContentType(),"string"]],r=[],o=0;o<i.length;o++){var s=i[o];switch(s[2]){case"string":a.Util.isBlank(s[1])||r.push(s[0]+"="+encodeURIComponent(s[1]));break;case"number":-1<["cpsq","maxd","mind"].indexOf(s[0])?0<s[1]&&r.push(s[0]+"="+s[1]):0<=s[1]&&r.push(s[0]+"="+s[1])}}t.push(r.join("&"))}return 0<t.length&&(e=t.join(";")+";"),e+=this._slotScanner.slotsToTypeBStr()},detectScreenDimension:function(){return console.log("AdRequest.detectScreenDimension:",screen.width+","+screen.height),screen.width+","+screen.height}},a.AdResponse=function(e){this._context=e},a.AdResponse.prototype={},a.AdResponse.prototype.constructor=a.AdResponse,a.Util.mixin(a.AdResponse.prototype,{parse:function(e,t){this._data=e,this._temporalSlots=[],this._videoPlayerNonTemporalSlots=[],this._siteSectionNonTemporalSlots=[],this._profileParameters={},this._ads=[],this._siteSectionCustomId=a.Util.getObject("siteSection.customId",e)||"",this._adRenderers=[];var n,i,r;for(i=a.Util.getObject("parameters",e)||[],n=0;n<i.length;++n)r=i[n],this._profileParameters[r.name]=r.value;for(this._adRenderers=a.Util.getObject("rendererManifest.adRenderers.adRenderer",e)||[],n=0;n<this._adRenderers.length;n++)void 0!==this._adRenderers[n].adUnit&&(this._adRenderers[n].baseUnit=this._adRenderers[n].adUnit,delete this._adRenderers[n].adUnit);for(i=a.Util.getObject("ads.ads",e)||[],n=0;n<i.length;++n)(r=new a.Ad(this._context)).parse(i[n]),this._ads.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",e)||[],n=0;n<i.length;++n)(r=new a.Slot(this._context)).setType(a.SLOT_TYPE_TEMPORAL),r.setBase(t),r.parse(i[n]),this._temporalSlots.push(r);for(i=a.Util.getObject("siteSection.videoPlayer.adSlots",e)||[],n=0;n<i.length;++n)(r=new a.Slot(this._context)).setType(a.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._videoPlayerNonTemporalSlots.push(r);for(i=a.Util.getObject("siteSection.adSlots",e)||[],n=0;n<i.length;++n)(r=new a.Slot(this._context)).setType(a.SLOT_TYPE_SITESECTION_NONTEMPORAL),r.setTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),r.parse(i[n]),this._initSlotData(r),this._siteSectionNonTemporalSlots.push(r);this._context._videoAsset.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{})},getCreative:function(e,t){var n=this.getAd(e);return n?n.getCreative(t):null},getAd:function(e){for(var t=0;t<this._ads.length;t++){var n=this._ads[t];if(n.getId()===e)return n}return null},getTemporalSlots:function(){return this._temporalSlots},getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots},getSiteSectionCustomId:function(){return this._siteSectionCustomId},getSlotByCustomId:function(e){for(var t=0;t<this._temporalSlots.length;++t)if(this._temporalSlots[t].getCustomId()===e)return this._temporalSlots[t];for(t=0;t<this._videoPlayerNonTemporalSlots.length;++t)if(this._videoPlayerNonTemporalSlots[t].getCustomId()===e)return this._videoPlayerNonTemporalSlots[t];for(t=0;t<this._siteSectionNonTemporalSlots.length;++t)if(this._siteSectionNonTemporalSlots[t].getCustomId()===e)return this._siteSectionNonTemporalSlots[t];return console.log("getSlotByCustomId(): not found",e),null},_initSlotData:function(e){for(var t=!1,n=0;n<this._context._adRequest._slotScanner._knownSlots.length;n++){var i=this._context._adRequest._slotScanner._knownSlots[n];if(e.getCustomId()===i.id&&i.element){e.setWidth(i.width),e.setHeight(i.height),e.setBase(i.element),e.setAcceptCompanion(i.acceptCompanion),e.setInitialAdOption(i.initialAdOption),t=!0;break}}return t||console.log("Failed to init slot "+e.getCustomId()),t}}),a.Capabilities=function(){this._capabilities={},this.init()},a.Capabilities.prototype={init:function(){for(var e=[a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,a.CAPABILITY_FALLBACK_UNKNOWN_ASSET,a.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,a.CAPABILITY_FALLBACK_ADS,a.CAPABILITY_SLOT_CALLBACK,a.CAPABILITY_NULL_CREATIVE,a.CAPABILITY_AUTO_EVENT_TRACKING,a.CAPABILITY_RENDERER_MANIFEST],t=0;t<e.length;t++)this._capabilities[e[t]]=a.CAPABILITY_STATUS_ON},setCapability:function(e,t){this._capabilities[e]=t},getCapability:function(e){return this._capabilities[e]},parseCapabilities:function(e){var t,n="";for(t in this._capabilities)if(this._capabilities.hasOwnProperty(t)){switch(this._capabilities[t]){case a.CAPABILITY_STATUS_ON:n+="+"+t;break;case a.CAPABILITY_STATUS_OFF:n+="-"+t}e=e.replace(RegExp("(%2B|-|\\+)"+t,"g"),"")}return n=encodeURIComponent(n),e=-1<e.indexOf("flag=")?e.replace(/flag=/,"flag="+n):e+"&flag="+n}},a.ContentVideoExtension=function(){this.autoSourceRestore=this.respondPauseResume=!0,this._originalTime=0,this._contentVideoControls=this._contentVideoSrc=null},a.ContentVideoExtension.prototype={_isEnabled:function(){var e=this._context.getParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);return(null===e||!0===a.Util.str2bool(e))&&null!==this._context.getContentVideoElement()},_getBooleanParameter:function(e,t){var n=this._context.getParameter(e);return null==n&&(n=t),a.Util.str2bool(n)},init:function(e){console.log("ContentVideoExtension.init(context)"),this._context=e,this._fixContentVideoCurrentTime=a.Util.bind(this,function(){if(!(0>=this._context.getContentVideoElement().currentTime||0>=this._context.getContentVideoElement().seekable.length)&&(this._context.getContentVideoElement().removeEventListener("timeupdate",this._fixContentVideoCurrentTime,!1),0<this._context.getContentVideoElement().currentTime&&1>this._context.getContentVideoElement().currentTime&&1<this._originalTime)){console.log("ContentVideoExtension: seeking to original time",this._originalTime);try{this._context.getContentVideoElement().currentTime=this._originalTime}catch(e){console.log("ContentVideoExtension: seek error")}}}),this._pause=a.Util.bind(this,function(){this._isEnabled()?this._respondPauseResume()&&(console.log("ContentVideoExtension: EVENT_CONTENT_VIDEO_PAUSE_REQUEST pausing content video",this._context.getContentVideoElement().src),this._originalTime=this._context.getContentVideoElement().currentTime,this._context.getContentVideoElement().pause()):console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._resume=a.Util.bind(this,function(){this._isEnabled()?this._respondPauseResume()&&(console.log("ContentVideoExtension: EVENT_CONTENT_VIDEO_RESUME_REQUEST resume content video",this._context.getContentVideoElement().src),!this._context._videoAsset||null!=this._context._videoAsset._state&&this._context._videoAsset._state!==a.VIDEO_STATE_COMPLETED?(console.log("ContentVideoExtension: resume content video"),this._context.getContentVideoElement().play(),a.PLATFORM_AUTO_SEEK_AFTER_MIDROLL&&!0===this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK,!0)&&this._context.getContentVideoElement().addEventListener("timeupdate",this._fixContentVideoCurrentTime,!1)):console.log("ContentVideoExtension: video state is uninitialized or completed, skip resume.")):console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._onAttach=a.Util.bind(this,function(e){if(this._isEnabled()){if(this._autoSourceRestore())switch(e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:console.log("ContentVideoExtension: store current content video src",this._context.getContentVideoElement().src),this._contentVideoSrc=this._context.getContentVideoElement().src,this._contentVideoControls=this._context.getContentVideoElement().controls,this._context.getContentVideoElement().paused||this._context.getContentVideoElement().pause()}}else console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),this._onDetach=a.Util.bind(this,function(e){if(this._isEnabled()){if(this._autoSourceRestore())switch(e=e.slot.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_POSTROLL:console.log("ContentVideoExtension: restore content video src to",this._contentVideoSrc),this._context.getContentVideoElement().src!==this._contentVideoSrc&&(this._context.getContentVideoElement().src=this._contentVideoSrc),this._context.getContentVideoElement().controls=this._contentVideoControls,e===a.TIME_POSITION_CLASS_PREROLL&&this._context.getContentVideoElement().load()}}else console.log("ContentVideoExtension: extension is not enabled, do nothing.")}),console.log("ContentVideoExtension: enabling content video pause resume request handling."),this._context.addEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.addEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),console.log("ContentVideoExtension: enabling content video source management."),this._context.addEventListener(a.EVENT_SLOT_STARTED,this._onAttach),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onDetach)},_respondPauseResume:function(){return this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0)},_autoSourceRestore:function(){return this._getBooleanParameter(a.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0)},dispose:function(){console.log("ContentVideoExtension.dispose()"),this._context&&(this._context.removeEventListener(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.removeEventListener(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),this._context.removeEventListener(a.EVENT_SLOT_STARTED,this._onAttach),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onDetach),this._context=null)}},a.ContentVideoExtension.prototype.constructor=a.ContentVideoExtension,a._instanceCounter=0,a._instanceQueue={},a.Context=function(e){this._adManager=e,this._eventDispatcher=new a.EventDispatcher,this._adRequest=new a.AdRequest(this),this._adResponse=null,this._videoAsset=new a.VideoAsset(this),this._temporalSlotBase=null,this._videoDisplaySize={},this._globalLevelParameterDictionary={},this._overrideLevelParameterDictionary={},this._rendererManifest={},this._overriddenAdRenderers=[],this._extensionManager=new a.ExtensionManager(this),this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=this._requestState=0,this._instanceId=a._instanceCounter,a._instanceQueue["Context_"+a._instanceCounter]=this,a._instanceCounter++,this._contentVideoAttached=!1,this._currentContentPlayheadTime=0,this._ss_id="",this._ss_networkId=this._ss_pageViewRandom=0,this._ss_idType=a.ID_TYPE_CUSTOM,this._va_location=this._va_networkId=this._va_duration=this._va_id=this._ss_fallbackId="",this._va_autoPlayType=a.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED,this._va_fallbackId="",this._va_viewRandom=0,this._va_idType=a.ID_TYPE_CUSTOM,this._va_durationType=a.VIDEO_ASSET_DURATION_TYPE_EXACT,this._isRefreshRequest=!1,this._refreshSlots=[],this._adVolume=1,this._onVolumeChange=this.__onVolumeChange.bind(this)},a.Context.prototype={getAdVolume:function(){return this._adVolume},setAdVolume:function(e){if(console.log("Context.setAdVolume",e),this.getContentVideoElement())if("number"!=typeof e||0>e||e>1)console.log("Invalid volume: "+e);else if((a.PLATFORM_IS_IPHONE_IPOD||a.PLATFORM_IS_IPAD)&&e>0&&1>e)console.log("iOS doesn't allow volume values other than 0 and 1, ignore.");else if(e==this._adVolume)console.log("Volume did not change, ignore.");else{this._adVolume=e;for(var e=this.getTemporalSlots(),t=0;t<e.length;++t){var n=e[t];if(n.getType()==a.SLOT_TYPE_TEMPORAL&&n.getState()!==a.MediaInitState.instance&&n.getState()!==a.MediaEndState.instance&&(n=n.getCurrentAdInstance())){n.setVolume(this._adVolume);break}}}else console.log("No video element set, ignore.")},__onVolumeChange:function(){console.log("Context._onVolumeChange(): video element is muted: "+this.getContentVideoElement().muted),0==this._adVolume?this.setAdVolume(this.getContentVideoElement().volume):this.setAdVolume(this.getContentVideoElement().muted?0:this.getContentVideoElement().volume)},addRenderer:function(e,t,n,i,a,r,o){this._overriddenAdRenderers.push({url:e,baseUnit:t,contentType:n,creativeApi:r,slotType:i,soAdUnit:a,parameter:o})},setCapability:function(e,t){console.log("Context.setCapability",e,t),this._adRequest.setCapability(e,t)},addKeyValue:function(e,t){console.log("Context.addKeyValue",e,t),this._adRequest.addKeyValue(e,t)},setParameter:function(e,t,n){console.log("Context.setParameter",e,t,n);var i=null;if(n===a.PARAMETER_LEVEL_GLOBAL)i=this._globalLevelParameterDictionary;else{if(n!==a.PARAMETER_LEVEL_OVERRIDE)return;i=this._overrideLevelParameterDictionary}null==t?delete i[e]:i[e]=t},getParameter:function(e){return e?this._overrideLevelParameterDictionary.hasOwnProperty(e)?this._overrideLevelParameterDictionary[e]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(e)?this._adResponse._profileParameters[e]:this._globalLevelParameterDictionary.hasOwnProperty(e)?this._globalLevelParameterDictionary[e]:null:null},setVideoState:function(e){console.log("Context.setVideoState",e),this._videoAsset.setVideoState(e)},registerVideoDisplayBase:function(e){if(console.log("Context.registerVideoDisplayBase",e),e&&"string"==typeof e){if(this._temporalSlotBase&&this._temporalSlotBase.id===e){console.log("Context.registerVideoDisplayBase","register the same display base, will only change size");var t=this._temporalSlotBase.getElementsByTagName("video")}else{if(this._temporalSlotBase=document.getElementById(e),!this._temporalSlotBase)return void console.log("Context.registerVideoDisplayBase","could not get element",e);if(0===(t=this._temporalSlotBase.getElementsByTagName("video")).length)return console.log("Context.registerVideoDisplayBase","could not get video element from",e),void(this._temporalSlotBase=null);this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=t[0],this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=t[0].muted?0:t[0].volume}this._setVideoDisplaySizeByContentVideo(t[0])}else console.log("Context.registerVideoDisplayBase","id required")},setContentVideoElement:function(e){console.log("Context.setContentVideoElement()"),e&&e.parentNode?(this._temporalSlotBase=e.parentNode,this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]===e?console.log("Context.setContentVideoElement","set the same video in same div, will only change size"):(this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=e,this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=this.getContentVideoElement().muted?0:this.getContentVideoElement().volume),this._setVideoDisplaySizeByContentVideo(e)):console.log("Context.setContentVideoElement","contentVideo and contentVideo.parentNode is required")},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:(console.log("SlotBase is null"),null)},setVideoDisplaySize:function(e,t,n,i,r){console.log("Context.setVideoDisplaySize("+Array.prototype.slice.call(arguments).join(",")+")"),this._totalSetDisplaySizeCount++,this._videoDisplaySize={left:e,top:t,width:n,height:i,position:r};for(var o=this.getTemporalSlots(),s=0;s<o.length;++s){var l=o[s];if(l.getState()===a.MediaPlayingState.instance||l.getState()===a.MediaReplayingState.instance){(o=l.getCurrentAdInstance())&&((o=o.getRendererController().getRenderer())&&o.resize?o.resize():console.log("renderer do not support resize"));break}}},getVideoDisplaySize:function(){function e(e){return e=parseInt(e,10),isNaN(e)&&(e=0),e}return this._videoDisplaySize.left=e(this._videoDisplaySize.left),this._videoDisplaySize.right=e(this._videoDisplaySize.right),this._videoDisplaySize.width=e(this._videoDisplaySize.width),this._videoDisplaySize.height=e(this._videoDisplaySize.height),this._videoDisplaySize},setVideoDisplayCompatibleSizes:function(e){console.log("Context.setVideoDisplayCompatibleSizes",e),this._adRequest.setVideoDisplayCompatibleSizes(e)},setProfile:function(e){console.log("Context.setProfile",e),this._adRequest.setProfile(e)},setVideoAsset:function(e,t,n,i,a,r,o,s,l){console.log("Context.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")"),this._videoAsset.setVideoAsset(e,t,n,i,a,r,o,s,l),this._va_id=e,this._va_duration=t,this._va_networkId=n,this._va_location=i,this._va_autoPlayType=a,this._va_viewRandom=r,this._va_idType=o,this._va_fallbackId=s,this._va_durationType=l},setVideoAssetCurrentTimePosition:function(e){console.log("Context.setVideoAssetCurrentTimePosition("+e+")"),this._videoAsset.setVideoAssetCurrentTimePosition(e)},setSiteSection:function(e,t,n,i,a){console.log("Context.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setSiteSection(e,t,n,i,a),this._ss_id=e,this._ss_networkId=t,this._ss_pageViewRandom=n,this._ss_idType=i,this._ss_fallbackId=a},setVisitor:function(e,t){console.log("Context.setVisitor("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.setVisitor(e,t)},startSubsession:function(e){console.log("Context.startSubsession("+e+")"),this._adRequest.setSubsessionToken(e)},setRequestMode:function(e){console.log("Context.setRequestMode("+e+")"),this._adRequest.setRequestMode(e)},setRequestDuration:function(e){console.log("Context.setRequestDuration("+e+")"),this._adRequest.setRequestDuration(e)},addCandidateAd:function(e){console.log("Context.addCandidateAd("+e+")"),this._adRequest.addCandidateAd(e)},addTemporalSlot:function(e,t,n,i,a,r,o,s){console.log("Context.addTemporalSlot("+Array.prototype.slice.call(arguments).join(",")+")"),this._adRequest.addTemporalSlot(e,t,n,i,a,r,o,s)},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[]},getSlotByCustomId:function(e){return this._adResponse?this._adResponse.getSlotByCustomId(e):null},getSlotsByTimePositionClass:function(e){var t=[];if(this._adResponse){for(var n=0;n<this._adResponse._temporalSlots.length;n++)this._adResponse._temporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._temporalSlots[n]);for(n=0;n<this._adResponse._siteSectionNonTemporalSlots.length;n++)this._adResponse._siteSectionNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._siteSectionNonTemporalSlots[n]);for(n=0;n<this._adResponse._videoPlayerNonTemporalSlots.length;n++)this._adResponse._videoPlayerNonTemporalSlots[n].getTimePositionClass()===e&&t.push(this._adResponse._videoPlayerNonTemporalSlots[n])}return t},submitRequest:function(e){if(console.log("Context.submitRequest",e),this.dispatchEvent(a.EVENT_REQUEST_INITIATED,{}),this._requestState)console.log("Context.submitRequest: request already submitted");else if(a.Util.isBlank(this._adManager._serverURL))console.log("Context.submitRequest: serverURL is not set");else{if(this._requestState=1,this._adRequest.scanPageSlots(),this._isRefreshRequest){for(var t={},n=[],i=0;i<this._refreshSlots.length;i++){var r=this._refreshSlots[i];if(void 0!=this._adRequest._slotScanner._slots[r]){t[r]=this._adRequest._slotScanner._slots[r];for(var o=t[r].split("&"),s=0;s<o.length;s++)-1!==o[s].search("flag")&&(o[s]="flag=-cmpn");t[r]=o.join("&")}for(s=0;s<this._adRequest._slotScanner._knownSlots.length;s++)this._adRequest._slotScanner._knownSlots[s].id==r&&(o=this._adRequest._slotScanner._knownSlots[s],o.acceptCompanion=!1,o.initialAdOption=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,n.push(o))}this._adRequest._slotScanner._slots=t,this._adRequest._slotScanner._knownSlots=n}this.getParameter(a.PARAMETER_ENABLE_FORM_TRANSPORT)&&(console.log("Context.submitRequest: enabling Safari transport mechanism globally"),a.PLATFORM_SEND_REQUEST_BY_FORM=!0),".js"!==(t=this._adManager._serverURL).substring(t.length-3,t.length)&&(t=this._adRequest.generateTypeBRequestUrl());var l=this;("number"!=typeof e||0>=e||!e)&&(e=5),setTimeout(function(){1===l._requestState&&(console.log("Context.submitRequest: request timeout"),l.requestComplete(null))},1e3*e),console.log("Context.submitRequest: sending request to",t,"timeout",e),a.PLATFORM_SEND_REQUEST_BY_FORM?(console.log("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(t,this._instanceId,!0),l._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+l._instanceId+"']")&&l.requestComplete(e.data.response)},window.addEventListener("message",l._onMessagePosted,!1)):a.Util.pingURLWithScript(t)}},requestComplete:function(e){if(1!==this._requestState)console.log("ad request complete after timeout"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1});else{if(this._requestState=2,console.log("Context.requestComplete"),a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);t=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(t)}if(null!==e){a._instanceQueue["Context_"+this._instanceId]=null,this._adResponse=new a.AdResponse(this),this._adResponse.parse(e,this._temporalSlotBase),console.log("Ad request succeeded");for(var t=(this._adResponse._profileParameters.autoloadExtensions||"").split(","),n=0;n<t.length;n++){var i=t[n].trim();console.log("Loading extension: "+i),this.loadExtension(i)}for(this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!0,response:e}),t=this._adResponse.getSiteSectionNonTemporalSlots(),e=0;e<t.length;++e)console.log("Auto play site section nonTemporal slots"),t[e].play();for(t=this._adResponse.getVideoPlayerNonTemporalSlots(),e=0;e<t.length;++e)console.log("Auto play video player nonTemporal slots"),t[e].play()}else console.log("Ad request failed"),this.dispatchEvent(a.EVENT_REQUEST_COMPLETE,{success:!1})}},addEventListener:function(e,t){console.log("Context.addEventListener",e),this._eventDispatcher.addEventListener(e,t)},removeEventListener:function(e,t){console.log("Context.removeEventListener",e),this._eventDispatcher.removeEventListener(e,t)},dispatchEvent:function(e,t){if(console.log("Context.dispatchEvent",e),e===a.EVENT_SLOT_STARTED){var n=t.slot.getTimePositionClass();n!==a.TIME_POSITION_CLASS_PREROLL&&n!==a.TIME_POSITION_CLASS_MIDROLL&&n!==a.TIME_POSITION_CLASS_POSTROLL||(this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime())}else e===a.EVENT_SLOT_ENDED&&((n=t.slot.getTimePositionClass())===a.TIME_POSITION_CLASS_PREROLL||n===a.TIME_POSITION_CLASS_MIDROLL||n===a.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);(t=t||{}).type=e,t.target=this,this._eventDispatcher.dispatchEvent(t)},dispose:function(){if(console.log("Context.dispose"),this.setVideoState(a.VIDEO_STATE_STOPPED),this._adResponse){if(this._temporalSlotBase){for(var e=0,t=this._adResponse._temporalSlots||[];e<t.length;++e){var n=t[e];if(n._onContentVideoTimeUpdate){var i=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];i&&i.removeEventListener("timeupdate",n._onContentVideoTimeUpdate,!1),n._onContentVideoTimeUpdate=null}}this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange),this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null}this._isRefreshRequest=!1,this._refreshSlots=[],this._extensionManager.dispose(),this._extensionManager=null}},loadExtension:function(e){this._extensionManager.load(e,this)},_markCurrentContentPlayheadTime:function(){var e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;e>0&&(this._currentContentPlayheadTime=e)},_getContentPlayheadTime:function(){var e=-1;return this._contentVideoAttached||(e=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime),e>0?e:this._currentContentPlayheadTime},_requestContentVideoToPauseBySlot:function(e){this._videoAsset.requestPauseBySlot(e)},_requestContentVideoToResumeBySlot:function(e){this._videoAsset.requestResumeBySlot(e)},_setVideoDisplaySizeByContentVideo:function(e){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var t=e.style.left,n=e.style.top,i=e.offsetWidth?e.offsetWidth:e.style.pixelWidth,a=e.offsetHeight?e.offsetHeight:e.style.pixelHeight,e=e.style.position;this._autoSetDisplaySizeCount++,this.setVideoDisplaySize(t,n,i,a,e)}},_replacePageSlot:function(b,c){navigator.userAgent.match(/MSIE/);var d=null!=navigator.userAgent.match(/Firefox/);console.log("fw replace %s",b);var f,g,h;try{f=document.getElementById(b)?document:parent.document.getElementById(b)?parent.document:null,g=document.getElementById(b)?"window":parent.document.getElementById(b)?"parent":null}catch(e){g=f=null}if(!f)for(var j=0;j<window.frames.length;j++)try{window.frames[j].document.getElementById(b)&&(f=window.frames[j].document,g="window.frames["+j+"]")}catch(e){console.log(e)}if(g&&(h=g+".document"),console.log("fw replacing slot %s in frame %s",b,h),!f)throw"Slot element not found: "+b;j=f.getElementById("_fw_container_"+b),j.innerHTML=c;for(var j=j.getElementsByTagName("script"),m=f.getElementsByTagName("head")[0],l=0;l<j.length;++l)if(d||j[l].src){var n=f.createElement("script");j[l].charset&&(n.charset=j[l].charset),j[l].src&&(n.src=j[l].src),j[l].innerHTML&&(n.innerHTML=j[l].innerHTML),n.onload=n.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&m.removeChild(n)},console.log("fw append script for %s",b),m.appendChild(n)}else n=j[l].innerHTML,n=n.replace(/var fw_scope = document;/,"var fw_scope="+h+";"),n=n.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";"),console.log("fw eval in %s for %s, %s",h,b,n),eval(n);console.log("fw finish replace %s",b)}},a.Context.prototype.constructor=a.Context,a.DisplayRefreshExtension=function(){this.REFRESH_TYPE_NONE="refresh_none",this.REFRESH_TYPE_AD="refresh_ad",this.REFRESH_TYPE_TIME="refresh_time",this.REPLACE_TYPE_NONE="replace_none",this.REPLACE_TYPE_BLANK="replace_blank",this.REPLACE_TYPE_AD="replace_ad",this._subContext=null,this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer=null,this._firstTemporalAd=!0,this._REQUEST_TIME_OUT=5},a.DisplayRefreshExtension.prototype={init:function(e){this._context=e,console.log("DisplayRefreshExtension.init(context)"),this._onRendererEvent=a.Util.bind(this,function(e){console.log("DisplayRefreshExtension._onRendererEvent()"),e.subType===a.EVENT_AD_IMPRESSION&&this._onAdStarted(e)}),this._onSlotEnded=a.Util.bind(this,function(e){var t=e.slot.getTimePositionClass(),e=e.slot;if(console.log("DisplayRefreshExtension._onSlotEnded()",e,t),null!=e&&t!=a.TIME_POSITION_CLASS_DISPLAY&&0!=e.getAdInstances().length)if(this._refreshType==this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType==this.REFRESH_TYPE_TIME){this._resetSubContext(),this._refreshSlots(this._displaySlots);var n=this;this._refreshTimer=setInterval(function(){console.log("DisplayRefreshExtension._onTimeout()"),n._resetSubContext(),n._refreshSlots(n._displaySlots)},1e3*this._refreshInterval)}}),this._onRequestComplete=a.Util.bind(this,function(e){if(console.log("DisplayRefreshExtension._onRequestComplete()"),e.success){switch(this._context.getParameter("refreshType")){case"ad":this._refreshType=this.REFRESH_TYPE_AD;break;case"time":this._refreshInterval=this._context.getParameter("refreshInterval"),this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE}switch(this._context.getParameter("replaceMissingCompanion")){case"blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case"ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE}if(this._refreshType!=this.REFRESH_TYPE_NONE||this._replaceType!=this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(e){return e.getAcceptCompanion()}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(a.EVENT_AD,this._onRendererEvent),this._context.addEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType==this.REFRESH_TYPE_TIME){var t=this;this._refreshTimer=setInterval(function(){console.log("DisplayRefreshExtension._onTimeout()"),t._resetSubContext(),t._refreshSlots(t._displaySlots)},1e3*this._refreshInterval)}}else this._refreshTimer&&clearInterval(this._refreshTimer)}else console.log("DisplayRefreshExtension: request complete failed")}),this._context.addEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete)},_resetSubContext:function(){console.log("DisplayRefreshExtension._resetSubContext()"),this._subContext=this._context._adManager.cloneContext(this._context),this._subContext._extensionManager._displayRefreshExtension.dispose(),this._subContext._extensionManager._videoStateExtension.dispose(),this._subContext.setCapability(a.CAPABILITY_SLOT_TEMPLATE,a.CAPABILITY_STATUS_OFF),this._subContext.setCapability(a.CAPABILITY_DISPLAY_REFRESH,a.CAPABILITY_STATUS_ON),this._playRefreshedSlots=a.Util.bind(this,function(e){if(console.log("DisplayRefreshExtension._playRefreshedSlots()"),e.success)for(var e=this._subContext.getSlotsByTimePositionClass(a.TIME_POSITION_CLASS_DISPLAY),t=0;t<e.length;t++)e[t].play();else console.log("DisplayRefreshExtension._playRefreshedSlots(): subContext refresh request error:",e)}),this._subContext.addEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var e=this._subContext._adRequest._keyValues,t=0;t<this._keyValues.length;t++)0>e.indexOf(this._keyValues[t])&&e.push(this._keyValues[t]);for(var n in this._globalParameters)this._globalParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._globalParameters[n],a.PARAMETER_LEVEL_GLOBAL);for(n in this._overrideParameters)this._overrideParameters.hasOwnProperty(n)&&this._subContext.setParameter(n,this._overrideParameters[n],a.PARAMETER_LEVEL_OVERRIDE)},_onAdStarted:function(e){console.log("DisplayRefreshExtension._onAdStarted()");t=e.adInstance.getSlot();if(console.log("DisplayRefreshExtension._onAdStarted(): slot: ",t," | timePositionClass:",t.getTimePositionClass()),null!=t&&t.getTimePositionClass()!=a.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!=this.REPLACE_TYPE_NONE))for(var e=e.adInstance,t=t.getAdInstances(),n=0;n<t.length;n++)e.getAdId()===t[n].getAdId()&&this._checkMissingCompanionForAd(e)},_checkMissingCompanionForAd:function(e){console.log("DisplayRefreshExtension._checkMissingCompanionForAd()",e);for(var t=this._companionSlots.slice(),e=e.getCompanionAdInstances(),n=0;n<e.length;n++){var i=t.indexOf(e[n].getSlot());i>-1&&t.splice(i,1)}if(this._firstTemporalAd&&(this._firstTemporalAd=!1,t=t.filter(function(e){if(e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&e.getInitialAdOption()!=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial false in slot ",e.getCustomId()),!0;for(var t=e.getAdInstances(),n=0;n<t.length;n++)if(!t[n].isPlaceholder())return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): first companion found in slot ",e.getCustomId()),!1;return console.log("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial true, no ad in slot ",e.getCustomId()),!0})),this._replaceType==this.REPLACE_TYPE_BLANK)for(n=0;n<t.length;n++)t[n].stop(),this._subContext._replacePageSlot(t[n].getCustomId(),"");else this._replaceType==this.REPLACE_TYPE_AD&&this._refreshSlots(t)},_refreshSlots:function(e){if(console.log("DisplayRefreshExtension._refreshSlots()",e),null!=e&&0!=e.length){for(var t=0;t<e.length;t++)e[t].stop(),this._subContext._refreshSlots.push(e[t].getCustomId());this._subContext._isRefreshRequest=!0,this._subContext.submitRequest(this._REQUEST_TIME_OUT)}},dispose:function(){console.log("DisplayRefreshExtension.dispose()"),this._context&&(this._context.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._onRequestComplete),this._context.removeEventListener(a.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(a.EVENT_AD,this._onRendererEvent),this._context=null),this._subContext&&(this._subContext.removeEventListener(a.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null),this._displaySlots=[],this._companionSlots=[],this._keyValues=[],this._globalParameters=[],this._overrideParameters=[],this._refreshType=this.REFRESH_TYPE_NONE,this._replaceType=this.REPLACE_TYPE_NONE,this._refreshInterval=0,this._refreshTimer&&clearInterval(this._refreshTimer),this._refreshTimer=null,this._firstTemporalAd=!0}},a.DisplayRefreshExtension.prototype.constructor=a.DisplayRefreshExtension,a.EventCallback=function(e){this._url=this._name=this._type=null,this._showBrowser=!1,this._trackingUrls=[],this._adInstance=this._slot=null,this._context=e},a.EventCallback.prototype={},a.EventCallback.prototype.constructor=a.EventCallback,a.EventCallback.getEventCallback=function(e,t,n){for(var i,r=0;r<e.length;r++)if((i=e[r])._name===t&&i._type===n)return i;for(r=0;r<e.length;r++)if((i=e[r])._type===a.EVENT_TYPE_GENERIC)return(t=a.EventCallback.newEventCallback(i._context,t,n))&&(t._url=i._url,t._slot=i._slot,t._adInstance=i._adInstance,e.push(t)),t;return null},a.EventCallback.newEventCallback=function(e,t,n){var i=null;if(n===a.EVENT_TYPE_GENERIC)i=new a.EventCallback(e);else if(n===a.EVENT_TYPE_ERROR)i=new a.ErrorEventCallback(e);else if(n===a.EVENT_TYPE_CLICK)i=new a.AdClickEventCallback(e);else if(n===a.EVENT_TYPE_STANDARD)i=new a.AdStandardEventCallback(e);else if(t===a.EVENT_SLOT_IMPRESSION||t===a.EVENT_SLOT_END)i=new a.SlotImpressionEventCallback(e);else if(t===a.EVENT_AD_IMPRESSION||t===a.EVENT_AD_IMPRESSION_END)i=new a.AdImpressionEventCallback(e);else if(t===a.EVENT_VIDEO_VIEW)i=new a.VideoViewEventCallback(e);else if(t===a.EVENT_RESELLER_NO_AD)i=new a.ResellerNoAdEventCallback(e);else{if(t!==a.EVENT_AD_FIRST_QUARTILE&&t!==a.EVENT_AD_MIDPOINT&&t!==a.EVENT_AD_THIRD_QUARTILE&&t!==a.EVENT_AD_COMPLETE)return null;i=new a.AdQuartileEventCallback(e)}return i._name=t,i._type=n,i},a.EventCallback.getShortType=function(e){var t="";switch(e){case a.EVENT_TYPE_IMPRESSION:t=a.SHORT_EVENT_TYPE_IMPRESSION;break;case a.EVENT_TYPE_CLICK:t=a.SHORT_EVENT_TYPE_CLICK;break;case a.EVENT_TYPE_STANDARD:t=a.SHORT_EVENT_TYPE_STANDARD;break;case a.EVENT_TYPE_ERROR:t=a.SHORT_EVENT_TYPE_ERROR}return t},a.Util.mixin(a.EventCallback.prototype,{parse:function(e){if(e){this._usage=e.use,this._type=e.type,this._name=e.name,this._url=e.url,this._showBrowser=e.showBrowser,this._trackingUrls=[];for(var t=0,e=e.trackingUrls||[];t<e.length;t++)this._trackingUrls.push(e[t].value)}},copy:function(){var e=new this.constructor(this._context);return e._type=this._type,e._name=this._name,e._url=this._url,e._showBrowser=this._showBrowser,e._trackingUrls=this._trackingUrls.slice(),e._slot=this._slot,e._adInstance=this._adInstance,e},getUrl:function(e){var t=this._replaceMacrosInUrl(this._url);return this._name===a.EVENT_AD_MEASUREMENT?(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.SHORT_EVENT_TYPE_IMPRESSION),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CONCRETE_EVENT_ID,e[a.INFO_KEY_CONCRETE_EVENT_ID])):t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_ET,a.EventCallback.getShortType(this._type)),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,this._name),this._adInstance&&0<this._adInstance._creativeRenditionId&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId)),t},getTrackingUrls:function(){var e=this._trackingUrls;this._adInstance&&((t=this._type)===a.EVENT_TYPE_CLICK&&(t=a.EVENT_TYPE_CLICK_TRACKING),e=e.concat(this._adInstance.getExternalEventCallbackUrls(this._name,t)));for(var t=[],n=0;n<e.length;n++){var i=a.Util.trim(this._replaceMacrosInUrl(e[n]));a.Util.isBlank(i)||t.push(i)}return t},process:function(e){e=e||{},this._processTrackingUrls(),a.Util.pingURL(this.getUrl(e))},_processTrackingUrls:function(){this._shouldSkipSendingTrackingAndExternalUrls()||a.Util.pingURLs(this.getTrackingUrls())},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1},_needEmptyCT:function(e){var t=!1;return e&&!0===e[a.INFO_KEY_NEED_EMPTY_CT]&&(t=!0),t},_getAdPlayheadTime:function(){var e=-1;return this._adInstance&&(e=this._adInstance.getPlayheadTime()),e},_getCreativeAssetLocation:function(){var e=null;return this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(e=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl()),e},_getParameter:function(e){return this._adInstance?this._adInstance._rendererController.getParameter(e):this._slot?this._slot.getParameter(e):this._context.getParameter(e)},_replaceMacrosInUrl:function(e){if(a.Util.isBlank(e))return e;var e=e.replace(/#(ce?)\{([^\}]+)\}/g,a.Util.bind(this,function(e,t,n){switch(e="ce"===t,t=null,n){case"ad.playheadTime":t=(n=this._getAdPlayheadTime())>=0?Math.round(n)+"":"";break;case"content.playheadTime":t=(n=this._context._getContentPlayheadTime())>=0?Math.round(n)+"":"";break;case"creative.assetLocation":t=this._getCreativeAssetLocation();break;default:0===n.indexOf("parameter.")&&(t=this._getParameter(n.substr(10)))}return a.Util.isBlank(t)&&(t=""),e?encodeURIComponent(t):t})),t="";try{t=a.Util.getParameterInURL(e,a.URL_PARAMETER_KEY_CR)}catch(t){return console.log(t),e}return a.Util.isBlank(t)||(e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(t))),e}}),a.AdClickEventCallback=function(e){a.EventCallback.call(this,e)},a.AdClickEventCallback.prototype=new a.EventCallback,a.AdClickEventCallback.prototype.constructor=a.AdClickEventCallback,a.Util.mixin(a.AdClickEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e);return e[a.INFO_KEY_URL]&&(a.Util.isParameterInURL(t,a.URL_PARAMETER_KEY_CR)||(t=t+"&"+a.URL_PARAMETER_KEY_CR+"="),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CR,e[a.INFO_KEY_URL])),t},process:function(e){var e=e||{},t=this.getUrl(e),n=!0===this._showBrowser,n=e.hasOwnProperty(a.INFO_KEY_SHOW_BROWSER)?!0===e[a.INFO_KEY_SHOW_BROWSER]:n;e[a.INFO_KEY_URL]&&(n=!0),n&&!a.Util.isBlank(t)?(window.open(t),this._processTrackingUrls()):a.EventCallback.prototype.process.call(this,e)}}),a.AdImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.AdImpressionEventCallback.prototype=new a.EventCallback,a.AdImpressionEventCallback.prototype.constructor=a.AdImpressionEventCallback,a.Util.mixin(a.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return this._name!==a.EVENT_AD_IMPRESSION&&(t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[a.INFO_KEY_MODULE_TYPE]&&(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdQuartileEventCallback=function(e){a.EventCallback.call(this,e)},a.AdQuartileEventCallback.prototype=new a.EventCallback,a.AdQuartileEventCallback.prototype.constructor=a.AdQuartileEventCallback,a.Util.mixin(a.AdQuartileEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_METR,this._adInstance._metr);return t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CT,this._needEmptyCT(e)?"":this._adInstance._timer.tick())},process:function(e){this._processed||(a.EventCallback.prototype.process.call(this,e),this._processed=!0)}}),a.AdStandardEventCallback=function(e){a.EventCallback.call(this,e)},a.AdStandardEventCallback.prototype=new a.EventCallback,a.AdStandardEventCallback.prototype.constructor=a.AdStandardEventCallback,a.ErrorEventCallback=function(e){a.EventCallback.call(this,e)},a.ErrorEventCallback.prototype=new a.EventCallback,a.ErrorEventCallback.prototype.constructor=a.ErrorEventCallback,a.Util.mixin(a.ErrorEventCallback.prototype,{getUrl:function(e){var t=a.EventCallback.prototype.getUrl.call(this,e),n=e[a.INFO_KEY_ERROR_CODE];n||(n=a.ERROR_UNKNOWN);var i=e[a.INFO_KEY_ERROR_INFO];return i||(i=""),(e=e[a.INFO_KEY_ERROR_MODULE])||(e=""),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_CN,n),t=a.Util.setParameterInURL(t,a.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(e)+"&"+encodeURIComponent(a.URL_PARAMETER_KEY_ERROR_INFO)+"="+a.PLATFORM_ID+"/"+encodeURIComponent(i))}}),a.ResellerNoAdEventCallback=function(e){a.EventCallback.call(this,e)},a.ResellerNoAdEventCallback.prototype=new a.EventCallback,a.ResellerNoAdEventCallback.prototype.constructor=a.ResellerNoAdEventCallback,a.Util.mixin(a.ResellerNoAdEventCallback.prototype,{}),a.SlotImpressionEventCallback=function(e){a.EventCallback.call(this,e)},a.SlotImpressionEventCallback.prototype=new a.EventCallback,a.SlotImpressionEventCallback.prototype.constructor=a.SlotImpressionEventCallback,a.Util.mixin(a.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?a.INIT_VALUE_ONE:a.INIT_VALUE_TWO},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.VideoViewEventCallback=function(e){a.EventCallback.call(this,e)},a.VideoViewEventCallback.prototype=new a.EventCallback,a.VideoViewEventCallback.prototype.constructor=a.VideoViewEventCallback,a.Util.mixin(a.VideoViewEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==a.INIT_VALUE_ONE},_getInitValue:function(){return this._processed?a.INIT_VALUE_ZERO:a.INIT_VALUE_ONE},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime()},getUrl:function(e){return e=a.EventCallback.prototype.getUrl.call(this,e),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_INIT,this._getInitValue()),e=a.Util.setParameterInURL(e,a.URL_PARAMETER_KEY_CT,this._getCTValue())},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed},process:function(e){a.EventCallback.prototype.process.call(this,e),this._processed=!0}}),a.EventDispatcher=function(){this._listeners={}},a.EventDispatcher.prototype={addEventListener:function(e,t){void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},dispatchEvent:function(e){if("string"==typeof e&&(e={type:e}),e.target||(e.target=this),e.type&&this._listeners[e.type]instanceof Array)for(var t=this._listeners[e.type],n=0,i=t.length;i>n;n++)try{t[n]&&t[n].call(this,e)}catch(t){console.log("EventDispatcher.dispatchEvent",e.type,t)}},removeEventListener:function(e,t){if(this._listeners[e]instanceof Array){var n=this._listeners[e];if(null==t)this._listeners[e]=[];else for(var i=0,a=n.length;a>i;i++)if(n[i]===t){n.splice(i,1);break}}}},a.EventDispatcher.prototype.constructor=a.EventDispatcher,a.ExtensionManager=function(e){this._extensions={},this._context=e,this._surveyExtension=new a.SurveyExtension,this._surveyExtension.init(e),this._videoStateExtension=new a.VideoStateExtension,this._videoStateExtension.init(e),this._displayRefreshExtension=new a.DisplayRefreshExtension,this._displayRefreshExtension.init(e),this._contentVideoExtension=new a.ContentVideoExtension,this._contentVideoExtension.init(e)},a.ExtensionManager.prototype={_scriptLoaded:function(e){var t="Unknown error.";null==this._extensions[e]?this._loadFail(e,"Extension supposed to be loaded but not found"):"function"!=typeof(t=a.Util.getObject(e))?this._loadFail(e,"Script loaded but extension class not found"):"function"==typeof(t=new t).init&&"function"==typeof t.dispose?(console.log("Extension loaded: "+e),t.init(this._context),this._context.dispatchEvent(a.EVENT_EXTENSION_LOADED,{success:!0,moduleName:e})):this._loadFail(e,"Extension loaded but is not supported")},_getExtensionNameFromUrl:function(e){for(var t,n,i=/(?!.*\.{2})(?:[\\/\?=#])([a-z][\w\.]+)(?:\.js(#|\?|$))/gi;t=i.exec(e);)n=t;return n?n[1]:null},_loadFail:function(e,t){console.log("Extension failed to load. "+e+" : "+t),this._context.dispatchEvent(a.EVENT_EXTENSION_LOADED,{success:!1,errorVal:t,moduleName:e})},load:function(e){if(e){var t=this._getExtensionNameFromUrl(e);if(null===t)this._loadFail(t,"Extension name not exsit in the Url. Url: "+e);else if(this._extensions[t]===e)console.log("Extension is already loaded"),this._loadFail(t,"Extension is already loaded");else{var n=1*this._context.getParameter("moduleLoadTimeout")||6e4,i=!1,r=this,o=window.setTimeout(function(){i=!0,r._loadFail(t,"Timeout occured while loading extension. Url: "+e)},n);a.Util.lazyJavaScriptLoad(e,function(){console.log("async load extension successful, URL:"+e),window.clearTimeout(o),i?(console.log("Extension loaded after timeout, do nothing."),r._loadFail(t,"Timeout occured while loading extension. Url: "+e)):(r._extensions[t]=e,r._scriptLoaded(t))})}}else this._loadFail(t,"Url cannot be empty")},dispose:function(){this._extensions=null,this._surveyExtension.dispose(),this._surveyExtension=null,this._displayRefreshExtension.dispose(),this._displayRefreshExtension=null,this._videoStateExtension.dispose(),this._videoStateExtension=null,this._contentVideoExtension.dispose(),this._context=this._contentVideoExtension=null}},a.ExtensionManager.prototype.constructor=a.ExtensionManager,a.HTMLAdGenerator={log:function(e){console.log("HTMLAdGenerator\t"+e)},getExtension:function(e){return e&&(e=e.match(/^[^?]+\/[^?.]*(\.\w+)+/))?e[e.length-1].slice(1):""},generateAd:function(e,t,n,i,r,o,s){console.log("generatorAd("+[].slice.call(arguments,0).join(",")+")");var l=o,d=!1;switch(null==l&&(d=!0,l=a.HTMLAdGenerator.getExtension(e).toLowerCase()),l){case"jpeg":case"jpg":case"gif":case"png":case"image/jpeg":case"image/jpg":case"image/gif":case"image/png":case"image/bmp":l=a.HTMLAdGenerator.generateImageHTML(e,t);break;case"swf":case"application/x-shockwave-flash":l=a.HTMLAdGenerator.generateFlashHTML(e,t,n,i,r);break;case"script":case"js":case"text/javascript":case"text/js_ref":case"application/x-javascript":l=a.HTMLAdGenerator.generateScriptHTML(e,n,i,r);break;case"iframe":case"html":case"htm":case"text/html":case"text/html_doc_ref":case"text/html_lit_nowrapper":case"text/html_doc_lit_mobile":l=a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r);break;default:l=d?a.HTMLAdGenerator.generateIFrameHTML(e,t,n,i,r):a.HTMLAdGenerator.generateAd(e,t,n,i,r,null,s)}return"text/html_doc_lit_mobile"===s?a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(l):l},generateImageHTML:function(e,t){return console.log("generateImageHTML"),t?'<a href="'+t+'" target="_blank"><img src="'+e+'" border="0" /></a>':'<img src="'+e+'" border="0" />'},generateFlashHTML:function(e,t,n,i,a){console.log("generateFlashHTML");var r=e;return t&&0<t.length&&(r+=-1===e.indexOf("?")?"?":"&",r+="clickTag="+encodeURIComponent(t)),'<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+i+'" HEIGHT="'+a+'" id="'+n+'_external_ad"><PARAM NAME=movie VALUE="'+r+'"/><PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/><EMBED src="'+r+'" quality=high bgcolor=#FFFFFF WIDTH="'+i+'" HEIGHT="'+a+'"NAME="'+n+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>'},generateIFrameHTML:function(e,t,n,i,a){return console.log("generateIFrameHTML"),'<iframe height="'+a+'" width="'+i+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+e+'"></iframe>'},docLitToHTMLLit:function(e,t,n,i){return console.log("docLitToHTMLLit"),'<iframe id="_fw_frame_'+t+'" width="'+n+'" height="'+i+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+t+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+a.Util.encodeToHex(e)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+t+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+t+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+t+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+t+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}<\/script>'},htmlLitToDocLit:function(e){return console.log("htmlLitToDocLit"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+e+"</body></html>"},wrapUnsafeHTML:function(e,t,n,i){return a.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(a.HTMLAdGenerator.docLitToHTMLLit(a.HTMLAdGenerator.htmlLitToDocLit(e),t,n,i))},wrapJSCode:function(e,t,n,i){return a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+e+"<\/script>",t,n,i)},generateScriptHTML:function(e,t,n,i){return console.log("generateScriptHTML"),a.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+e+'"><\/script>',t,n,i)},htmlLitToHTMLDocLitMobile:function(e){return console.log("htmlLitToHTMLDocLitMobile"),'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";<\/script></head><body style="margin:0px;background-color:transparent;">'+e+"</body></html>"}},a.NullRenderer=function(){},a.NullRenderer.prototype={start:function(e){e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF),e.handleStateTransition(a.RENDERER_STATE_STARTED),e.handleStateTransition(a.RENDERER_STATE_COMPLETED)},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return-1},getDuration:function(){return-1}},a.NullRenderer.prototype.constructor=a.NullRenderer,a.PageSlotScanner=function(e){this.OPTION_INIT=1,this.OPTION_FCAI=2,this.OPTION_NIIC=4,this.OPTION_NOSA=8,this.OPTION_NSIT=16,this._knownSlots=[],this._slots={},this._candidateAds=[],this._slotOptionFound=!1,this._context=e},a.PageSlotScanner.prototype={isSlotDuplicate:function(e){for(var t=0;t<this._knownSlots.length;++t)if(this._knownSlots[t].id===e)return!0;return!1},findPageSlotByScope:function(e){var t=e.document;if(t){var n,i=/(^|\s)_fwph(\s|$)/,r=t.getElementsByTagName("span");for(e._fw_admanager||(e._fw_admanager={}),e._fw_admanager.pageScanState=!0,e=0;e<r.length;++e){var o;if(n=r[e],i.test(n.className)&&(n=n.getAttribute("id"),(o=t.getElementById("_fw_input_"+n))&&!this.isSlotDuplicate(n))&&(o=o.getAttribute("value"))){";"!==o.charAt(o.length-1)&&(o+=";");var s=!1;-1!==(p=(o=o.split(";"))[o.length-2]).search("lo=i")&&(s=!0);var l=!1;-1!==p.search("prct=")&&(l=!0),0>p.search("flag=")&&(p+="&flag="),0>p.search("ptgt=")&&(p="ptgt=s&"+p),o=[];for(var d,c,u,_=p.split("&"),p=!0,h=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,g=0;g<_.length;++g)if(2===(d=_[g].split("=")).length){if(d[1]=decodeURIComponent(d[1]),"ssct"===d[0]){if(l)continue;l=!0,d[0]="prct"}"flag"===d[0]?(-1===d[1].search(/[-\+]cmpn/)&&(d[1]+="+cmpn"),"+"!==d[1].charAt(0)&&"-"!==d[1].charAt(0)&&(d[1]="+"+d[1]),s&&-1===d[1].search("-init")&&(d[1]+="-init"),-1!==d[1].search("-nrpl")&&(d[1]=d[1].replace("-nrpl","+cmpn")),-1!==d[1].search("-cmpn")&&(p=!1),h=this._getInitialOption(d[1]),this._slotOptionFound||(h=s?a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:a.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===d[0]?c=Number(d[1]):"h"===d[0]?u=Number(d[1]):"cana"===d[0]&&this._addCandidateAds(d[1]),d=encodeURIComponent(d[0])+"="+encodeURIComponent(d[1]),o.push(d)}l||(s=this._context.getParameter(a.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",o.push("prct="+encodeURIComponent(s))),(s=t.getElementById("_fw_container_"+n))?(this._slots[n]=o.join("&")+";",this._knownSlots.push({id:n,width:c,height:u,element:s,acceptCompanion:p,initialAdOption:h})):console.log("Failed to find container for slot "+n)}}}},scanPageSlots:function(){for(var e=0;e<window.frames.length;++e)try{console.log("scanPageSlots in frame",e),this.findPageSlotByScope(window.frames[e])}catch(e){}try{window.parent&&window.parent!==window&&(console.log("scanPageSlots in parent frame"),this.findPageSlotByScope(window.parent))}catch(e){}try{console.log("scanPageSlots in current window"),this.findPageSlotByScope(window)}catch(e){}},slotsToTypeBStr:function(){var e,t="";for(e in this._slots)if(this._slots.hasOwnProperty(e)){var n=this._slots[e];-1===n.search("slid=")&&(n="slid="+encodeURIComponent(e)+"&"+n),";"!==(t+=n).charAt(t.length-1)&&(t+=";")}return t&&(t=t.substring(0,t.length-1)),t},_addCandidateAds:function(e){for(var e=e.split(","),t=0;t<e.length;t++){var n=parseInt(e[t],10);n>0&&this._candidateAds.push(n)}},_parseFlags:function(e){for(var t=[],n=[],i="",a=!0,e=e+"+",r=0;r<e.length;++r){var o=e.charAt(r);switch(o){case"+":case"-":""!=i&&(a?t.push(i):n.push(i),i=""),a="+"==o;break;default:i+=o}}return[t,n]},_getInitialOption:function(e){for(var t=!1,n=0,e=this._parseFlags(e),i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE,r=0;r<e.length;++r)for(var o=0;o<e[r].length;++o)switch(e[r][o].toString().toLowerCase()){case"init":n=0==r?n&~this.OPTION_INIT:n|this.OPTION_INIT,t=!0;break;case"fcai":n=0==r?n|this.OPTION_FCAI:n&~this.OPTION_FCAI,t=!0;break;case"niic":n=0==r?n|this.OPTION_NIIC:n&~this.OPTION_NIIC,t=!0;break;case"nosa":n=0==r?n|this.OPTION_NOSA:n&~this.OPTION_NOSA,t=!0;break;case"nsit":n=0==r?n|this.OPTION_NSIT:n&~this.OPTION_NSIT,t=!0}switch(n){case 0:t&&(i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:i=a.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;break;case 8:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:i=a.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:i=a.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:i=a.SLOT_OPTION_INITIAL_AD_STAND_ALONE}return this._slotOptionFound=t,i}},a.PageSlotScanner.prototype.constructor=a.PageSlotScanner,a.RendererController=function(e,t){var n=null,i=null,r={},o=a.RendererInitState.instance,s={},l=[],d=0;return{getAdInstance:function(){return t},getContext:function(){return e},getRendererState:function(){return o},processEvent:function(e){var n=e.name;if(n===a.RENDERER_STATE_STARTED||n===a.RENDERER_STATE_COMPLETING||n===a.RENDERER_STATE_COMPLETED||n===a.RENDERER_STATE_FAILED)this.handleStateTransition(n,e.info);else{var i=this._inferEventType(n);if(i&&(i===a.EVENT_TYPE_CLICK&&e.info&&e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]&&(n=e.info[a.INFO_KEY_CUSTOM_EVENT_NAME]),n!==a.EVENT_AD_MEASUREMENT||e.info[a.INFO_KEY_CONCRETE_EVENT_ID])){var r=n===a.EVENT_AD_INITIATED||n===a.EVENT_AD_BUFFERING_START||n===a.EVENT_AD_BUFFERING_END||n===a.EVENT_AD_VOLUME_CHANGE||e.info&&e.info.hasOwnProperty("apiOnly")&&e.info.apiOnly;t.processEvent(n,i,e.info,r)}}},handleStateTransition:function(e,n){switch(e){case a.RENDERER_STATE_STARTED:o.notifyStarted(this);break;case a.RENDERER_STATE_COMPLETING:o.complete(this);break;case a.RENDERER_STATE_COMPLETED:o.complete(this),o.notifyCompleted(this);break;case a.RENDERER_STATE_FAILED:t.getSlot()._clearScheduledAdInstance(),n||(n={}),console.log("FAIL",n.errorModule,n.errorCode,n.errorInfo);var i=t.processEvent(a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n);if(i||console.log("No EVENT_ERROR callback found"),n)switch(n[a.INFO_KEY_ERROR_CODE]){case a.ERROR_NO_AD_AVAILABLE:case a.ERROR_PARSE:(i=t.processEvent(a.EVENT_RESELLER_NO_AD,a.EVENT_TYPE_IMPRESSION))||console.log("No EVENT_RESELLER_NO_AD callback found.")}o.fail(this);break;default:console.log("Unknown event received",e)}},setCapability:function(e,n){t.setMetr(e,n)},getVersion:function(){return e._adManager.getVersion()},getParameter:function(n){if(!n)return null;if(e._overrideLevelParameterDictionary.hasOwnProperty(n))return e._overrideLevelParameterDictionary[n];if(t.getActiveCreativeRendition()&&void 0!==t.getActiveCreativeRendition().getParameter(n))return t.getActiveCreativeRendition().getParameter(n);var i=t._creative;return i&&void 0!==i.getParameter(n)?i.getParameter(n):void 0!==t.getSlot().getParameter(n)?t.getSlot().getParameter(n):e._adResponse._profileParameters.hasOwnProperty(n)?e._adResponse._profileParameters[n]:e._globalLevelParameterDictionary.hasOwnProperty(n)?e._globalLevelParameterDictionary[n]:r&&r.hasOwnProperty(n)?r[n]:null},getCompanionSlots:function(){for(var e=[],n=t._companionAdInstances,i=0;i<n.length;i++)n[i].isPlaceholder()&&e.push(n[i].getSlot());return e},createNullDrivingAdInstance:function(){var e=t.getSlot().scheduleAdInstance();return e.addCreativeRendition().setContentType("null/null"),e},scheduleAdInstances:function(e){var n,i=[],a=null;if(0===(e=e||[]).length)return i;for(n=0;n<e.length;n++)e[n].getCustomId()===t.getSlot().getCustomId()&&(a=t.getSlot().scheduleAdInstance());if(!a)if(this.isTranslator())a=this.createNullDrivingAdInstance();else{if(!this.isRenderer())return i;a=t}for(var r=0;r<e.length;r++){if(e[r].getCustomId()===t.getSlot().getCustomId())a!==t&&i.push(a);else for(var o=0,d=a._companionAdInstances;o<d.length;o++)if(n=d[o],e[r]===n.getSlot()){if(this.isTranslator())i.push(n);else if(this.isRenderer()&&n.isPlaceholder()){var c=n.cloneForTranslation();a===t&&(s[c]=n),d[o]=c,i.push(c),l.push(c)}break}i.length<=r&&i.push(null)}return i},commitAdInstance:function(){if(this.isRenderer()&&t.isStarted()){for(var e=0;e<l.length;e++){var n=l[e];n&&n.getSlot().playCompanionAds(n)}l=[]}else console.log("Skipping RendererController.commitAdInstance when called with driving ad not started or completed.")},isRenderer:function(){return n&&a.MODULE_TYPE_RENDERER===n.info()[a.INFO_KEY_MODULE_TYPE]},isTranslator:function(){return n&&a.MODULE_TYPE_TRANSLATOR===n.info()[a.INFO_KEY_MODULE_TYPE]},playable:function(){return o===a.RendererInitState.instance},reset:function(){o=a.RendererInitState.instance},play:function(){for(var e=t.getRenderableCreativeRenditions()||[],n=null,i=0;i<e.length;i++){var a=e[i];if(n=this._matchRendererClassName(a)){t.setActiveCreativeRendition(a);break}}0===d&&this._actualPlay(n)},_actualPlay:function(e){(i=a.Util.getObject(e)||a.Util.getObject(v+"."+e))&&(n=new i),n?o.start(this):this.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+e+"> not found"})},dispatchEvent:function(t,n){e.dispatchEvent(t,n)},requestContentStateChange:function(n){n?e._requestContentVideoToPauseBySlot(t.getSlot()):e._requestContentVideoToResumeBySlot(t.getSlot())},getRenderer:function(){return n},setRenderer:function(e){n=e},setRendererState:function(e){o=e},getContentVideoElement:function(){return e.getContentVideoElement()},_restorePlaceholdersForHybrid:function(){if(s&&this.isRenderer()){for(var e=[],n=0;n<t._companionAdInstances.length;n++){var i=t._companionAdInstances[n],a=s[i];a?e.push(a):e.push(i)}t._companionAdInstances=e}0<l.length&&this.isRenderer()&&(l=[])},rendererMatch:function(e){return!i||i===a.Util.getObject(this._matchRendererClassName(e))},_matchRendererClassName:function(n){function i(e,t,n){if(console.log("matching "+e+" within "+t),!t)return!0;if((t=t.split(","))[t.length-1]||t.pop(),n){for(e=e.toLowerCase(),n=0;n<t.length;n++)if(e==t[n].toLowerCase())return!0;return console.log("not match"),!1}return(t=0<=t.indexOf(e))||console.log("not match"),t}var o=n.getPrimaryCreativeRenditionAsset().getContentType(),s=n.getContentType(),l=n.getWrapperType(),c=n.getCreativeApi(),u=n.getBaseUnit(),_=t.getSoAdUnit(),p=t.getSlot();if(p.getType(),p=p.getTimePositionClass(),console.log("match renderer for creativeRendition:"+n.getId()),a.Util.isBlank(s)&&a.Util.isBlank(l))return console.log("renderer not match due to both contentType and wrapperType are empty"),null;var h=e._rendererManifest["*"];if(h||(h=e._rendererManifest[l]),h||(h=e._rendererManifest[s]),!h)for(var g=e._overriddenAdRenderers.concat(e._adResponse._adRenderers),f=0;f<g.length;f++){var E=g[f],m=!E.contentType;if(m||(l?m=i(l,E.contentType,!0):(o&&(m=i(o,E.contentType,!0)),m||(m=i(s,E.contentType,!0)))),m)if((m=!E.creativeApi)||(m=i(c,E.creativeApi)),m){if(E.baseUnit&&!i(u,E.baseUnit))console.log("can't match renderer "+E.url+" due to baseUnit not match for creativeRendition:"+n.getId());else if(E.soAdUnit&&!i(_,E.soAdUnit))console.log("can't match renderer "+E.url+" due to soAdUnit not match for creativeRendition:"+n.getId());else if(E.slotType&&!i(p.toUpperCase(),E.slotType.toUpperCase()))console.log("can't match renderer "+E.url+" due to slotType not match for creativeRendition:"+n.getId());else if(console.log("renderer "+E.url+" matched for creativeRendition:"+n.getId()),E.url){-1!==(n=(h=E.url).indexOf("?"))&&(h=h.substring(0,n)),-1!==(n=h.lastIndexOf("/"))&&(h=h.substring(n+1)),-1!==(n=h.lastIndexOf(".js"))&&(h=h.substring(0,n));var T={};if(E.parameter)for(n=[].concat(E.parameter),o=0;o<n.length;o++)if(n[o].hasOwnProperty("name"))T[n[o].name]=n[o].value;else for(var A in n[o])n[o].hasOwnProperty(A)&&(T[A]=n[o][A]);if(a.Util.getObject(v+"."+h)&&(h=v+"."+h),a.Util.getObject(h))r=T,d=0;else{if(d>0)break;var I=this;A=1*this.getContext().getParameter("moduleLoadTimeout")||6e4,d=window.setTimeout(function(){d=-1,I.handleStateTransition(a.RENDERER_STATE_FAILED,{errorCode:a.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+E.url})},A),a.Util.lazyJavaScriptLoad(E.url,function(){console.log("async load renderer successful, URL:"+E.url),-1===d?console.log("renderer loaded after timeout. WILL NOT PLAY."):(window.clearTimeout(d),d=0,r=T,I._actualPlay(h))})}break}}else console.log("can't match renderer "+E.url+" due to creative api not match for creativeRendition:"+n.getId());else console.log("can't match renderer "+E.url+" due to contentType not match for creativeRendition:"+n.getId())}return h||(a.Util.isBlank(l)&&"null/null"===s?v+".NullRenderer":null)},_inferEventType:function(e){return e===a.EVENT_ERROR?a.EVENT_TYPE_ERROR:e===a.EVENT_AD_CLICK?a.EVENT_TYPE_CLICK:e===a.EVENT_AD_IMPRESSION||e===a.EVENT_AD_FIRST_QUARTILE||e===a.EVENT_AD_MIDPOINT||e===a.EVENT_AD_THIRD_QUARTILE||e===a.EVENT_AD_COMPLETE||e===a.EVENT_RESELLER_NO_AD?a.EVENT_TYPE_IMPRESSION:e===a.EVENT_AD_PAUSE||e===a.EVENT_AD_RESUME||e===a.EVENT_AD_REWIND||e===a.EVENT_AD_MUTE||e===a.EVENT_AD_UNMUTE||e===a.EVENT_AD_COLLAPSE||e===a.EVENT_AD_EXPAND||e===a.EVENT_AD_MINIMIZE||e===a.EVENT_AD_CLOSE||e===a.EVENT_AD_ACCEPT_INVITATION?a.EVENT_TYPE_STANDARD:e===a.EVENT_AD_MEASUREMENT||e==a.EVENT_AD_VOLUME_CHANGE||e===a.EVENT_AD_BUFFERING_START||e===a.EVENT_AD_BUFFERING_END||a.EVENT_AD_INITIATED?a.EVENT_TYPE_GENERIC:null},pause:function(){console.log("RendererController.pause"),n&&"function"==typeof n.pause?n.pause():console.log("Renderer.pause() is not implemented.")},resume:function(){console.log("RendererController.resume"),n&&"function"==typeof n.resume?n.resume():console.log("Renderer.resume() is not implemented.")},stop:function(){console.log("RendererController.stop"),d>0&&(d=-1),o.stop(this)}}},a.RenditionSelector=function(e,t,n,i){this._targetByterate=e,this._arWeight=t,this._pxWeight=n,this._conversionFactor=i},a.RenditionSelector.prototype={getBestFitRendition:function(e,t,n){var i=this;if(e.reverse(),!(e=e.filter(function(e){return e&&e.getPrimaryCreativeRenditionAsset()&&(e.getPrimaryCreativeRenditionAsset().getUrl()||e.getPrimaryCreativeRenditionAsset().getContent())&&a.Util.canPlayVideoType(e.getPrimaryCreativeRenditionAsset().getMimeType())}).sort(function(e,t){return i.getBitrate(e)-i.getBitrate(t)})).length)return null;var r=Number.MAX_VALUE,o=e.filter(function(e){return e=i.getBitrate(e),r=r>e?e:r,e<=i._targetByterate});return o.length||(o=e.filter(function(e){return i.getBitrate(e)<=r})),o.sort(function(e,a){return i.compareVisualMetrics(e,a,t,n)}).pop()},compareVisualMetrics:function(e,t,n,i){var a=this.calculateVisualRatios(e.getWidth(),e.getHeight(),n,i),i=this.calculateVisualRatios(t.getWidth(),t.getHeight(),n,i);if(!a&&i)return-1;if(a&&!i)return 1;if(a&&i){var n=this._conversionFactor*this._arWeight*Math.log(a.arRatio),r=this._pxWeight*Math.log(a.pixelation),a=this._conversionFactor*this._arWeight*Math.log(i.arRatio),i=this._pxWeight*Math.log(i.pixelation),n=this.findDistance(n,r,0,0);if((a=this.findDistance(a,i,0,0))!=n)return a-n}return e.getPreference()-t.getPreference()},calculateVisualRatios:function(e,t,n,i){if(e>0&&t>0&&n>0&&i>0){var a=e/t,r=n/i;return a>r?i=n/a:n=i*a,{arRatio:a/r,pixelation:e*t/(n*i)}}return null},findDistance:function(e,t,n,i){return isNaN(e)||isNaN(n)||isNaN(t)||isNaN(i)?NaN:Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},getBitrate:function(e){var t=e.getDuration();return(e=e.getPrimaryCreativeRenditionAsset().getBytes())&&t&&!isNaN(e)&&!isNaN(t)&&e>0&&t>0?8*e/1e3/t:-1}},a.RenditionSelector.prototype.constructor=a.RenditionSelector,a.Slot=function(e){var t,n,i,r,o,s,l,d,c="",u=null,_=null,p=null,h=null,g=[],f=[],E={},m=null,T=a.MediaInitState.instance,A=0,v=null,I=0,S=0,y=[],C=!1,P=!1,R=!0,D=[];return{getSlotProfile:function(){return _},setSlotProfile:function(e){_=e},setMediaState:function(e){T=e},setParameter:function(e,t){null===t?delete E[e]:E[e]=t},getParameter:function(e){return e&&E.hasOwnProperty(e)?E[e]:void 0},getAdCount:function(){return g.length},setCustomId:function(e){c=e},getCustomId:function(){return c},setAdUnit:function(e){o=e},getAdUnit:function(){return o},setType:function(e){u=e},getType:function(){return u},setTimePosition:function(e){n=e},getTimePosition:function(){return n},setTimePositionClass:function(e){v=e&&e.toUpperCase()},getTimePositionClass:function(){return v},setWidth:function(e){i=e},getWidth:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?i||e.getVideoDisplaySize().width:i},setHeight:function(e){r=1*e},getHeight:function(){return v!==a.TIME_POSITION_CLASS_DISPLAY?r||e.getVideoDisplaySize().height:r},setBase:function(e){t=e},getBase:function(){return t},setCuepointSequence:function(e){s=1*e?1*e:0},getCuepointSequence:function(){return s},getVideoDisplaySize:function(){return e.getVideoDisplaySize()},setMaxDuration:function(e){I=1*e?1*e:0},getMaxDuration:function(){return I},setMinDuration:function(e){S=1*e?1*e:0},getMinDuration:function(){return S},setAcceptContentType:function(e){if(e&&e.trim())for(acceptContentTypeRaw=e.split(","),e=0;e<acceptContentTypeRaw.length;e++)y.push(acceptContentTypeRaw[e].trim())},getAcceptContentType:function(){return y.join(",")},parse:function(t){if(t){c=t.customId,n=1*t.timePosition,v=t.timePositionClass&&t.timePositionClass.toUpperCase()||v,o=t.adUnit;for(var i,r=0,s=t.eventCallbacks||[];r<s.length;r++){i=s[r];var l=a.EventCallback.newEventCallback(e,i.name,i.type);l&&(l._slot=this,l.parse(i),f.push(l))}for(r=0,s=t.selectedAds||[];r<s.length;r++)i=s[r],t=[],l=new a.AdInstance(e),t.push(l),l._slot=this,l._slotCustomId=c,l._parentAdInstancesGroup=t,l.parse(i),g.push(t)}},getCurrentAdInstance:function(){return p},isPauseSlot:function(){return v===a.TIME_POSITION_CLASS_PAUSE_MIDROLL},play:function(e){for(var t=this.getAdInstances(),n=0;n<t.length;n++)t[n]._isSkipped=!1;v!==a.TIME_POSITION_CLASS_DISPLAY||R?(console.log("Slot.play",v),C=!1,v===a.TIME_POSITION_CLASS_DISPLAY&&1<g.length&&g.splice(0,g.length-1),this._play(e)):(console.log("Slot is invisible. Push the play operation to the queue."),D.push({operation:this.play,argument:e}))},stop:function(){console.log("Slot.stop",v),v===a.TIME_POSITION_CLASS_DISPLAY&&(D=[]),T===a.MediaInitState.instance||T===a.MediaEndState.instance?console.log("Slot.stop, not start or already end, ignore"):(C=!0,p?p.stop():console.log("Slot.stop, no _currentAdInstance, ignore"))},pause:function(){console.log("Slot.pause"),v!==a.TIME_POSITION_CLASS_DISPLAY?p&&p.pause():console.log("Not a temporal slot. Ignore.")},resume:function(){console.log("Slot.resume"),v!==a.TIME_POSITION_CLASS_DISPLAY?p&&p.resume():console.log("Not a temporal slot. Ignore.")},skipCurrentAd:function(){console.log("Slot.skipCurrentAd ",p),p?p.skip():console.log("Slot.skipCurrentAd, no _currentAdInstance, ignore")},setVisible:function(e){if(v!==a.TIME_POSITION_CLASS_DISPLAY)console.log("Slot.setVisible is only for display ads.");else if(console.log("Slot.setVisible",e),R!=e&&(R=e))for(;0<D.length;)op=D.pop(),op.operation&&op.operation.call(this,op.argument)},_play:function(e){m=m||e,T.play(this)},onStartPlaying:function(){this._onStartPlaying()},onStartReplaying:function(){this._onStartPlaying()},onCompletePlaying:function(){this._onCompletePlaying()},onCompleteReplaying:function(){this._onCompletePlaying()},playNextAdInstance:function(){console.log("Slot.playNextAdInstance ",v),this._playNextAdInstance()||T.complete(this)},scheduleAdInstance:function(){return h=p.cloneForTranslation()},_clearScheduledAdInstance:function(){h=null},_onStartPlaying:function(){v==a.TIME_POSITION_CLASS_MIDROLL&&0<g.length&&e._requestContentVideoToPauseBySlot(this);var t=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_IMPRESSION,a.EVENT_TYPE_IMPRESSION);t&&t.process(),this.dispatchSlotEvent(a.EVENT_SLOT_STARTED),this.playNextAdInstance()},dispatchSlotEvent:function(t){P||e.dispatchEvent(t,{slot:this})},_onCompletePlaying:function(){m&&m(),m=null,D=[];var t=a.EventCallback.getEventCallback(f,a.EVENT_SLOT_END,a.EVENT_TYPE_IMPRESSION);t&&t.process(),p=null,this.dispatchSlotEvent(a.EVENT_SLOT_ENDED),v==a.TIME_POSITION_CLASS_MIDROLL&&0<g.length&&e._requestContentVideoToResumeBySlot(this)},_playNextAdInstance:function(){return!(C||T!==a.MediaPlayingState.instance&&T!==a.MediaReplayingState.instance)&&(this._commitScheduledAdInstance(),!!(p=this._nextPlayableAdInstance())&&(p.reset(),p._isInitiatedSent||(p.getRendererController().processEvent({name:a.EVENT_AD_INITIATED}),p._isInitiatedSent=!0),p.getRendererController().play(),!0))},_commitScheduledAdInstance:function(){if(h){var e=p._parentAdInstancesGroup.indexOf(p);e>=0&&(h._parentAdInstancesGroup=p._parentAdInstancesGroup,p._parentAdInstancesGroup.splice(e,1,h),h=null)}},_nextPlayableAdInstance:function(){var e=-1;if(p){var t=p._parentAdInstancesGroup,n=t.indexOf(p);(e=g.indexOf(t))>=0&&n>=0&&(p._isImpressionSent||p._isSkipped||n==t.length-1)&&e++}else e=0;if(0>e||e>=g.length)return null;if(T===a.MediaPlayingState.instance)for(t=g[e],n=0;n<t.length;n++){var i=t[n];if(i.getRendererController().playable())return i}else if(T===a.MediaReplayingState.instance)for(;e<g.length;e++){for(t=g[e],n=0;n<t.length;n++)if((i=t[n])._isImpressionSent)return i;for(n=0;n<t.length;n++)if((i=t[n]).getRendererController().getRendererState()!==a.RendererFailedState.instance&&!i._translated)return i}return null},toString:function(){return"[Slot "+c+"]"},getAdInstances:function(){for(var e=[],t=0;t<g.length;++t)for(var n=g[t],i=0;i<n.length;++i){var a=n[i];if(a.isPlayable()){e.push(a);break}}return e},getPlayheadTime:function(){for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){if(t[n]===p){(t=p.getPlayheadTime())>-1&&(e+=t);break}var i=t[n].getDuration();i>-1&&(e+=i)}return A&&e>A&&(e=A),e},getTotalDuration:function(){if(u!=a.SLOT_TYPE_TEMPORAL)return-1;for(var e=0,t=this.getAdInstances(),n=0;n<t.length;++n){var i=t[n].getDuration();i>-1&&(e+=i)}return A=e},playCompanionAds:function(e){console.log("Slot.playCompanionAds");var t=[];e._parentAdInstancesGroup=t,t.push(e),g.push(t),P=!0,p&&this.stop(),this.play()},getState:function(){return T},setAcceptCompanion:function(e){l=e},getAcceptCompanion:function(){return l},setInitialAdOption:function(e){d=e},getInitialAdOption:function(){return d}}},a.SurveyExtension=function(){this._surveyPingedIds=[]},a.SurveyExtension.prototype={init:function(t){this._context=t,console.log("SurveyExtension.init("+Array.prototype.slice.call(arguments).join(",")+")"),this._onAdStarted=a.Util.bind(this,function(t){if(this._parameters=this._getParameters(),this._parameters.enabled){console.log("SurveyExtension.onAdStarted()");var n=t.adInstance;if(-1<this._surveyPingedIds.indexOf(n.getAdId()))console.log("won't pingback survey since it has been pinged back");else{var i=n._creative.getParameter("_fw_survey_url");if(i)try{console.log("append"+i+" to head");var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",i),a.appendChild(r),this._surveyPingedIds.push(n.getAdId())}catch(n){console.log("Append survey to head",t.type,e)}}}}),this._context.addEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted)},dispose:function(){console.log("SurveyExtension.dispose()"),this._context.removeEventListener(a.EVENT_AD_IMPRESSION,this._onAdStarted),this._parameters=this._onAdStarted=null},_getParameters:function(){var e={};return e.enabled="false"!=this._context.getParameter(a.PARAMETER_EXTENSION_SURVEY_ENABLED),console.log(e),e}},a.SurveyExtension.prototype.constructor=a.SurveyExtension,a.Timer=function(e,t){this._lastTickDate=new Date,this._duration=e||-1,this._playheadTime=-1,this._callback=t,this._state=-1},a.Timer.prototype={},a.Timer.prototype.constructor=a.Timer,a.Util.mixin(a.Timer.prototype,{tick:function(){var e=new Date,t=Math.round((e.getTime()-this._lastTickDate.getTime())/1e3);return this._lastTickDate=e,t},start:function(){if(0!==this._state){2!==this._state&&-1!==this._playheadTime||(this._playheadTime=0),this._state=0,this._timeStamp=new Date,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var e=this,t=1e3*(this._duration-this._playheadTime);0>t||(this._timeouter=window.setTimeout(function(){e.stop(),e._playheadTime=e._duration,e._callback&&e._callback()},t))}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime)},stop:function(){this._state=2,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1e3+this._playheadTime},getPlayheadTime:function(){return 0===this._state?(new Date-this._timeStamp)/1e3+this._playheadTime:this._playheadTime},getCTValue:function(){return(new Date-this._timeStamp)/1e3},getDuration:function(){return this._duration}}),a.VastTranslator=function(){this._rendererController=this._request=null},a.VastTranslator.prototype={start:function(e){function t(e){console.log("VastTranslator\t"+e)}function n(e){console.log("VastTranslator\t"+e)}function i(e,t){if(e)if(e.length&&"string"!=typeof e)for(var n=0;n<e.length;n++)t(e[n].value);else e.value&&t(e.value)}function r(e,t){i(t,function(t){t&&e.push(t)})}function o(e){if(!e)return!1;for(var t=0;t<S.length;t++)if(a.Util.trim(S[t]).toLowerCase()===a.Util.trim(e).toLowerCase())return!0;return!1}function s(e){return e?("string"!=typeof e&&(e=e.toString()),-1<(e=a.Util.trim(e)).indexOf("://")?e:null):null}function l(e){this.code=this.url=null,this.height=this.width=NaN,this.resourceType=this.creativeType=null,this.bitrate=NaN,this.creativeApi=null,this.ad=e,this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null}function d(){this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.mute=[],this.unmute=[],this.pause=[],this.rewind=[],this.resume=[],this.replay=[],this.fullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitation=[],this.stop=[]}function c(e){this._impressions=[],this.clickThrough=null,this.clickTrackings=[],this.customClicks=[],this.creativeData=null,this.sequence=-1,this.vastRenditions=[],this.duration=NaN,this.adp=e,this.isDrivingAd=!1}function u(e){c.call(this,e)}function _(e){c.call(this,e)}function p(e){c.call(this,e)}function h(){}function g(e,n,i,a){if(e&&a&&0<a.length){t("augmentCallbacks("+n+", "+i+", "+a+")");for(var r=e.getEventCallbackUrls(n,i),o=0;o<r.length;o++)-1<a.indexOf(r[o])&&(t("augmentCallbacks() url = "+r[o]),a.unshift(r[o]));e.addEventCallbackUrls(n,i,a)}else t("augmentCallbacks("+n+", "+i+", "+a+"), empty callbacks")}function f(e,n){if(t("initErrorTrackings()"),e&&n){for(var i=n.errorTrackings,r=0;r<i.length;r++)-1<i[r].search("[ERRORCODE]")&&(i[r]=i[r].replace("[ERRORCODE]","900"));g(e,a.EVENT_ERROR,a.EVENT_TYPE_ERROR,n.errorTrackings)}}function E(e,n){t("initTrackingEvents()"),n&&e&&(g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.creativeView),g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n.start),g(e,a.EVENT_AD_FIRST_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.firstQuartile),g(e,a.EVENT_AD_MIDPOINT,a.EVENT_TYPE_IMPRESSION,n.midpoint),g(e,a.EVENT_AD_THIRD_QUARTILE,a.EVENT_TYPE_IMPRESSION,n.thirdQuartile),g(e,a.EVENT_AD_COMPLETE,a.EVENT_TYPE_IMPRESSION,n.complete),g(e,a.EVENT_AD_MUTE,a.EVENT_TYPE_STANDARD,n.mute),g(e,a.EVENT_AD_UNMUTE,a.EVENT_TYPE_STANDARD,n.unmute),g(e,a.EVENT_AD_PAUSE,a.EVENT_TYPE_STANDARD,n.pause),g(e,a.EVENT_AD_RESUME,a.EVENT_TYPE_STANDARD,n.resume),g(e,a.EVENT_AD_REWIND,a.EVENT_TYPE_STANDARD,n.rewind),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.fullscreen),g(e,a.EVENT_AD_COLLAPSE,a.EVENT_TYPE_STANDARD,n.collapse),g(e,a.EVENT_AD_EXPAND,a.EVENT_TYPE_STANDARD,n.expand),g(e,a.EVENT_AD_CLOSE,a.EVENT_TYPE_STANDARD,n.stop),g(e,a.EVENT_AD_ACCEPT_INVITATION,a.EVENT_TYPE_STANDARD,n.acceptInvitation))}function m(e,n,i,r,o){if(t("initClickAndImpressionEvents"),e){if(n&&e.setClickThroughUrl(a.EVENT_AD_CLICK,n),i&&0<i.length&&g(e,a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK_TRACKING,i),r&&0<r.length)for(n=0;n<r.length;n++)r[n].url&&g(e,r[n].id,a.EVENT_TYPE_CLICK_TRACKING,[r[n].url]);o&&g(e,a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,o)}}function T(e,i){if(t("initTemporalAdInstance"),e||n("initTemporalAdInstance: Invalid adInstance"),i.selectedDrivingAd){i.surveyUrl&&e._creative.setParameter("_fw_survey_url",i.surveyUrl);var a=i.selectedDrivingAd,r=i.selectedDrivingRenditions;t("vastRenditions:"+r);for(var s=D===y,l=0;l<r.length;l++){var d,c=r[l],u=(h=e.addCreativeRendition()).addCreativeRenditionAsset("VAST_CRA",!0);e:switch(d=c.creativeType){case"video/mp4":d="video/mp4-h264";break e;case"video/3gp":d="video/3gpp"}if(t("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[c.creativeApi,a.duration,c.width,c.height,c.url,d,c.creativeType]),h.setCreativeApi(c.creativeApi),isNaN(a.duration)||h.setDuration(a.duration),c.width&&!isNaN(c.width)&&h.setWidth(c.width),c.height&&!isNaN(c.height)&&h.setHeight(c.height),c.url&&u.setUrl(c.url),c.code&&u.setContent(c.code),u.setMimeType(c.creativeType),"static"===c.resourceType&&"text/html"===c.creativeType?u.setContentType("text/html_doc_ref"):"application/x-javascript"===c.creativeType||"application/javascript"===c.creativeType?u.setContentType("text/js_ref"):"iframe"===c.resourceType?u.setContentType("text/html_doc_ref"):"text/html"===c.creativeType||"text/html_doc_ref"===c.creativeType?u.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===c.creativeType?u.setContentType("text/html_doc_lit_mobile"):s||o(d)?(u.setContentType("text/html_doc_lit_mobile"),u.setUrl(null),u.setContent(A(e,R.getCustomId(),a,c,"text/html_doc_lit_mobile"))):u.setContentType(d),a.creativeData&&0!==a.creativeData.length&&(t("initTemporalAdInstance(), set asset parameter creativeData:"+a.creativeData),h.setParameter("creativeData",a.creativeData)),s||o(d)||(c=c.bitrate,!isNaN(c)&&c>0&&u.setBytes(1e3*c*a.duration/8)),d=N,u=O,c=!1,h.getContentType()&&d){var _=h.getContentType().toLowerCase(),p=d.toLowerCase();_==p?c=!0:(0==_.indexOf("video/mp4")&&0==p.indexOf("video/mp4")||"application/javascript"==p&&"text/js_ref"==_)&&(h.setContentType(d),c=!0)}d=!1,h.getCreativeApi()&&u&&(_=h.getCreativeApi().toLowerCase(),p=u.toLowerCase(),_==p?d=!0:0==_.indexOf("mraid")&&0==p.indexOf("mraid")&&(d=!0,h.setCreativeApi(u))),c&&d?h.setPreference(10):d?h.setPreference(6):c?h.setPreference(5):h.setPreference(0),t("adjustMatchedRendition "+h.getId()+", contentType "+h.getContentType()+", creativeAPI "+h.getCreativeApi()+", preference "+h.getPreference())}E(e,a.trackingEvents),f(e,i),m(e,s?r[0].clickThrough:a.clickThrough,a.clickTrackings,a.customClicks,a.impressions)}else{var h=e.addCreativeRendition();h.setContentType("null/null"),(u=h.addCreativeRenditionAsset("VAST_CRA",!0)).setContentType("null/null")}}function A(e,n,i,r,o){return t("getCoadHTML, ad id = "+e.getAdId()),r.url&&0<r.url.length?((i=r.clickThrough)&&0<i.length&&e.setClickThroughUrl(a.EVENT_AD_CLICK,i),e=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],a.HTMLAdGenerator.generateAd(r.url,e,n,r.width,r.height,r.creativeType,o)):r.code&&0<r.code.length?"script"===r.resourceType||"text/javascript"===r.resourceType||"text/js_ref"===r.resourceType||"application/x-javascript"===r.resourceType?a.HTMLAdGenerator.wrapJSCode(r.code,n,r.width,r.height):a.HTMLAdGenerator.wrapUnsafeHTML(r.code,n,r.width,r.height):null}function v(e,n,i,r){t("initPageAdInstance ad:"+n.getAdId());var o=i.vastRenditions[0];if(o.url||o.code){var s=n.addCreativeRendition(),l=s.addCreativeRenditionAsset("VAST_CRA",!0);s.setCreativeApi(o.creativeApi),s.setWidth(o.width),s.setHeight(o.height),"static"===o.resourceType&&"text/html"===o.creativeType?(l.setContentType("text/html_doc_ref"),l.setUrl(o.url)):"iframe"===o.resourceType?(l.setContentType("text/html_doc_ref"),l.setUrl(o.url)):"HTML"===o.resourceType?(l.setContentType("text/html_doc_lit_mobile"),l.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(o.code,e.getCustomId(),o.width,o.height))):(l.setContentType("text/html_doc_lit_mobile"),l.setContent(A(n,e.getCustomId(),i,o,"text/html_doc_lit_mobile"))),l.setMimeType("text/html")}else t("initPageAdInstance will add a tracking only companion ad");E(n,i.trackingEvents),f(n,r),m(n,o.clickThrough,o.clickTrackings,o.customClicks,i.impressions)}function I(n){if(200==n.status)if(n.responseXML){var i=(new h).parseAdData(n.responseXML);if(i){if(t("scheduleVastAds"),i&&0!==i.length)if(n=i[0].selectedPackage,i=i[0].redirectPackage,n||i){if(!n&&i){t("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server"),t("scheduleRedirect");var r=[];(n=[]).push(R),r.push({});for(var o=b,s=i.selectedCompanionAds,l=0;l<o.length;l++){var d=o[l];s&&s[d.getCustomId()]&&(n.push(d),r.push(s[d.getCustomId()]))}for((o=e.scheduleAdInstances(n))&&0<o.length&&(s=o[0],(l=s.addCreativeRendition()).setWrapperUrl(a.Util.transformUrlToProxy(i.tagUrl)),l.setWrapperType(L),l.setContentType(N),l.setCreativeApi(O),E(s,i.getTrackingEventsOfWrapper()),f(s,i),m(s,i.getClickThroughOfWrapper(),i.getClickTrackingsOfWrapper(),i.getCustomClicksOfWrapper(),i.getImpressionOfWrapper())),t("scheduleRedirect, schedule companion for redirect ad ",i),l=1;l<o.length;l++)(s=o[l])&&(d=r[l])instanceof p&&v(n[l],s,d,i)}else if(n){for(t("scheduleVastAds(), ads returned from vast response, going to schedule them"),n.selectedDrivingAd?(t("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),n.selectedDrivingAd.isDrivingAd=!0):t("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad"),t("scheduleAdPackage()"),r=[],(i=[]).push(R),n.selectedDrivingAd&&r.push(n.selectedDrivingAd),o=b,s=n.selectedCompanionAds,l=0;l<o.length;l++)d=o[l],s&&s[d.getCustomId()]&&(i.push(d),r.push(s[d.getCustomId()]));if(0<(s=e.scheduleAdInstances(i)).length){for(t("scheduleAdPackage, scheduled "+s.length+" ads"+n.selectedDrivingAd?"":", 1 of it is nullAd for pure companion ad schedule"),n.selectedDrivingAd||t("Driving ad is not selected, will create a dummy null ad."),n.selectedDrivingAd||(i.shift(),T(s.shift(),n)),l=0;l<s.length;l++)if(d=s[l]){var c=r[l];c instanceof p?v(i[l],d,c,n):T(d,n)}!n.selectedDrivingAd&&0<o.length&&0<n.companionAds.length&&0===r.length&&(t("found empty companion slots and companion ads in package, but none of them matches slot size"),P.onTranslatorFailed(a.ERROR_UNMATCHED_SLOT_SIZE))}else t("scheduleAdPackage, no ad scheduled.")}}else t("scheduleVastAds(), no ads from vast response!!!"),P.onTranslatorFailed(a.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+w);else t("no ads for scheduleVastAds");P._request=null,e.handleStateTransition(a.TRANSLATOR_STATE_STARTED),e.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)}}else P.onTranslatorFailed(a.ERROR_PARSE,"wrapperUrl="+w);else 400<=n.status&&P.onTranslatorFailed(a.ERROR_IO,"wrapperUrl="+w)}this._rendererController=e;var S="image/gif,image/jpeg,image/png,text/html,text/javascript,text/html_doc_ref,text/html_doc_lit_mobile,application/x-javascript,application/javascript".split(","),y=4,C=e.getAdInstance(),P=this,R=C.getSlot(),D=function(){if(!R)return 1;switch(R.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return 2;case a.TIME_POSITION_CLASS_OVERLAY:return y;case a.TIME_POSITION_CLASS_DISPLAY:return R&&!R.getBase()?8:1;default:return 1}}(),b=e.getCompanionSlots().filter(function(e){if(!e)return!1;switch(e.getTimePositionClass()){case a.TIME_POSITION_CLASS_PREROLL:case a.TIME_POSITION_CLASS_MIDROLL:case a.TIME_POSITION_CLASS_PAUSE_MIDROLL:case a.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0}});t("Checking CompanionSlots, length = "+b.length+", rendererController.getCompanionSlots().length = "+e.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+C.getCompanionSlots().length);var N=C.getActiveCreativeRendition().getContentType(),O=C.getActiveCreativeRendition().getCreativeApi()||"None";console.log("ExpectedDrivingContentType:"+N+", ExpectedDrivingAPI:"+O);var L=C.getActiveCreativeRendition().getWrapperType();l.prototype={init:function(e,t,n,i,a,r,o,s){console.log("init("+[].slice.call(arguments,0).join(",")+")"),this.url=e,this.width=1*t,this.height=1*n,this.creativeType=i,this.resourceType=a,this.bitrate=r;var l;if((l=o)&&0!==l.length){var d="";switch(l.toLowerCase()){case"flashvar":case"flashvars":d="clickTag";break;case"vpaid":d="VPAID";break;case"mraid":d="MRAID-1.0";break;default:d=l}l=d}else l="None";this.creativeApi=l,this.code=s||null},log:function(e){console.log("VastTranslator.VastRendition\t"+e)},toString:function(){var e,t=[];for(e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&"ad"!==e&&t.push(e+":"+this[e]);return t.join(",")}},l.prototype.constructor=l,c.prototype={parse:function(e){if(console.log("parse()"),e.Duration)if(e.Duration.value){var t=/(\d+):(\d+):(\d+)/.exec(e.Duration.value);t?this.duration=3600*t[1]+60*t[2]+1*t[3]:console.log("Failed to parse duration value for creative "+e)}else console.log("No duration value set for creative "+e);e.VideoClicks&&(e.VideoClicks=[].concat(e.VideoClicks),a.Util.forEachOnArray(e.VideoClicks,function(e){if(e.ClickThrough&&e.ClickThrough.value&&(this.clickThrough=s(e.ClickThrough.value)),e.ClickTracking){e.ClickTracking=[].concat(e.ClickTracking);for(var t=0;t<e.ClickTracking.length;t++){var n=s(e.ClickTracking[t].value);n&&this.clickTrackings.push(n)}}if(e.CustomClick)for(e.CustomClick=[].concat(e.CustomClick),t=0;t<e.CustomClick.length;t++){var i=null;e.CustomClick[t]["@attributes"]&&(i=e.CustomClick[t]["@attributes"].id),(n=s(e.CustomClick[t].value))&&this.customClicks.push({id:i,url:n})}},this)),e.MediaFiles&&e.MediaFiles.MediaFile&&(e.MediaFiles.MediaFile=[].concat(e.MediaFiles.MediaFile),a.Util.forEachOnArray(e.MediaFiles.MediaFile,function(e){var t=s(e.value),n=NaN,i=NaN,a=null,r="None",o=NaN;e["@attributes"]&&(n=e["@attributes"].width||NaN,i=e["@attributes"].height||NaN,a=e["@attributes"].type,r=e["@attributes"].apiFramework||"None",o=e["@attributes"].bitrate||NaN),t&&-1!==t.indexOf(":")?((e=new l(this)).init(t,n,i,a,"",o,r,null),e.clickThrough=this.clickThrough,this.vastRenditions.push(e),(isNaN(n)||isNaN(i))&&console.log("continue with missing [width,height]"+[n,i])):console.log("will ignore this mediaFile because some required field is missing [url,width,height]:"+[t,n,i])},this)),e.TrackingEvents&&this.parseTrackingEvents(e.TrackingEvents,this.setTrackingEvents()),e.AdParameters&&(console.log("parse() got AdParameters:"+e.AdParameters.value),this.creativeData=e.AdParameters.value),e.Companion&&(e.Companion=[].concat(e.Companion),a.Util.forEachOnArray(e.Companion,function(e){var t=null,n=null,i="",r="",d=null,c=null,u=!1;e.CompanionClickThrough&&(r=s(e.CompanionClickThrough.value)),e.StaticResource&&(t=s(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=s(e.IFrameResource.value))&&(n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(d=e.HTMLResource["#cdata-section"]||"",d=a.Util.trim(d))&&(n="text/html_doc_lit_mobile",i="HTML"),e.TrackingEvents&&(c=e.TrackingEvents);var _=new p(this.adp);if(_.sequence=this.sequence,_.clickThrough=r,c&&_.parseTrackingEvents(c,_.setTrackingEvents()),e["@attributes"]){var c=e["@attributes"].width||NaN,h=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if((t&&-1!==t.indexOf(":")||d)&&!isNaN(c)&&!isNaN(h)&&o(n)||this.adp.isWrapper){var g=new l(_);g.init(t,c,h,n,i,NaN,e,d),g.clickThrough=r,_.vastRenditions.push(g)}else u=!0,console.log("will ignore this rendition because some required fields is missing or incompatible [creativeType,url,code,width,height]:"+[n,t,d,c,h])}else this.adp.isWrapper||(u=!0,console.log("for InLine ad package, No attributes found for the Companion ads:"+e));u?this.adp.isWrapper&&this.adp.companionAds.push(_):this.adp.companionAds.push(_)},this)),e.NonLinear&&(e.NonLinear=[].concat(e.NonLinear),a.Util.forEachOnArray(e.NonLinear,function(e){var t=null,n=null,i="",r="",d="",c=null,u=!1;e.AdParameters&&(d=e.AdParameters.value),e.NonLinearClickThrough&&(r=s(e.NonLinearClickThrough.value)),e.StaticResource&&(t=s(e.StaticResource.value),e.StaticResource["@attributes"]&&(n=e.StaticResource["@attributes"].creativeType),i="static"),e.IFrameResource&&(t=s(e.IFrameResource.value),n="text/html_doc_ref",i="iframe"),e.HTMLResource&&(c=e.HTMLResource["#cdata-section"]||"",c=a.Util.trim(c),n="text/html_doc_lit_mobile",i="HTML");var p=new _(this.adp);if(p.sequence=this.sequence,p.clickThrough=r,p._trackingEvents=this._trackingEvents,d&&(p.creativeData=d),e["@attributes"]){var d=e["@attributes"].width||NaN,h=e["@attributes"].height||NaN,e=e["@attributes"].apiFramework||"None";if(!t&&!c||isNaN(d)||isNaN(h)||!o(n))u=!0,console.log("will ignore this rendition because some required fields is missing or incompatible:[creativeType,url,code,width,height]:"+[n,t,c,d,h]);else{var g=new l(p);g.init(t,d,h,n,i,NaN,e,c),g.clickThrough=r,p.vastRenditions.push(g)}}else this.adp.isWrapper||(u=!0,console.log("for InLine ad package, No attributes found for the NonLinear ads:"+e));this.adp.nonLinearAds.push(p),u?this.adp.isWrapper&&this.adp.nonLinearAds.push(p):this.adp.nonLinearAds.push(p)},this))},parseLinears:function(e){2!=D?console.log("TargetAdType != TARGET_LINEAR, skipping parse"):this.parse(e)},parseNonLinears:function(e){D!==y?console.log("TargetAdType != TARGET_NONLINEAR, skipping parse"):this.parse(e)},parseCompanionAds:function(e){this.parse(e)},setTrackingEvents:function(){return this._trackingEvents||(this._trackingEvents=new d),this._trackingEvents},parseTrackingEvents:function(e,t){console.log("parseTrackingEvents"),e.Tracking&&(e.Tracking=[].concat(e.Tracking),a.Util.forEachOnArray(e.Tracking,function(e){var n=e["@attributes"].event;if(e=s(e.value))switch(n){case"creativeView":case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":case"mute":case"unmute":case"pause":case"resume":case"rewind":case"replay":case"fullscreen":case"expand":case"collapse":case"acceptInvitation":case"stop":t[n].push(e);break;case"close":t.stop.push(e)}},this))},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions},log:function(e){console.log("VastTranslator."+this.constructor.name+"\t"+e)},warn:function(e){console.log("VastTranslator."+this.constructor.name+"\t"+e)}},(k=Object.defineProperty||function(e,t,n){n.get&&e.__defineGetter__(t,n.get),n.set&&e.__defineSetter__(t,n.set)})(c.prototype,"trackingEvents",{get:function(){return console.log("get trackingEvents()"),this._trackingEvents?this._trackingEvents:this.isDrivingAd?this.adp.trackingEvents:null}}),k(c.prototype,"impressions",{set:function(e){this._impressions=e},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions}}),c.prototype.constructor=c,u.prototype=new c,u.prototype.constructor=u,_.prototype=new c,_.prototype.constructor=_,p.prototype=new c,p.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null},k(p.prototype,"impressions",{get:function(){return 8===D?this._impressions.concat(this.adp.impressions):this._impressions}}),p.prototype.constructor=p;var M=function(){this.impressions=[],this.errorTrackings=[],this.linearAds=[],this.nonLinearAds=[],this.companionAds=[],this.extensions=[],this.tagUrl="",this.isWrapper=!1,this.surveyUrl=null,this.selectedDrivingRenditions=[],this.selectedDrivingAd=null,this.selectedCompanionAds={}};M.prototype={parse:function(e){if(console.log("parse("+e+")"),e)if(this.isWrapper||e.Creatives&&e.Creatives.Creative){e.Creatives=e.Creatives||[],r(this.impressions,e.Impression),r(this.extensions,e.Extensions),r(this.errorTrackings,e.Error),this.isWrapper&&e.VASTAdTagURI&&(this.tagUrl=e.VASTAdTagURI.value||""),e.Survey&&e.Survey.value&&0<e.Survey.value.length&&(this.surveyUrl=e.Survey.value),e.Creatives.Creative=e.Creatives.Creative?[].concat(e.Creatives.Creative):[];for(var t=0;t<e.Creatives.Creative.length;t++){var n,i=e.Creatives.Creative[t],a=-1;i["@attributes"]&&(a=i["@attributes"].sequence||-1,a*=1),i.Linear?(n=new u(this),n.sequence=a,n.parseLinears(i.Linear),this.linearAds.push(n)):i.NonLinearAds?(n=new _(this),n.sequence=a,n.parseNonLinears(i.NonLinearAds)):i.CompanionAds&&(n=new p(this),n.sequence=a,n.parseCompanionAds(i.CompanionAds))}}else console.log("parse(): no creative found!");else console.log("parse(): empty adpackage")},testAndUpdatePackageForTemporalSlot:function(e){if(console.log("testAndUpdatePackageForTemporalSlot("+e+")"),1>(e=e?this.linearAds:this.nonLinearAds).length)return!1;console.log("testAndUpdatePackageForTemporalSlot(), ads.length = "+e.length);var t=!1;if(!t)for(var n=0;n<e.length;n++){var i=this.findRenditionGroupByContentType(e[n]);if(0<i.length){console.log("testAndUpdatePackageForTemporalSlot() : found driving ad and renditions group: "+i),this.selectedDrivingRenditions=i,this.selectedDrivingAd=e[n],t=!0;break}}return t},testAndUpdatePackageForPageSlots:function(e){var t=!1,n=this.companionAds,i=b.slice(0),a=null;if(console.log("testAndUpdatePackageForPageSlots("+e+"), ads are "+n.join(",")+", slots are "+i.join(",")),e){if(0<(a=this.matchAdsToSlots(n,i)).length)for(t=!0,e=0;e<a.length;e++)n=a[e],i=n.ad,this.selectedCompanionAds[n.slot.getCustomId()]=i}else 1===(a=this.matchAdsToSlots(n,[R])).length?(t=!0,this.selectedDrivingAd=a[0].ad):this.selectedDrivingAd=null;return t},renditionFitsInSlot:function(e,t){return!!e&&(e.width<=t.getWidth()&&e.height<=t.getHeight())},calcDeadSpaceRatio:function(e,t){var n=e.getPrimaryRendition();return!!n&&(console.log("ad w,h  slot w,h"+[n.width,n.height,t.getWidth(),t.getHeight()]),this.renditionFitsInSlot(n,t)?1-n.width*n.height/t.getWidth()*t.getHeight():1)},matchAdsToSlots:function(e,t){console.log("matchAdsToSlots(ads="+e.join(",")+", slots="+t.join(",")+")");for(var n=[],i=null,a=null,r=1,o=0;o<e.length;o++)for(var s=e[o],l=0;l<t.length;l++){var d=t[l],c=this.calcDeadSpaceRatio(s,d);r>c&&(i=s,a=d,r=c)}return null!==i&&(n.push({ad:i,slot:a}),e.splice(e.indexOf(i),1),t.splice(t.indexOf(a),1),n=n.concat(this.matchAdsToSlots(e,t))),console.log("matchAdsToSlots: winningAd:"+i+" winningSlot:"+a+" ratio:"+r),n},getAllRenditions:function(e){return e.vastRenditions},findRenditionGroupByContentType:function(e){console.log("findRenditionGroupByContentType:"+e);var t=[];if(e instanceof u&&isNaN(e.duration))return console.log("findRenditionGroupByContentType(), duration of linear ad is NaN, will not used for scheduling"),t;for(var n=this.getAllRenditions(e),i=0;i<n.length;i++){var r=n[i];if(e instanceof u){if(null==r.creativeType||""==a.Util.trim(r.creativeType)){console.log("findRenditionGroupByContentType, the contentType "+r.creativeType+" not supported for linearAd");continue}}else if(!o(r.creativeType)){console.log("findRenditionGroupByContentType, the contentType "+r.creativeType+" not supported for non-linearAd");continue}t.push(r)}return t},formalizeString:function(e){return e?a.Util.trim(e).toLowerCase():""},getAdsByTargetType:function(){console.log("getAdsByTargetType");var e=[];switch(D){case 8:e=this.companionAds;break;case 2:e=this.linearAds;break;case y:e=this.nonLinearAds}for(var t=0;t<e.length;t++)e[t].isDrivingAd=!0;return e},getImpressionOfWrapper:function(){console.log("getImpressionOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._impressions&&0<i._impressions.length){t=i._impressions;break}}return t||(t=this.impressions),t},getTrackingEventsOfWrapper:function(){console.log("getTrackingEventsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++){var i=e[n];if(i&&i._trackingEvents){t=i._trackingEvents;break}}return t},getClickThroughOfWrapper:function(){console.log("getClickThroughOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++)if(i=e[n]){i.clickThrough&&(t=i.clickThrough);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.clickThrough){t=r.clickThrough;break}}if(t)break}return t},getClickTrackingsOfWrapper:function(){console.log("getClickTrackingsOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++)if(i=e[n]){i.clickTrackings&&0<i.clickTrackings.length&&(t=i.clickTrackings);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.clickTrackings&&0<r.clickTrackings.length){t=r.clickTrackings;break}}if(t)break}return t},getCustomClicksOfWrapper:function(){console.log("getCustomClicksOfWrapper");for(var e=this.getAdsByTargetType(),t=null,n=0;n<e.length;n++)if(i=e[n]){i.customClicks&&0<i.customClicks.length&&(t=i.customClicks);for(var i=i.vastRenditions,a=0;a<i.length;a++){var r=i[a];if(r.customClicks&&0<r.customClicks.length){t=r.customClicks;break}}if(t)break}return t},testWrapperForRedirect:function(){return console.log("testAndUpdateWrapperForRedirect()"),this.tagUrl&&0<this.tagUrl.length},log:function(e){console.log("VastTranslator.VastAdPackage\t"+e)},warn:function(e){console.log("VastTranslator.VastAdPackage\t"+e)}},M.prototype.constructor=M,h.prototype={getVastVersion:function(e){return console.log("getVastVersion("+e+")"),e?0===e.indexOf("3.")?3:0===e.indexOf("2.")?2:0===e.indexOf("1.")?1:-1:-1},parseAdData:function(e){console.log("parseAdData()");var t,n={};n.selectedPackage=null,n.redirectPackage=null;var i=a.Util.xmlToJson(e);if(i&&i.VAST&&i.VAST["@attributes"]&&(2===this.getVastVersion(i.VAST["@attributes"].version)||3===this.getVastVersion(i.VAST["@attributes"].version))){if(i.VAST.Ad){i.VAST.Ad=[].concat(i.VAST.Ad);var r,o=[],e=[];for(t=0;t<i.VAST.Ad.length;t++)r=new M,r.isWrapper=!!i.VAST.Ad[t].Wrapper,r.isWrapper?(r.parse(i.VAST.Ad[t].Wrapper),e.push(r)):(r.parse(i.VAST.Ad[t].InLine),o.push(r));if(i=!1,0===o.length&&0===e.length)return console.log("parseAdData(): no ads from vast response!!!"),[n];for(console.log("parseAdData(): "+o.length+"inline ads, "+e.length+" wrapper ads."),r=null,t=0;t<o.length;t++)if(this.selectUsableAdsForDrivingSlot(o[t])){console.log("parseAdData(): package for driving slot is found!!!"),r=o[t];break}if(t=0<b.length&&C.getSlot().getTimePositionClass()!==a.TIME_POSITION_CLASS_DISPLAY,r)t&&this.selectUsableAdsCompanionSlots(r)&&console.log("parseAdData(): companion ads are found for companion slots, with driving slot"),n.selectedPackage=r;else if(t){t=!1;for(var s=0;s<o.length;s++)r=o[s],this.selectUsableAdsCompanionSlots(r)&&(console.log("parseAdData(): companion ads are found for companion slots,without driving slot"),n.selectedPackage=r,t=!0);t||(console.log("parseAdData(): companion ads are not found for companion slots,without driving slot"),i=!0)}else console.log("parseAdData(): no usable ads found in vast response!!!"),i=!0;if(i&&0<e.length)for(o=0;o<e.length;o++)if(this.testWrapperForRedirect(e[o])){n.redirectPackage=e[o],this.selectUsableAdsCompanionSlots(e[o])&&console.log("parseAdData(): companion ads are found for wrapper ad");break}return[n]}P.onTranslatorFailed(a.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+w)}else P.onTranslatorFailed(a.ERROR_PARSE,"wrapperUrl="+w)},selectUsableAdsForDrivingSlot:function(e){console.log("selectUsableAdsForDrivingSlot()");var t=!0;switch(D){case 2:t=this.testAndUpdatePackageForTemporalSlot(e,!0);break;case y:t=this.testAndUpdatePackageForTemporalSlot(e,!1);break;case 8:t=this.testAndUpdatePackageForPageSlots(e,!1);break;default:t=!1}return t},selectUsableAdsCompanionSlots:function(e){return console.log("selectUsableAdsCompanionSlots(pk)"),this.testAndUpdatePackageForPageSlots(e,!0)},testAndUpdatePackageForTemporalSlot:function(e,t){return console.log("testAndUpdatePackageForTemporalSlot(pk,isLinear), isLinear = "+t),e.testAndUpdatePackageForTemporalSlot(t)},testAndUpdatePackageForPageSlots:function(e,t){return console.log("testAndUpdatePackageForPageSlots(pk,isCompanion) isCompanion = "+t),e.testAndUpdatePackageForPageSlots(t)},testWrapperForRedirect:function(e){return console.log("testWrapperForRedirect(pk)"),e.testWrapperForRedirect()},log:function(e){console.log("VastTranslator.VastParser\t"+e)},warn:function(e){console.log("VastTranslator.VastParser\t"+e)}};var w=C.getActiveCreativeRendition().getWrapperUrl(),k=C.getActiveCreativeRendition().getWrapperType();if(t("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+w+", getWrapperType()="+k),"external/vast-2"!==k&&"external/vast-3"!==k)P.onTranslatorFailed(a.ERROR_NO_RENDERER,"wrapperType="+k+";wrapperUrl="+w);else if(w&&0!==w.length){k=e.getParameter("translator.vast.asyncLoad"),t("will load vast xml, asyncAjax:"+(k=!0===a.Util.str2bool(k)));var V=e.getParameter("translator.vast.loadWithCookie"),V=!0===a.Util.str2bool(V),U=null;try{window.XDomainRequest?(U=new XDomainRequest,k=!0):(U=new XMLHttpRequest,U.withCredentials=V),P._request=U,k?(U.open("GET",w),window.XDomainRequest?U.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM");e.async=!1,e.loadXML(U.responseText),U.responseXML=e,U.status=200,I(U)}:U.onreadystatechange=function(){4==U.readyState&&I(U)},U.onerror=function(){window.XDomainRequest&&(U.status=0),0==U.status?(n("CORS error"),P.onTranslatorFailed(a.ERROR_SECURITY,"wrapperUrl="+w)):(n("exception:"+U.statusText),P.onTranslatorFailed(a.ERROR_UNKNOWN,"wrapperUrl="+w+";exception="+U.statusText))},U.send()):(U.open("GET",w,!1),U.send(),I(U))}catch(e){if(k=!1,window.XMLHttpRequestException){if(e instanceof XMLHttpRequestException)switch(e.code){case XMLHttpRequestException.NETWORK_ERR:k=!0}}else e.code===DOMException.NETWORK_ERR&&(n("CORS in IE10"),k=!0);k?(n("CORS error:"+e),P.onTranslatorFailed(a.ERROR_SECURITY,"wrapperUrl="+w)):(n("exception:"+e),P.onTranslatorFailed(a.ERROR_UNKNOWN,"wrapperUrl="+w+";exception="+e))}}else P.onTranslatorFailed(a.ERROR_NULL_ASSET,"wrapperUrl="+w)},info:function(){return{moduleType:a.MODULE_TYPE_TRANSLATOR}},log:function(e){console.log("VastTranslator\t"+e)},warn:function(e){console.log("VastTranslator\t"+e)},getPlayheadTime:function(){return-1},getDuration:function(){return-1},stop:function(){console.log("VastTranslator stop"),this._request&&(this._request.abort(),console.log("VastTranslator Stop: request aborted")),this._request=null,this._rendererController&&this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_COMPLETED)},onTranslatorFailed:function(e,t){this._request&&(this._request=null),t?this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:e,errorInfo:t}):this._rendererController.handleStateTransition(a.TRANSLATOR_STATE_FAILED,{errorModule:"VastTranslator",errorCode:e})}},a.VastTranslator.prototype.constructor=a.VastTranslator,a.VideoAsset=function(e){this._defaultTimeouts=[5,10,15,30,60,120,180,300],this._context=e,this._internalState=a.MediaInitState.instance,this._eventCallback=this._state="",this._callbackTimer=null,this._requestedVideoViewUrl=this._videoPlayPending=!1,this._dummyInstanceId="",this._delay=0,this._location=this._networkId=this._duration=this._customId=this._id="",this._autoPlayType=null,this._fallbackId="",this._viewRandom=0,this._durationType=null,this._currentTpos=0},a.VideoAsset.prototype={setVideoAsset:function(e,t,n,i,r,o,s,l,d){if(e){var c=!1;switch(s){case a.ID_TYPE_FW:c=this._id!=e,this._id=e;break;case a.ID_TYPE_GROUP:c=this._id!="g"+e,this._id="g"+e;break;default:c=this._customId!=e,this._customId=e}c&&(this._eventCallback=""),"number"==typeof t&&(this._duration=Math.round(10*t)/10),1*n>0&&(this._networkId=1*n),"string"==typeof i&&(this._location=i),"number"==typeof r&&(this._autoPlayType=r),1*o>0&&(this._viewRandom=1*o),"number"==typeof l&&l>0?this._fallbackId=""+l:"string"==typeof l&&(this._fallbackId=l.trim()),d!==a.VIDEO_ASSET_DURATION_TYPE_EXACT&&d!==a.VIDEO_ASSET_DURATION_TYPE_VARIABLE||(this._durationType=d),this._videoPlayPending&&this.play()}else console.log("AdRequest.setVideoAsset","id is required.")},setVideoAssetCurrentTimePosition:function(e){!e||0>e?console.log("AdRequest.setVideoAssetCurrentTimePosition","valid timePosition is required"):this._currentTpos=e},setVideoState:function(e){e===a.VIDEO_STATE_PLAYING?(this._state===a.VIDEO_STATE_PAUSED&&this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUMED),this.play()):e===a.VIDEO_STATE_PAUSED||e===a.VIDEO_STATE_STOPPED?(this.pause(),e===a.VIDEO_STATE_PAUSED&&this._state===a.VIDEO_STATE_PLAYING&&this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSED)):e===a.VIDEO_STATE_COMPLETED&&this.complete(),this._state=e},callback:function(e){this._eventCallback?this._eventCallback.process():e=!0,e||((e=this._defaultTimeouts.shift())||(e=300),this._callbackTimer=new a.Timer(e,a.Util.bind(this,this.callback)),this._callbackTimer.start())},getPlayheadTime:function(){var e=this._delay;return this._delay=0,e+=this._callbackTimer?this._callbackTimer.getCTValue():0,Math.floor(e)},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||(this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer)||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()):(console.log("Server URL or Network ID or Video Asset id/customId is not set, pend video asset play request."),this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new a.Timer,this._callbackTimer.tick()))},pause:function(){this._internalState.pause(this)},complete:function(){this._internalState.complete(this)},onStartPlaying:function(){this.callback()},onStartReplaying:function(){this.callback()},onPausePlaying:function(){this.callback(!0),this._callbackTimer.pause()},onResumePlaying:function(){this._callbackTimer.start()},onCompletePlaying:function(){this.callback(!0),this._callbackTimer.stop(),this._callbackTimer=null,this._eventCallback="",this._requestedVideoViewUrl=!1},onCompleteReplaying:function(){this.onCompletePlaying()},setMediaState:function(e){this._internalState=e},requestPauseBySlot:function(e){console.log("requestPauseBySlot"),this._internalState==a.MediaPlayingState.instance||this._internalState==a.MediaReplayingState.instance?this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,{slot:e}):console.log("Not sending content pause request because content video state is",JSON.stringify(this._internalState))},requestResumeBySlot:function(e){console.log("requestResumeBySlot"),this._internalState==a.MediaPausedState.instance||this._internalState==a.MediaReplayPausedState.instance?this._context.dispatchEvent(a.EVENT_CONTENT_VIDEO_RESUME_REQUEST,{slot:e}):console.log("Not sending content resume request because content video state is ",JSON.stringify(this._internalState))},requestForVideoViewCallback:function(){(e=new a.Context(this._context._adManager))._videoAsset=this,this._dummyInstanceId=e._instanceId;var e=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(e._instanceId),t=this;a.PLATFORM_SEND_REQUEST_BY_FORM?(console.log("Context.submitRequest:","use json2"),a.Util.pingURLWithForm(e,this._dummyInstanceId,!0),t._onMessagePosted=function(e){"object"==typeof e.data&&e.data.hasOwnProperty("cbfn")&&-1<e.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&t.requestComplete(e.data.response)},window.addEventListener("message",t._onMessagePosted,!1)):a.Util.pingURLWithScript(e)},requestComplete:function(e){if(this._delay=this._callbackTimer.tick(),this._callbackTimer=null,a.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var t=document.getElementById("_fw_request_iframe_"+this._dummyInstanceId);document.body.removeChild(t)}null!==e?(a._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(a.Util.getObject("siteSection.videoPlayer.videoAsset",e)||{}),this.play()):console.log("Failed to get video view callback url.")},parse:function(e){if(e){this._customId=e.customId,this._networkId=parseInt(e.networkId);for(var t=0,n=e.eventCallbacks||[];t<n.length;t++){var e=n[t],i=a.EventCallback.newEventCallback(this._context,e.name,e.type);if(i&&e.name===a.EVENT_VIDEO_VIEW){i.parse(e),this._eventCallback=i,console.log("Parsed video view url: "+this._eventCallback._url);break}}}}},a.VideoRenderer=function(){this._adVideo=null,this._duration=this._playheadTime=-1,this._dragging=this._stopInvoked=this._isEnded=!1,this._volume=1,this._rendererController=null,this._isBuffering=!1},a.VideoRenderer.prototype={pause:function(){this._rendererController&&this._rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this._adVideo&&!this._adVideo.paused&&this._adVideo.pause()},resume:function(){this._rendererController&&this._rendererController.processEvent({name:a.EVENT_AD_RESUME}),this._adVideo&&this._adVideo.paused&&this._adVideo.play()},start:function(e){this._rendererController=e;var t=e.getAdInstance(),n=t.getSlot(),i=this,r=!1,o=!1;if(a.PLATFORM_NOT_SUPPORT_VIDEO_AD)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:n.getTimePositionClass()});else if(a.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&n.getTimePositionClass()===a.TIME_POSITION_CLASS_MIDROLL)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"midroll"});else{console.log("VideoRenderer.start",n.getTimePositionClass(),t);var s=e.getContentVideoElement(),l=n.getVideoDisplaySize().width,d=n.getVideoDisplaySize().height,c=t.getRenderableCreativeRenditions(),u=(l=new a.RenditionSelector(e.getParameter(a.PARAMETER_DESIRED_BITRATE)||1e3,e.getParameter("arWeight")||1,e.getParameter("pxWeight")||1,.2).getBestFitRendition(c,l,d))?l.getPrimaryCreativeRenditionAsset():null;if(!u&&c.length)e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_DEVICE_LIMIT,errorInfo:"no compatible asset"});else if(u&&u.getUrl()){t.setActiveCreativeRendition(l),console.log("VideoRenderer.start selected rendition is:",u.getUrl()),e.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),e.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON);var _=!a.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;_||e.setCapability(a.EVENT_AD_CLICK,a.CAPABILITY_STATUS_OFF);var p=a.PLATFORM_EVENT_CLICK,h=a.MOBILE_EVENT_DRAG;console.log("VideoRenderer","use content video element"),s.controls=!1,this._adVideo=s;var g=null,f=null,E=null;this._volume=e.getContext().getAdVolume(),this._adVideo.volume=this._volume,this._adVideo.muted=0==this._volume;var m=function(e){console.log("VideoRenderer.checkTimeUpdate timeout"),L(e)},T=function(){f&&(clearTimeout(f),f=null)},A=a.Util.bind(this,function(t){console.log("onAdVideoBufferEmpty(): Ad video event "+t.type),null==(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED))||void 0===t||!1===a.Util.str2bool(t)||(console.log("play the ad immediately after the stalled event"),s&&s._fw_videoAdPlaying&&s.play())}),v=function(t){this._isBuffering||(this._isBuffering=!0,e.processEvent({name:a.EVENT_AD_BUFFERING_START}),console.log("onAdVideoBufferingStarted(): Ad video event "+t.type))},I=function(t){this._isBuffering&&(this._isBuffering=!1,e.processEvent({name:a.EVENT_AD_BUFFERING_END}),console.log("onAdVideoBufferingEnded(): Ad video event "+t.type))},S=null;(t=e.getParameter(a.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT))&&(S=document.getElementById(t)),S||(S=s);var y,C,P=a.Util.bind(this,function(t){if(s.paused&&a.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)s.play();else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==n&&(n="true"),!1!==a.Util.str2bool(n)&&(o?(console.log("Ad video event "+t.type),this._dragging?this._dragging=!1:e.processEvent({name:a.EVENT_AD_CLICK})):console.log("Ad not started, ignore click."))}}),R=a.Util.bind(this,function(e){console.log("Ad video event "+e.type),this._dragging=!0}),D=function(t){if(console.log("Ad video event "+t.type+" ended: "+s.ended+" playing:"+s._fw_videoAdPlaying),s.ended&&.2>Math.abs(s.duration-s.currentTime)||!s._fw_videoAdPlaying)y=setTimeout(function(){console.log("Force ad video end bc ad paused with ended = true"),t.type="ended",C(t)},200);else{var n=e.getParameter(a.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==n&&(n="true"),!1===a.Util.str2bool(n)?console.log("Pause controls disabled"):s.controls=!0,T()}},b=function(e){console.log("Ad video event "+e.type),s.controls=!1},N=0,O=function(){if(0>=s.currentTime)console.log("VideoRenderer.onAdVideoTimeUpdate currentTime is less than or 0");else{if(T(),!s.paused){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||8e3;f=setTimeout(m,t,t+"ms timeout when playing")}o||(o=!0,i._playheadTime=s.currentTime,0>i._playheadTime&&(i._playheadTime=0),g&&(clearTimeout(g),g=null),i._quartileTimerId=setInterval(function(){var t=s.currentTime,n=s.duration;t>0&&(i._playheadTime=t),n>0&&(i._duration=n),"number"!=typeof t||"number"!=typeof n||E||(t>=.25*n&&1>N&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),N=1),t>=.5*n&&2>N&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),N=2),t>=.75*n&&3>N&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null,e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),N=3))},1e3),e.handleStateTransition(a.RENDERER_STATE_STARTED))}};this.dispose=a.Util.bind(this,function(){C()}),C=function(t){var n=E;t&&t.type&&(console.log("Ad video event "+t.type),"error"===t.type&&(console.log(t.target.src),console.log(t.target.currentSrc),I())),T(),g&&(clearTimeout(g),g=null),_&&(S.removeEventListener(p,P,!1),S.removeEventListener(h,R,!1)),y&&(clearTimeout(y),y=null),s.removeEventListener("ended",C,!1),s.removeEventListener("error",C,!0),s.removeEventListener("pause",D,!1),s.removeEventListener("playing",b,!1),s.removeEventListener("timeupdate",O,!1),s.removeEventListener("stalled",A,!1),s.removeEventListener("waiting",v,!1),s.removeEventListener("canplay",I,!1),s.paused||(console.log("try pausing video before complete"),s.pause()),t&&"error"===t.type&&(n="video error",(t=s.error||t.target.error)&&(n="error:"+t+",code:"+t.code)),n||(i._isEnded=!0),console.log("VideoRenderer.complete"),r||(r=!0,delete s._fw_videoAdPlaying,i._adVideo=null,i._quartileTimerId&&(clearInterval(i._quartileTimerId),i._quartileTimerId=null),n?e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorInfo:n}):(i._stopInvoked||(s.currentTime>=.25*s.duration&&1>N&&(e.processEvent({name:a.EVENT_AD_FIRST_QUARTILE}),N=1),s.currentTime>=.5*s.duration&&2>N&&(e.processEvent({name:a.EVENT_AD_MIDPOINT}),N=2),s.currentTime>=.75*s.duration&&3>N&&(e.processEvent({name:a.EVENT_AD_THIRD_QUARTILE}),N=3),s.currentTime>=s.duration-.5&&4>N&&(e.processEvent({name:a.EVENT_AD_COMPLETE}),N=4)),i._stopInvoked=!1,e.handleStateTransition(a.RENDERER_STATE_COMPLETED))),this._rendererController=null};var L=function(e){E=e,console.log(E),a.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||C()};s._fw_videoAdPlaying=!0;var M=!1,w=function(){if(!M){if(M=!0,_&&(S.addEventListener(p,P,!1),S.addEventListener(h,R,!1)),s.addEventListener("ended",C,!1),s.addEventListener("error",C,!0),s.addEventListener("pause",D,!1),s.addEventListener("playing",b,!1),s.addEventListener("timeupdate",O,!1),s.addEventListener("stalled",A,!1),s.addEventListener("waiting",v,!1),s.addEventListener("canplay",I,!1),s.src=u.getUrl(),console.log("VideoRenderer play video ad "+s.src),s.load(),s._fw_fromVideoPool||a.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){var t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5e3;g=setTimeout(L,t,t+"ms timeout before playing")}a.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&e.handleStateTransition(a.RENDERER_STATE_STARTED),0<a.PLATFORM_ANDROID_VERSION?(t=e.getParameter(a.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100,setTimeout(function(){s.play()},t)):setTimeout(function(){s.play()},100)}};a.VideoRenderer._fw_playedDummyVideo||n.getTimePositionClass()!==a.TIME_POSITION_CLASS_PREROLL||!a.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(u.getUrl())?w():(a.VideoRenderer._fw_playedDummyVideo=!0,console.log("play dummy video for iOS 3.2-4.1"),s.src="http://127.0.0.1:1/404.mp4",s.load(),s.play(),s._fw_videoAdPlaying=!0,s.addEventListener("error",function(){event.target.removeEventListener("error",arguments.callee,!0),w()},!0),setTimeout(w,a.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?500:5e3))}else e.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VideoRenderer",errorCode:a.ERROR_NULL_ASSET})}},stop:function(){console.log("VideoRenderer stop"),this._stopInvoked=!0,this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause(),this.dispose()),this._rendererController=null},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var e=this._adVideo.currentTime;if(e>0)return e}return this._playheadTime},getDuration:function(){return this._duration},setVolume:function(e){console.log("VideoRenderer setVolume("+e+")"),this._adVideo?(this._adVideo.volume=e,this._adVideo.muted=0==e,this._volume!=e&&this._rendererController.processEvent({name:a.EVENT_AD_VOLUME_CHANGE}),0==this._volume&&0!=e?this._rendererController.processEvent({name:a.EVENT_AD_UNMUTE}):0!=this._volume&&0==e&&this._rendererController.processEvent({name:a.EVENT_AD_MUTE}),this._volume=e):console.log("VideoRenderer ad video is null, ignore.")}},a.VideoRenderer.prototype.constructor=a.VideoRenderer,a.VideoStateExtension=function(){},a.VideoStateExtension.prototype={_enabled:function(){if(null==this._context)return!1;var e=this._context.getParameter(a.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);return null==e&&(e="false"),!0===a.Util.str2bool(e)},init:function(e){this._context=e,this._enabled()?this._context.setVideoState(a.VIDEO_STATE_PLAYING):console.log("VideoStateExtension is disabled.")},dispose:function(){this._context=null}},a.VideoStateExtension.prototype.constructor=a.VideoStateExtension,a.VPAIDWrapper=function(){this._creative=null,this._timeoutInMs=0,this._eventHandlers={},this._loadIntervalTimer=this._timeoutTimer=null,this._timeoutOperation="",this.timeoutReached=!1,this._visibilityChangeListener=null},a.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(e){return!!this._creative&&!(!(e=this._creative[e])||"function"!=typeof e)},checkVPAIDInterface:function(e){for(var t={passed:!0,missingInterfaces:""},n=e.length-1;n>=0;n--)this._isCreativeFunctionInvokable(e[n])||(t.passed=!1,t.missingInterfaces+=e[n]+" ");return t},loadCreativeAsset:function(e){console.log("loadCreativeAsset("+e+")");var t=document.getElementById("vpaidFrame"),n=document.createElement("iframe");n.id="vpaidFrame",null==t?document.body.appendChild(n):document.body.replaceChild(n,t),n.width=0,n.height=0,n.style.display="none",n.contentWindow.document.open(),n.contentWindow.document.write('<script type="text/javascript" src="'+e+'"> <\/script>'),n.contentWindow.document.close(),this._timeoutOperation="loadCreativeAsset",this._waitForTimeout();var i=this;this._loadIntervalTimer=setInterval(function(){var e=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;e&&"function"==typeof e&&(clearInterval(i._loadIntervalTimer),void 0===(e=e())?console.log("getVPAIDAd() returns undefined value"):null===e?console.log("getVPAIDAd() returns null"):(i._creative=e,i._eventHandlers.CreativeAssetLoaded()))},200)},setCallbacksForCreative:function(e,t){for(var n in e)e.hasOwnProperty(n)&&this._creative.subscribe(e[n],n,t)},removeCallbacksForCreative:function(e){for(var t in e)e.hasOwnProperty(t)&&this._creative.unsubscribe(e[t],t)},handshakeVersion:function(e){return console.log("VPAID Creative: handshakeVersion("+e+")"),this._creative.handshakeVersion(e)},initAd:function(e,t,n,i,a,r){console.log("VPAID Creative: initAd()"),this._timeoutOperation="initAd",this._waitForTimeout(),this._creative.initAd(e,t,n,i,a,r)},startAd:function(){console.log("VPAID Creative: startAd()"),this._timeoutOperation="startAd",this._waitForTimeout(),this._creative.startAd()},stopAd:function(){console.log("VPAID Creative: stopAd()"),"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd",this._waitForTimeout(),this._creative.stopAd()},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd")},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd")},canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd")},pauseAd:function(){this.canPauseAd()&&(console.log("VPAID Creative: pauseAd()"),this._creative.pauseAd())},resumeAd:function(){this.canResumeAd()&&(console.log("VPAID Creative: resumeAd()"),this._creative.resumeAd())},resizeAd:function(e,t,n){this.canResizeAd()?(console.log("VPAID Creative: resizeAd()"),this._creative.resizeAd(e,t,n)):console.log("The creative is not able to resize")},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?this._creative.getAdVolume():-1},setAdVolume:function(e){this._isCreativeFunctionInvokable("setAdVolume")&&this._creative.setAdVolume(e)},getAdExpanded:function(){return!!this._isCreativeFunctionInvokable("getAdExpanded")&&this._creative.getAdExpanded()},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():-1},getAdLinear:function(){return this._creative.getAdLinear()},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():""},setTimeoutValueInMs:function(e){this._timeoutInMs=e},cancelTimeoutEvent:function(){var e="startAd and stopAd"!==this._timeoutOperation;if(clearTimeout(this._timeoutTimer),!e){this._timeoutOperation="startAd";var t=this;setTimeout(function(){t._eventHandlers.timeout.call()},500)}},addEventListener:function(e,t){this._eventHandlers[e]=t},removeEventListener:function(e){this._eventHandlers[e]=null},_waitForTimeout:function(){if(console.log("Wait for "+this._timeoutOperation+" for "+this._timeoutInMs+"ms"),this._eventHandlers.timeout){var e=this;this._timeoutTimer=setTimeout(function(){e.timeoutReached||(e.timeoutReached=!0),"startAd"===e._timeoutOperation?e.stopAd():("loadCreativeAsset"===e._timeoutOperation&&clearInterval(e._loadIntervalTimer),e._eventHandlers.timeout.call())},this._timeoutInMs)}},getTimeoutOperation:function(){return this._timeoutOperation}},a.VPAIDWrapper.prototype.constructor=a.VPAIDWrapper,a.VPAIDRenderer=function(){this.vpaidCreative=this.rendererController=null,this.vpaidVolume=this.vpaidDuration=-1,this.creativeEventCallbacks={},this.isMuted=!1,this.adPlaybackState="",this.creativeTimeoutDelayInMs=1e4,this.vpaidDesiredBitrate=268,this.vpaidViewmode="normal",this.playheadTime=0,this.videoBase=document.createElement("div"),this.videoParent=null,this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2},a.VPAIDRenderer.prototype={},a.VPAIDRenderer.prototype.constructor=a.VPAIDRenderer,a.VPAIDRenderer.VastCompanion=function(e,t,n,i){this._width=e,this._height=t,this._apiFramework=n,this._xmlNode=i},a.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width},getHeight:function(){return this._height},_isValidResource:function(e,t){return"StaticResource"===e&&t["@attributes"].creativeType||"IFrameResource"===e&&t.value||"HTMLResource"===e&&t.value},hasValidRendtions:function(){for(var e in this._xmlNode)if(this._xmlNode.hasOwnProperty(e)&&("StaticResource"===e||"IFrameResource"===e||"HTMLResource"===e))for(var t=[].concat(this._xmlNode[e]),n=t.length-1;n>=0;n--)if(this._isValidResource(e,t[n]))return!0;return!1},translateToAdInstance:function(e){if(this._xmlNode.CompanionClickThrough&&e.setClickThroughUrl(a.EVENT_AD_CLICK,this._xmlNode.CompanionClickThrough.value),this._xmlNode.TrackingEvents){var t=this._xmlNode.TrackingEvents;if(t.Tracking){for(var n=[],i=(t=[].concat(t.Tracking)).length-1;i>=0;i--)"creativeView"===t[i]["@attributes"].event&&n.push(t[i].value);0<n.length&&e.addEventCallbackUrls(a.EVENT_AD_IMPRESSION,a.EVENT_TYPE_IMPRESSION,n)}}for(var r in this._xmlNode)if(this._xmlNode.hasOwnProperty(r)&&("StaticResource"===r||"IFrameResource"===r||"HTMLResource"===r))for(t=[].concat(this._xmlNode[r]),i=t.length-1;i>=0;i--)if(this._isValidResource(r,t[i])){var n=t[i],o=e.addCreativeRendition();o.setWidth(this._width),o.setHeight(this._height),o.setCreativeApi("None");var s=o.addCreativeRenditionAsset("VPAIDAsset"+i,!0);s.setContentType("text/html_doc_lit_mobile"),s.setMimeType("text/html");var l=e.getEventCallbackUrls(a.EVENT_AD_CLICK,a.EVENT_TYPE_CLICK)[0],d=r;"HTMLResource"===d?s.setContent(a.HTMLAdGenerator.wrapUnsafeHTML(n.value,e.getSlot().getCustomId(),this._width,this._height)):("IFrameResource"===d?creativeType="iframe":"StaticResource"===d&&(creativeType=this._xmlNode.creativeType),s.setContent(a.HTMLAdGenerator.generateAd(n.value,l,e.getSlot().getCustomId(),this._width,this._height,creativeType,s.getContentType()))),console.log("rendtion width: "+o.getWidth()+" height:"+o.getHeight()+" asset content:"+s.getContent())}}},a.VPAIDRenderer.VastCompanion.prototype.constructor=a.VPAIDRenderer.VastCompanion,a.VPAIDRenderer.VastAdSelect=function(){},a.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(e,t){var n=e.getWidth(),i=e.getHeight(),a=t.getWidth(),r=t.getHeight(),o=1;return a>=n&&r>=i&&(o=1-n*i/(a*r)),console.log("computing dead space ratio ("+o+") for slot "+a+"x"+r+" and ad "+n+"x"+i),o},matchAdsWithSlots:function(e,t){console.log("VPAIDRenderer: Matching ads with slots");for(a=0;a<t.length;++a)t[a].matched=!1;for(var n=[],i=[],a=0;a<e.length;a++)for(var r=0;r<t.length;r++)i.push({ratio:this._getDeadSpaceRatio(e[a],t[r]),adIndex:a,slotIndex:r});for(i.sort(function(e,t){return e.ratio-t.ratio}),a=0;a<i.length&&1!=i[a].ratio;a++){var o=e[(r=i[a]).adIndex],s=t[r.slotIndex];o.matched||s.matched||(console.log("Winning ratio:"+r.ratio+" Winning ad:"+o.getWidth()+"x"+o.getHeight()+" for slot:"+s.getWidth()+"x"+s.getHeight()),n.push({ad:o,slot:s}),o.matched=!0,s.matched=!0)}return n}},a.VPAIDRenderer.VastAdSelect.prototype.constructor=a.VPAIDRenderer.VastAdSelect,a.Util.mixin(a.VPAIDRenderer.prototype,{_failWithError:function(e,t){this.rendererController.handleStateTransition(a.RENDERER_STATE_FAILED,{errorModule:"VPAIDRenderer",errorCode:e,errorInfo:t}),this.dispose()},onCreativeTimeout:function(){console.log("VPAIDRenderer: onCreativeTimeout()");var e=this.vpaidCreative.getTimeoutOperation();this._failWithError(a.ERROR_TIMEOUT,"loadCreativeAsset"!==e?"Creative function "+e+" timeout":"load creative asset timeout")},setVolume:function(e){console.log("VPAIDRenderer: setVolume("+e+")"),this.vpaidCreative&&this.vpaidCreative.setAdVolume(e)},onAdVolumeChange:function(){console.log("VPAIDRenderer: onAdVolumeChange()");var e=this.vpaidCreative.getAdVolume();0>e||e>1?console.log("Invalid ad volume value"):(this.isMuted&&100*e>2?(this.isMuted=!1,this.rendererController.processEvent({name:a.EVENT_AD_UNMUTE})):!this.isMuted&&2>100*e&&(this.isMuted=!0,this.rendererController.processEvent({name:a.EVENT_AD_MUTE})),this.rendererController.processEvent({name:a.EVENT_AD_VOLUME_CHANGE}))},onAdExpandedChange:function(){console.log("VPAIDRenderer: onAdExpandedChange()"),this.vpaidCreative.getAdExpanded()?this.rendererController.processEvent({name:a.EVENT_AD_EXPAND}):this.rendererController.processEvent({name:a.EVENT_AD_COLLAPSE})},onAdDurationChange:function(){console.log("VPAIDRenderer: onAdDurationChange(): duration changed to "+this.vpaidCreative.getAdDuration())},onAdClickThru:function(e,t,n){console.log("VPAIDRenderer: onAdClickThru() with url:"+e+" id:"+t+" playerHandles:"+n),(t={name:tv.freewheel.SDK.EVENT_AD_CLICK,info:{}}).info[a.INFO_KEY_SHOW_BROWSER]=!0===n,!0===n?e?(console.log("onAdClickThru(): open window with overrided url"),t.info[a.INFO_KEY_URL]=e):console.log("onAdClickThru(): open window with url booked in MRM UI or VAST clickthru url"):console.log("onAdClickThru(): send click tracking"),this.rendererController.processEvent(t)},onCreativeAssetLoaded:function(){console.log("VPAIDRenderer: onCreativeAssetLoaded()"),this.vpaidCreative.cancelTimeoutEvent();var e=this,t=function(){var t=e.vpaidCreative.handshakeVersion(e.PLAYER_VPAID_VERSION.toFixed(1));return t?!(parseFloat(t)<e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN)||(e._failWithError(a.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+e.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):(e._failWithError(a.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1)};if(function(){var t=e.vpaidCreative.checkVPAIDInterface("handshakeVersion,initAd,startAd,stopAd,subscribe,unsubscribe,getAdLinear".split(","));return t.passed||e._failWithError(a.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+t.missingInterfaces),t.passed}()&&t()){!function(){(param=e.rendererController.getParameter(a.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY))&&0<Number(param)&&(e.creativeTimeoutDelayInMs=Number(param)),console.log("initParams(), creative timeout delay in miliseconds:"+e.creativeTimeoutDelayInMs);var t=parseFloat(e.rendererController.getParameter(a.PARAMETER_DESIRED_BITRATE));e.vpaidDesiredBitrate=t>0?t:e.vpaidDesiredBitrate,console.log("initParams(), desired bitrate: "+e.vpaidDesiredBitrate)}(),e.creativeEventCallbacks={AdStarted:e.onAdStarted,AdStopped:e.onAdStopped,AdSkipped:e.onAdSkipped,AdLoaded:e.onAdLoaded,AdLinearChange:e.onAdLinearChange,AdSizeChange:e.onAdSizeChange,AdExpandedChange:e.onAdExpandedChange,AdDurationChange:e.onAdDurationChange,AdVolumeChange:e.onAdVolumeChange,AdImpression:e.onAdImpression,AdClickThru:e.onAdClickThru,AdVideoFirstQuartile:e.onAdVideoFirstQuartile,AdVideoMidpoint:e.onAdVideoMidpoint,AdVideoThirdQuartile:e.onAdVideoThirdQuartile,AdVideoComplete:e.onAdVideoComplete,AdUserAcceptInvitation:e.onAdUserAcceptInvitation,AdUserMinimize:e.onAdUserMinimize,AdUserClose:e.onAdUserClose,AdPaused:e.onAdPaused,AdPlaying:e.onAdResumed,AdError:e.onAdError,AdLog:e.onAdLog},e.vpaidCreative.setCallbacksForCreative(e.creativeEventCallbacks,e),this.rendererController.setCapability(a.EVENT_AD_QUARTILE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MUTE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_EXPAND,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_PAUSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_CLOSE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_MINIMIZE,a.CAPABILITY_STATUS_ON),this.rendererController.setCapability(a.EVENT_AD_ACCEPT_INVITATION,a.CAPABILITY_STATUS_ON),(t=this.rendition?this.rendition.getParameter("creativeData"):null)||(t=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null),t&&(t=a.Util.trim(t));var t={AdParameters:t},n=this.rendererController.getAdInstance().getSlot();if(this.videoBase.style.width="0px",this.videoBase.style.height="0px",this.videoBase.style.zIndex="100000",this.videoBase.style.position="absolute",this.videoBase.style.left=this.rendererController.getContentVideoElement().style.left,this.videoBase.style.top=this.rendererController.getContentVideoElement().style.top,this.videoParent=n.getBase(),"nodeType"in(i=this.rendererController.getContentVideoElement())&&0<i.nodeType)try{this.videoParent.insertBefore(this.videoBase,this.rendererController.getContentVideoElement())}catch(e){this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild)}else this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);var i={slot:this.videoBase,videoSlot:this.rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0},r=n.getWidth(),n=n.getHeight();r&&n||!this.rendition||(r=this.rendition.getWidth(),n=this.rendition.getHeight()),this.vpaidCreative.initAd(r,n,this.vpaidViewmode,this.vpaidDesiredBitrate,t,i)}},onAdLoaded:function(){console.log("VPAIDRenderer: onAdLoaded()"),this.vpaidCreative.cancelTimeoutEvent(),console.log("Ad duration:"+this.getDuration());var e=this,t=function(t,n){if(console.log(n.length+" companion slots to fill."),0!==n.length&&0!==t.length){var i=(new a.VPAIDRenderer.VastAdSelect).matchAdsWithSlots(t,n);if(0!==i.length){for(var t=[],n=[],r=i.length-1;r>=0;r--)t.push(i[r].ad),n.push(i[r].slot);for(r=(i=e.rendererController.scheduleAdInstances(n)).length-1;r>=0;r--)t[r].translateToAdInstance(i[r])}}},n=function(e){if(!e)return console.log("The adCompanions property is empty."),null;if(console.log("parsing adCompanions: "+e),xmlDoc=null,window.DOMParser?xmlDoc=(new DOMParser).parseFromString(e,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e)),!(e=a.Util.xmlToJson(xmlDoc))||!e.CompanionAds||!e.CompanionAds.Companion)return console.log("No companion ads found in parsed xml"),[];for(var t=[],n=(e=[].concat(e.CompanionAds.Companion)).length-1;n>=0;n--){var i=e[n];if(i["@attributes"]){var r=i["@attributes"].width,o=i["@attributes"].height;if(!r||!o||0>r||0>o)console.log("Missing width/height for companion.");else{var s=i["@attributes"].apiFramework||"";console.log("Companion "+r+"x"+o+" api:"+s),(i=new a.VPAIDRenderer.VastCompanion(r,o,s,i)).hasValidRendtions()&&t.push(i)}}}return t}(e.vpaidCreative.getAdCompanions());n&&0<n.length?t(n,this.rendererController.getCompanionSlots()):console.log("VPAIDAdRenderer: No companions from VPAID creative."),t=this.rendererController.getAdInstance()._context.getAdVolume(),!this.isMuted&&2>100*t&&(this.isMuted=!0),this.setVolume(t),this.vpaidCreative.startAd()},onVisibilityChange:function(){console.log("onVisibilityChange:"+(document.hidden?"invisible":"visible")),console.log("Current playback state:"+this.adPlaybackState),document.hidden&&"playing"==this.adPlaybackState?(console.log("Pause the VPAID creative"),this.vpaidCreative.pauseAd()):!document.hidden&&("paused"==this.adPlaybackState||8>a.PLATFORM_IOS_VERSION)&&(console.log("Resume the VPAID creative"),this.vpaidCreative.resumeAd())},onAdStarted:function(){console.log("VPAIDRenderer: onAdStarted()"),this.vpaidCreative.timeoutReached?console.log("VPAID ad has already failed due to timeout. The AdStarted event will not be handled."):(this.vpaidCreative.cancelTimeoutEvent(),(7<=a.PLATFORM_IOS_VERSION||4.4<=a.PLATFORM_ANDROID_VERSION)&&(this._visibilityChangeListener=this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1)))},onAdStopped:function(){console.log("VPAIDRenderer: onAdStopped()"),this.vpaidCreative?(this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===a.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this.rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED),this.dispose())):console.log("The VPAID creative has been disposed. Return.")},onAdImpression:function(){if(console.log("VPAIDRenderer: onAdImpression()"),this.vpaidCreative.timeoutReached)console.log("VPAID ad has already failed due to timeout. The AdImpression event will not be handled.");else{var e=this.vpaidCreative.getAdVolume();this.isMuted=e>0&&2>=100*e,this.adPlaybackState="playing",this.rendererController.handleStateTransition(a.RENDERER_STATE_STARTED)}},onAdLinearChange:function(){console.log("VPAIDRenderer: onAdLinearChange()");var e=this.vpaidCreative.getAdLinear();e?console.log("onAdLinearChange(): non-linear click to linear -> request content video to pause"):console.log("onAdLinearChange(): linear back to non-linear -> request content video to resume"),this.rendererController.requestContentStateChange(e)},onAdSizeChange:function(){console.log("VPAIDRenderer: onAdSizeChange()")},onAdPaused:function(){console.log("VPAIDRenderer: onAdPaused()"),"playing"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.adPlaybackState="paused"},onAdResumed:function(){console.log("VPAIDRenderer: onAdResumed()"),"paused"===this.adPlaybackState&&this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.adPlaybackState="playing"},onAdSkipped:function(){console.log("VPAIDRenderer: onAdSkipped()"),this.dispose(),this.rendererController.handleStateTransition(a.RENDERER_STATE_COMPLETED)},onAdVideoFirstQuartile:function(){console.log("VPAIDRenderer: onAdVideoFirstQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_FIRST_QUARTILE})},onAdVideoMidpoint:function(){console.log("VPAIDRenderer: onAdVideoMidpoint()"),this.rendererController.processEvent({name:a.EVENT_AD_MIDPOINT})},onAdVideoThirdQuartile:function(){console.log("VPAIDRenderer: onAdVideoThirdQuartile()"),this.rendererController.processEvent({name:a.EVENT_AD_THIRD_QUARTILE})},onAdVideoComplete:function(){console.log("VPAIDRenderer: onAdVideoComplete"),this.rendererController.processEvent({name:a.EVENT_AD_COMPLETE})},onAdUserAcceptInvitation:function(){console.log("VPAIDRenderer: onAdUserAcceptInvitation()"),this.rendererController.processEvent({name:a.EVENT_AD_ACCEPT_INVITATION})},onAdUserClose:function(){console.log("VPAIDRenderer: onAdUserClose()"),this.rendererController.processEvent({name:a.EVENT_AD_CLOSE})},onAdUserMinimize:function(){console.log("VPAIDRenderer: onAdUserMinimize()"),this.rendererController.processEvent({name:a.EVENT_AD_MINIMIZE})},onAdLog:function(e){console.log("VPAIDRenderer: onAdLog: "+e)},onAdError:function(e){console.log("VPAIDRenderer: onAdError(): "+e),this._failWithError(a.ERROR_3P_COMPONENT,"AdError event:"+e)},start:function(e){var t;if(console.log("VPAIDRenderer start()"),this.rendererController=e,this.timePositionClass=e.getAdInstance().getSlot().getTimePositionClass(),t=(this.rendition=e.getAdInstance().getActiveCreativeRendition())?this.rendition.getPrimaryCreativeRenditionAsset():null,e=(e=t)?e.getUrl():null){this.vpaidCreative=new a.VPAIDWrapper,this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs),this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this)),this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(e)}catch(e){this._failWithError(a.ERROR_IO,e)}}else this._failWithError(a.ERROR_NULL_ASSET,"Creative asset url cannot be null")},stop:function(){console.log("VPAIDRenderer stop()"),this.vpaidCreative.stopAd()},info:function(){return{moduleType:a.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){var e=this.vpaidCreative.getAdDuration(),t=this.vpaidCreative.getAdRemainingTime();return e>=0&&t>=0&&(this.playheadTime=e-t),0>this.playheadTime&&(this.playheadTime=-1),this.playheadTime},getDuration:function(){var e=this.vpaidCreative.getAdDuration();return e>=0?e:-1},pause:function(){console.log("VPAIDRenderer pause()"),this.rendererController.processEvent({name:a.EVENT_AD_PAUSE}),this.vpaidCreative.canPauseAd()?"playing"==this.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):console.log("The creative is not able to pause")},resume:function(){console.log("VPAIDRenderer resume()"),this.rendererController.processEvent({name:a.EVENT_AD_RESUME}),this.vpaidCreative.canResumeAd()?"paused"==this.adPlaybackState&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd()):console.log("The creative is not able to resume")},dispose:function(){console.log("VPAIDRenderer dispose()"),this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&(console.log("remove visibilitychange listener"),document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1)),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative=null)},resize:function(){console.log("VPAIDAdRenderer resize()");var e=(t=this.rendererController.getAdInstance().getSlot()).getWidth(),t=t.getHeight();console.log("VPAIDRenderer new size width:"+e+" height:"+t),this.vpaidCreative.resizeAd(e,t,this.vpaidViewmode)}}),a},v.tv.freewheel.SDK||(v.tv.freewheel.SDK=v.tv.freewheel[R]("tv.freewheel.SDK"))}()},window.addNielsenLibrary=function(){!function(e,t,n){var i=t.location.protocol||"http:",a="//secure-",r=".imrworldwide.com/",o="glcfg400.js",s="400",l="http://secure-us.imrworldwide.com/";if(e.getTIme=e.getTIme||function(){return(new Date).getTime()},e.loadXmlString=function(e){try{var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}catch(i){try{var n=new DOMParser;return t=n.parseFromString(e,"text/xml")}catch(e){}}return null},e.getAddress=function(){return l},e.getVersion=function(){return s},e.send=function(e){},e.ggInitialize=function(d,c,u,_,p){function h(e,t){if("string"==typeof e&&(e={type:e}),e.target||(e.target=t),!e.type)throw new Error("Event object missing 'type' property.");if(m[e.type]instanceof Array)for(var n=m[e.type],i=0,a=n.length;a>i;i++)n[i].call(this,t)}var g,f,E,m={},T="us",A=[],v=String(e.getTIme())+Math.round(1e4*Math.random()),I=p,S={ggParams:d,uid:c,oldFlashDetect:u,detectBrowser:_,playerId:v};if(this.modules={},typeof d==typeof String()){for(g=e.loadXmlString("<vi>"+d+"</vi>").firstChild.firstChild,f=0,d={};g!=n&&20>f;)null!=g.firstChild&&(d[g.nodeName]=g.firstChild.nodeValue),g=g.nextSibling,f++;S.ggParams=d}E=t.document.createElement("script"),s=d.sdkv||s,T=d.sfcode||T,l=d.coreaddress||i+a+T+r,E.src=l+"novms/js/2/configs/"+o+"?rnd="+Math.round(1e6*Math.random()),t.document.getElementsByTagName("head")[0].appendChild(E),this.addListener=function(e,t){void 0===m[e]&&(m[e]=[]),m[e].push(t)},this.removeListener=function(e,t){if(m[e]instanceof Array)for(var n=m[e],i=0,a=n.length;a>i;i++)if(n[i]===t){n.splice(i,1);break}},this.ggPM=function(e,t,n,i,a){var r={};r.eventType=e,r.param1=t,r.param2=n,r.param3=i,r.param4=a,2==this.modules.PLCMB||2==this.modules.PLDPR?(this.emptyQueue(),h("ggPM",{evtInfo:r,id:v})):A.push(r)},this.callBack=function(e){e.registerListener("ggPM",this);for(var n=0;n<t.gg_nol_CallBack.length;n++)t.gg_nol_CallBack[n]==this&&t.gg_nol_CallBack.splice(n,1)},this.getConfigParams=function(){return S},this.emptyQueue=function(){if(!(A.length<=0)&&(this.modules.PLCMB||this.modules.PLDPR)){for(var e=0,t=A.length;t>e;e+=1)h("ggPM",{evtInfo:A[e],id:v});A=[]}},this.getContainer=function(){return I},e.GLCFG?e.GLCFG.registerListener("ggPM",this):(t.gg_nol_CallBack||(t.gg_nol_CallBack=[]),t.gg_nol_CallBack.push(this))},t.gg_nol_FlashCallBack){for(var d,c=0,u=t.gg_nol_FlashCallBack.length;u>c;c+=1)t.gg_nol_FlashCallBack[c].hasOwnProperty("callBack")&&(d=document.getElementById(t.gg_nol_FlashCallBack[c].swfId))&&d[t.gg_nol_FlashCallBack[c].callBack]();t.gg_nol_FlashCallBack=n}}(this.NOLCMB=this.NOLCMB||{},this)},window.addStreamSenseLibrary=function(){!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.ns_=t(e.ns_)}):"object"==typeof module&&module.exports?module.exports=t():e.ns_=t(e.ns_)}(this,function(e){(e=e||{}).ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var i=1;n>i;i++)if(t=arguments[i])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,i){t==e&&(n=i)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var r=0,o=e.length;o>r;r++)t.call(n,e[r],r)}catch(e){}},regionMatches:function(e,t,n,i,a){if(0>t||0>i||t+a>e.length||i+a>n.length)return!1;for(;--a>=0;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,i=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(i,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){return null==e||"object"!=typeof e?e:function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}function r(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;n>i;i++)if(t[i][0]===e)return t[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var i=o[n];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=o,a.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return r(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var a=e(t.childNodes[i]);n.appendChild(a)}}}),{deepCopy:a}}().deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,i=navigator.userAgent||"",a=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(r=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?r=i.substring(t+4):-1!=(t=i.indexOf("Android"))?r=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?r=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(r=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?r=i.substring(t+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",r=r.toString(),-1!=(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_}};return e.StreamSense=e.StreamSense||function(){var n={PLATFORM:"generic",httpGet:function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},httpPost:function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},Storage:function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),IO:{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}},getCrossPublisherId:function(){return null},getAppName:function(){return i.UNKNOWN_VALUE},getAppVersion:function(){return i.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return i.UNKNOWN_VALUE},getPlatformVersion:function(){return i.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return i.UNKNOWN_VALUE},getRuntimeVersion:function(){return i.UNKNOWN_VALUE},getResolution:function(){return i.UNKNOWN_VALUE},getLanguage:function(){return i.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return i.UNKNOWN_VALUE},getConnectionType:function(){return i.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return i.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)}},i={UNKNOWN_VALUE:"unknown"};t.filterMap=function(e,n){for(var i in e)e.hasOwnProperty(i)&&-1==t.indexOf(i,n)&&delete e[i]},t.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},t.getEventTime=function(e){var t=-1;return e.hasOwnProperty("ns_ts")&&(t=parseInt(e.ns_ts)),t},t.fixEventTime=function(e){0>t.getEventTime(e)&&(e.ns_ts=String(+new Date))},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,i,a){var r={};if(!(i>=n))return t.cloneObject(e);if(r.start=n,r.end=i,0==e.length)return e.push(r),t.cloneObject(e);var o;for(o=0;o<e.length;o++)if(r.start>=e[o].start&&r.end<=e[o].end)return t.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&r.start>=e[s].start||r.start>=e[s].start&&r.start<e[s+1].start){e.splice(s+1,0,r),l=!0;break}l||e.splice(0,0,r);var d=[e[0]];for(o=1;o<e.length;o++)d[d.length-1].end+a<e[o].start?d.push(e[o]):d[d.length-1].end<e[o].end&&(d[d.length-1].end=e[o].end);return t.cloneObject(d)};var a=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),r={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},o=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),s={STREAMSENSE_VERSION:"5.0.1.151203",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ev_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},l=function(){function e(){var e,t,n=0;for(e=0;e<h.length;e++)n+=Math.abs(h[e].end-h[e].start);V.setUniquePlaybackInterval(n);var i=0;for(e=0;e<h.length;e++)(t=Math.abs(h[e].end-h[e].start))>i&&(i=t);V.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);V.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)(t=Math.abs(g[e].end-g[e].start))>r&&(r=t);V.setAssetLongestPlaybackInterval(r)}var n,i,a,r,o,l,d,c,u,_,p,h,g,f,E,m,T,A,v,I,S,y,C,P,R,D,b,N,O,L,M,w,k,V=this,U=s.INTERVAL_MERGE_TOLERANCE;t.extend(this,{reset:function(e){(L={}).ns_st_pt="0",L.ns_st_bt="0",L.ns_st_bc="0",L.ns_st_pc="0",L.ns_st_sq="0",L.ns_st_cl="0",L.ns_st_pn="1",L.ns_st_tp="1",L.ns_st_skc="0",L.ns_st_et="0",L.ns_st_cn="1",L.ns_st_spc="0",L.ns_st_sc="0",L.ns_st_apc="0",L.ns_st_ska="0",L.ns_st_skd="0",L.ns_st_skt="0",L.ns_st_upc="0",L.ns_st_lpc="0",L.ns_st_upa="0",L.ns_st_lpa="0",L.ns_st_ub="0",L.ns_st_br="0",S=-1,y=0,u=-1,_=0,r=-1,l=0,o=-1,d=0,M=0,w=0,R=0,P=-1,b=!1,c=0,N=0,O=0,k=0,f=-1,a=!1,n=null,p=0,C=!1,D=0,h=[],g=[],E=0,m=0,v=0,T=0,A=0,I=0,i=!1,null!=e&&e.length>0&&V.setLabels(e)},getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){U=e},getPlaybackIntervalMergeTolerance:function(){return U},setLabels:function(e){null!=e&&t.extend(L,e)},getLabels:function(){return L},setLabel:function(e,t){var n={};n[e]=t,V.setLabels(n)},getLabel:function(e){return L[e]},getClipNumber:function(){return parseInt(V.getLabel("ns_st_cn"))},setClipNumber:function(e){V.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(V.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(V.getBufferingTime()-y),y=V.getBufferingTime(),n.ns_st_det=String(V.getElapsedTime()-_),_=V.getElapsedTime(),n.ns_st_dupc=String(V.getUniquePlaybackInterval()-E),E=V.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var i;i=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):V.getUniquePlaybackInterval(),n.ns_st_iupc=String(i-m),m=i,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(V.getAssetUniquePlaybackInterval()-T),T=V.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var r;r=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):V.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(r-A),A=r,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(V.getLongestPlaybackInterval()-v),v=V.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(V.getAssetLongestPlaybackInterval()-I),I=V.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var o;return o=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):V.getPlaybackTime(),n.ns_st_ipt=String(o-d),d=o,n.ns_st_dpt=String(V.getPlaybackTime()-l),l=V.getPlaybackTime(),n.ns_st_dpc=String(V.getPauses()-M),M=V.getPauses(),n.ns_st_dskc=String(V.getSeeks()-w),w=V.getSeeks(),n.ns_st_dbc=String(V.getBuffers()-k),k=V.getBuffers(),n.ns_st_dskt=String(V.getSeekingTime()-R),R=V.getSeekingTime(),n.ns_st_dska=String(V.getSeekingAmount()-N),N=V.getSeekingAmount(),t.extend(n,V.getLabels()),V.setSeekingDirection(0),a||(delete n.ns_st_spc,delete n.ns_st_apc,0===parseInt(n.ns_st_sc)&&(n.ns_st_sc="1")),n},getVideoTrack:function(){return V.getLabel("ns_st_vt")},setVideoTrack:function(e){V.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return V.getLabel("ns_st_at")},setAudioTrack:function(e){V.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return V.getLabel("ns_st_tt")},setSubtitleTrack:function(e){V.setLabel("ns_st_tt",String(e))},getCDN:function(){return V.getLabel("ns_st_cdn")},setCDN:function(e){V.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return h},setClipPlaybackIntervals:function(e){h=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(V.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){V.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){V.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(V.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){V.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){V.setLabel("ns_st_pc",String(V.getPauses()+1))},incrementSeeks:function(){V.setLabel("ns_st_skc",String(V.getSeeks()+1))},incrementPlayCounter:function(){V.setLabel("ns_st_sq",String(parseInt(V.getLabel("ns_st_sq"))+1))},getBufferingTime:function(){return parseInt(V.getLabel("ns_st_bt"))},setBufferingTime:function(e){V.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(S>=0){var t=V.getBufferingTime();t+=e-S,V.setBufferingTime(t),S=-1}},setPlaybackStartPosition:function(e){f=parseInt(e)},getPlaybackStartPosition:function(){return f},addInterval:function(n){f>=0&&parseInt(n)>=0&&(h=t.addNewPlaybackInterval(h,f,n,U),g=t.addNewPlaybackInterval(g,f,n,U),e(),f=-1)},getElapsedTime:function(){return parseInt(V.getLabel("ns_st_et"))},setElapsedTime:function(e){V.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(u>=0){var t=V.getElapsedTime();t+=e-u,V.setElapsedTime(t),u=-1}},getElapsedTimestamp:function(){return u},setElapsedTimestamp:function(e){u=e},addPlaybackTime:function(e){if(r>0){var t=V.getPlaybackTime();t+=e-r,V.setPlaybackTime(t),r=-1}},getPlaybackTime:function(){return parseInt(V.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return r>0&&(c+=e-r),c},setPlaybackTimeOffset:function(e){c=e},getPlaybackTimeOffset:function(){return c},setPlaybackTime:function(e){V.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){l=e},setPreviousPlaybackTimestamp:function(e){o=e},getBufferingTimestamp:function(){return S},setBufferingTimestamp:function(e){S=e},getPauses:function(){return parseInt(V.getLabel("ns_st_pc"))},setPauses:function(e){V.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(V.getLabel("ns_st_skc"))},setSeeks:function(e){V.setLabel("ns_st_skc",String(e))},setSeeking:function(e){C=e},isSeeking:function(){return C},setCollectingSeekingTime:function(e){b=e},isCollectingSeekingTime:function(){return b},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){P=e},getSeekingTimestamp:function(){return P},addSeekingTime:function(e){if(P>0){var t=V.getSeekingTime();t+=e-P,V.setSeekingTime(t),P=-1}},getSeekingTime:function(){return parseInt(V.getLabel("ns_st_skt"))},setSeekingTime:function(e){V.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){O=e},getSeekingTimeBeforeEnd:function(){return O},setSeekStartPosition:function(e){D=e},getSeekStartPosition:function(){return D},setSeekingAmount:function(e){V.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(V.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=V.getSeekingAmount();t+=Math.abs(e-D),V.setSeekingAmount(t);var n;D==e?n=0:D>e?n=-1:e>D&&(n=1),V.setSeekingDirection(n),D=0},getSeekingDirection:function(){return parseInt(V.getLabel("ns_st_skd"))},setSeekingDirection:function(e){V.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){L.ns_st_pt="0",l=0,d=0,L.ns_st_bt="0",y=0,L.ns_st_bc="0",k=0,L.ns_st_pc="0",M=0,L.ns_st_sq="0",L.ns_st_upa="0",T=0,A=0,L.ns_st_et="0",_=0,L.ns_st_lpa="0",I=0,L.ns_st_skt="0",R=0,L.ns_st_ska="0",N=0,L.ns_st_skc="0",w=0},incrementSegmentPlaybackCounter:function(){V.setLabel("ns_st_spc",String(V.getSegmentPlaybackCounter()+1))},incrementClipLoadCounter:function(){V.setLabel("ns_st_sc",String(V.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){V.setLabel("ns_st_apc",String(V.getAssetPlaybackCounter()+1))},setPreviousUniquePlaybackInterval:function(e){E=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){m=e},setPreviousLongestPlaybackInterval:function(e){v=e},resetAssetPlaybackCounters:function(){g=[],V.setAssetUniquePlaybackInterval(0),T=0,A=0,V.setAssetLongestPlaybackInterval(0),I=0},setSegmentPlaybackCounter:function(e){V.setLabel("ns_st_spc",String(e))},setClipLoadCounter:function(e){V.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){V.setLabel("ns_st_apc",String(e))},setLowestPartNumberPlayed:function(e){p=e},getSegmentPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_spc"))},getClipLoadCounter:function(){return parseInt(V.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return parseInt(V.getLabel("ns_st_apc"))},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(V.getLabel("ns_st_bc"))},incrementBufferCount:function(){V.setLabel("ns_st_bc",String(V.getBuffers()+1))},getPreviousBufferingTime:function(){return y}}),V.reset()},d=function(){var e,n,i,a,r,o,s,d,c=this;t.extend(this,{reset:function(l){(a={}).ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),a.ns_st_ppc="0",n=-1,i=-1,o=[],s=0,r=!1,d=!1,null!=l&&l.length>0&&t.extend(a,l),e.reset(l)},hashExists:function(e){return null!=o[e]},storeHash:function(e){o[e]={}},removeHash:function(e){delete o[e]},storeClipPlaybackCounters:function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n].clipNumber===e.getClipNumber()){t.extend(o[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return o[e]},getClipNumber:function(e){return o[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){o[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&t.extend(a,e)},getLabels:function(){return a},setLabel:function(e,t){var n={};n[e]=t,c.setLabels(n,null)},getLabel:function(e){return a[e]},getClip:function(){return e},createLabels:function(n){var i=n||{};return d||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1",d=!0),t.extend(i,c.getLabels()),e.isPlaybackStarted()||delete i.ns_st_ppc,i},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(i>=0){var t=c.getPlaybackTime();t+=e-i,c.setPlaybackTime(t),i=-1}},addBufferingTime:function(e){if(n>=0){var t=c.getBufferingTime();t+=e-n,c.setBufferingTime(t),n=-1}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return parseInt(c.getLabel("ns_st_ppc"))},incrementPlaybackCounter:function(){c.setLabel("ns_st_ppc",String(c.getPlaybackCounter()+1))}}),e=new l,c.reset()},c=function(e){function n(){d=1}function i(n){c=t.extend({},n);var i=e.getPixelURL();if(e.getAppCore()){if(!e.isNotProperlyInitialized()){var a=e.getExports().am,r=e.getExports().et,o=a.newApplicationMeasurement(e.getAppCore(),r.HIDDEN,n,i);e.getAppCore().getQueue().offer(o)}}else i&&e.getPlatformAPI().httpGet(e.prepareUrl(i,n))}function r(){c=null}function l(){var n,i;1==arguments.length?(n=null,i=arguments[0]):(n=arguments[0],i=arguments[1]);var r={};if("undefined"!=typeof document){var l=document;r.c7=l.URL,r.c8=l.title,r.c9=l.referrer}return null!=i&&t.extend(r,i),r.ns_ts=null!=r.ns_ts?r.ns_ts:String(+new Date),r.ns_st_ev=null!=r.ns_st_ev?r.ns_st_ev:a.toString(n),r.ns_st_mp=null!=r.ns_st_mp?r.ns_st_mp:e.getMediaPlayerName(),r.ns_st_mv=null!=r.ns_st_mv?r.ns_st_mv:e.getMediaPlayerVersion(),r.ns_st_ub=null!=r.ns_st_ub?r.ns_st_ub:"0",r.ns_st_br=null!=r.ns_st_br?r.ns_st_br:"0",r.ns_st_pn=null!=r.ns_st_pn?r.ns_st_pn:"1",r.ns_st_tp=null!=r.ns_st_tp?r.ns_st_tp:"1",r.ns_st_it=null!=r.ns_st_it?r.ns_st_it:o.toString(o.SINGLE_CLIP),r.ns_st_sv=null!=r.ns_st_sv?r.ns_st_sv:s.STREAMSENSE_VERSION,r.ns_type=null!=r.ns_type?r.ns_type:"hidden",r.ns_st_ec=null!=r.ns_st_ec?r.ns_st_ec:String(d),r.ns_st_po=null!=r.ns_st_po?r.ns_st_po:t.getInteger(e.getPlaylist().getClip().getExpectedPlaybackPosition(t.getEventTime(r))),r.ns_st_ki=null!=r.ns_st_ki?r.ns_st_ki:e.getKeepAlive().getInterval(),e.getPlaylist().createLabels(r),e.getPlaylist().getClip().createLabels(r),t.extend(r,e.getLabels()),r}var d,c,u=this;t.extend(this,{newEvent:function(e,n){var r=l(e,n);t.extend(r,n),i(r),e!=a.HEARTBEAT&&u.incrementEventCounter()},getEventCounter:function(){return d},incrementEventCounter:function(){d++},setEventCounter:function(e){d=e},getMeasurementSnapshot:function(){return c},reset:function(){n(),r()}}),u.reset()},u=function(e){function n(){c++;var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(i-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(i-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(i-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==r.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(i-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(i-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(i-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(i-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(i-e.getPlaylist().getClip().getElapsedTimestamp());var o=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),s=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());o=t.addNewPlaybackInterval(o,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),s=t.addNewPlaybackInterval(s,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var d,_,p=0;for(d=0;d<o.length;d++)p+=Math.abs(o[d].end-o[d].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(d=0;d<o.length;d++)(_=Math.abs(o[d].end-o[d].start))>h&&(h=_);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var g=0;for(d=0;d<s.length;d++)g+=Math.abs(s[d].end-s[d].start);n.ns_st_upa=String(g),n.ns_st_dupa=String(g-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var f=0;for(d=0;d<s.length;d++)(_=Math.abs(s[d].end-s[d].start))>f&&(f=_);n.ns_st_lpa=String(f),n.ns_st_dlpa=String(f-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount()),e.getEventManager().newEvent(a.HEARTBEAT,n),l=0,u.resume()}function i(){null!=o&&(e.getPlatformAPI().clearTimeout(o),o=null)}var o,l,d,c,u=this,_=s.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return c},setIntervals:function(e){_=e},getInterval:function(e){var t=0;if(null!=_)for(var n=0;n<_.length;n++){var i=_[n],a=i.playingtime;if(!a||a>e){t=i.interval;break}}return t},resume:function(){i();var t=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var a=l>0?l:t;o=e.getPlatformAPI().setTimeout(n,a)}l=0},pause:function(){i();var t=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));l=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t},reset:function(){i(),l=0,d=0,c=0}}),u.reset()},_=function(e){function n(){var n={};t.fixEventTime(n);var i=t.getEventTime(n);n.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(i),e.getPlaylist().addPlaybackTime(i),e.getPlaylist().setPlaybackTimestamp(i),e.getPlaylist().getClip().addPlaybackTime(i),e.getPlaylist().getClip().setPlaybackTimestamp(i),e.getStateMachine().getCurrentState()==r.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(i),e.getPlaylist().setBufferingTimestamp(i),e.getPlaylist().getClip().addBufferingTime(i),e.getPlaylist().getClip().setBufferingTimestamp(i)),e.getPlaylist().getClip().addElapsedTime(i),e.getPlaylist().getClip().setElapsedTimestamp(i),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po)),e.getEventManager().newEvent(a.KEEPALIVE,n),l.resume()}function i(){null!=o&&(e.getPlatformAPI().clearTimeout(o),o=null)}var o,l=this,d=s.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(this,{resume:function(){i(),o=e.getPlatformAPI().setTimeout(n,d)},setInterval:function(e){d=e},getInterval:function(){return d},reset:function(){i()}})},p=function(e){function n(e){return e==r.PLAYING||e==r.PAUSED}function i(){o(),f=e.getPlatformAPI().setTimeout(function(){var e={};t.fixEventTime(e),y.transitionTo(a.PAUSE_ON_BUFFERING,y.eventTypeToState(a.PAUSE_ON_BUFFERING),e)},C)}function o(){null!=f&&(e.getPlatformAPI().clearTimeout(f),f=null)}function l(){p&&(e.getPlatformAPI().clearTimeout(p),p=null)}function d(n,s,l,d){var u=t.getEventTime(l);n==a.AD_SKIP&&!l.hasOwnProperty("ns_st_ui")&&c(n)?l.ns_st_ui="skip":n==a.SEEK_START&&!l.hasOwnProperty("ns_st_ui")&&c(n)&&(l.ns_st_ui="seek"),(y.getCurrentState()==r.PLAYBACK_NOT_STARTED||y.getCurrentState()==r.PAUSED||y.getCurrentState()==r.SEEKING_BEFORE_PLAYBACK||y.getCurrentState()==r.SEEKING_DURING_PLAYBACK||y.getCurrentState()==r.SEEKING_DURING_BUFFERING||y.getCurrentState()==r.SEEKING_DURING_PAUSE)&&n==a.BUFFER&&(e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)),(y.getCurrentState()==r.PAUSED||y.getCurrentState()==r.BUFFERING_DURING_PAUSE)&&n==a.SEEK_START&&(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u))),(y.getCurrentState()==r.SEEKING_DURING_BUFFERING||y.getCurrentState()==r.SEEKING_DURING_PAUSE)&&n==a.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)),(y.getCurrentState()==r.BUFFERING_DURING_SEEKING||y.getCurrentState()==r.BUFFERING_DURING_PAUSE)&&n==a.BUFFER_STOP&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)),(y.getCurrentState()==r.SEEKING_DURING_PLAYBACK||y.getCurrentState()==r.SEEKING_DURING_PAUSE)&&n==a.PAUSE&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),(y.getCurrentState()==r.SEEKING_DURING_BUFFERING||y.getCurrentState()==r.SEEKING_DURING_PAUSE)&&(n==a.END||n==a.AD_SKIP)&&(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()),(y.getCurrentState()==r.SEEKING_DURING_BUFFERING||y.getCurrentState()==r.SEEKING_DURING_PAUSE)&&n==a.BUFFER_STOP&&e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),y.getCurrentState()==r.IDLE?n==a.BUFFER?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==a.SEEK_START?(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u)):n==a.PLAY&&(e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),I||(l.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.PLAYBACK_NOT_STARTED?n==a.END||n==a.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.SEEK_START?(e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(u):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==a.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),I||(l.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.PLAYING?n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(s),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.BUFFER?(E&&i(),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==a.SEEK_START?(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(s),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(a.PAUSE,l)):n==a.PAUSE&&(e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(s),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(a.PAUSE,l)):y.getCurrentState()==r.PAUSED?n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.BUFFERING_BEFORE_PLAYBACK?n==a.END||n==a.AD_SKIP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==a.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==a.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==a.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),I||(l.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.BUFFERING_DURING_PLAYBACK?n==a.PAUSE_ON_BUFFERING?(o(),e.getHeartbeat().pause(),e.getKeepAlive().reset(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(s),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(a.PAUSE,l),e.getPlaylist().setBufferingTimestamp(u),e.getPlaylist().getClip().setBufferingTimestamp(u)):n==a.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),o(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().addInterval(s),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.SEEK_START?(o(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(s),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(a.PAUSE,l)):n==a.PAUSE?(o(),e.getPlaylist().addPlaybackTime(u),e.getPlaylist().getClip().addPlaybackTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().addInterval(s),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getEventManager().newEvent(a.PAUSE,l)):n==a.PLAY&&(o(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):y.getCurrentState()==r.BUFFERING_DURING_SEEKING?n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),o(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):n==a.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.BUFFERING_DURING_PAUSE?n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u)):n==a.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.SEEKING_BEFORE_PLAYBACK?n==a.END||n==a.AD_SKIP?(e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.PAUSE?e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)):n==a.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),I||(l.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.SEEKING_DURING_PLAYBACK?n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.PLAY&&(e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(s),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),I||(l.ns_st_lt=v+(+new Date-A),I=!0),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):y.getCurrentState()==r.SEEKING_DURING_BUFFERING?n==a.PAUSE&&(e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(u),e.getPlaylist().getClip().setCollectingSeekingTime(!1))):y.getCurrentState()==r.PAUSED_DURING_BUFFERING&&(n==a.END||n==a.AD_SKIP?(e.getHeartbeat().reset(),e.getKeepAlive().reset(),e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().addElapsedTime(u),e.getEventManager().newEvent(a.END,l),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(u-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),l.hasOwnProperty("ns_st_pe")&&"0"!==String(l.hasOwnProperty("ns_st_pe"))&&e.getPlaylist().reset()):n==a.BUFFER_STOP?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l)):n==a.SEEK_START?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(u),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(s),e.getPlaylist().getClip().setSeekingTimestamp(u))):n==a.PAUSE?(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()):n==a.PLAY&&(e.getPlaylist().addBufferingTime(u),e.getPlaylist().getClip().addBufferingTime(u),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(u),e.getPlaylist().getClip().setPlaybackTimestamp(u),e.getPlaylist().getClip().addElapsedTime(u),e.getPlaylist().getClip().setElapsedTimestamp(u),e.getPlaylist().getClip().setPlaybackStartPosition(s),e.getHeartbeat().resume(),e.getKeepAlive().resume(),e.getEventManager().newEvent(a.PLAY,l))),y.setCurrentState(y.eventTypeToState(n));for(var _=0,p=S.length;p>_;_++)S[_](y.getPreviousState(),y.getCurrentState(),l,d)}function c(e){if(g==r.IDLE||g==r.PLAYBACK_NOT_STARTED||g==r.BUFFERING_BEFORE_PLAYBACK||g==r.SEEKING_BEFORE_PLAYBACK){if(e==a.PLAY)return!0}else if(g==r.PLAYING){if(e==a.END||e==a.AD_SKIP||e==a.SEEK_START||e==a.PAUSE)return!0}else if(g==r.PAUSED||g==r.BUFFERING_DURING_PAUSE||g==r.SEEKING_DURING_PLAYBACK||g==r.SEEKING_DURING_BUFFERING||g==r.SEEKING_DURING_PAUSE){if(e==a.END||e==a.AD_SKIP||e==a.PLAY)return!0}else if(g==r.BUFFERING_DURING_PLAYBACK){if(e==a.PAUSE_ON_BUFFERING||e==a.END||e==a.AD_SKIP||e==a.SEEK_START||e==a.PAUSE||e==a.PLAY)return!0}else if(g==r.BUFFERING_DURING_SEEKING){if(e==a.END||e==a.AD_SKIP||e==a.PAUSE||e==a.PLAY)return!0}else if(g==r.PAUSED_DURING_BUFFERING&&(e==a.END||e==a.AD_SKIP||e==a.BUFFER_STOP||e==a.PLAY))return!0;return!1}function u(e){return null!=e&&g!=e}var _,p,h,g,f,E,m,T,A,v,I,S,y=this,C=s.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,P=s.THROTTLING_DELAY;t.extend(this,{eventTypeToState:function(e){if(y.getCurrentState()==r.IDLE){if(e==a.PLAY)return r.PLAYING;if(e==a.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK;if(e==a.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK}else if(y.getCurrentState()==r.PLAYBACK_NOT_STARTED){if(e==a.PLAY)return r.PLAYING;if(e==a.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK;if(e==a.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK;if(e==a.END||e==a.AD_SKIP)return r.IDLE}else if(y.getCurrentState()==r.PLAYING){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.BUFFER)return r.BUFFERING_DURING_PLAYBACK;if(e==a.PAUSE)return r.PAUSED;if(e==a.SEEK_START)return r.SEEKING_DURING_PLAYBACK}else if(y.getCurrentState()==r.PAUSED){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.BUFFER)return r.BUFFERING_DURING_PAUSE;if(e==a.PLAY)return r.PLAYING;if(e==a.SEEK_START)return r.SEEKING_DURING_PAUSE}else if(y.getCurrentState()==r.BUFFERING_BEFORE_PLAYBACK){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PAUSE||e==a.BUFFER_STOP)return r.PLAYBACK_NOT_STARTED;if(e==a.PLAY)return r.PLAYING;if(e==a.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK}else if(y.getCurrentState()==r.BUFFERING_DURING_PLAYBACK){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY||e==a.BUFFER_STOP)return r.PLAYING;if(e==a.PAUSE_ON_BUFFERING)return r.PAUSED_DURING_BUFFERING;if(e==a.SEEK_START)return r.SEEKING_DURING_BUFFERING;if(e==a.PAUSE)return r.PAUSED}else if(y.getCurrentState()==r.BUFFERING_DURING_SEEKING){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY)return r.PLAYING;if(e==a.BUFFER_STOP)return r.SEEKING_DURING_PLAYBACK;if(e==a.PAUSE)return r.PAUSED}else if(y.getCurrentState()==r.BUFFERING_DURING_PAUSE){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY)return r.PLAYING;if(e==a.SEEK_START)return r.SEEKING_DURING_PAUSE;if(e==a.BUFFER_STOP||e==a.PAUSE)return r.PAUSED}else if(y.getCurrentState()==r.SEEKING_BEFORE_PLAYBACK){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PAUSE)return r.PLAYBACK_NOT_STARTED;if(e==a.PLAY)return r.PLAYING;if(e==a.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK}else if(y.getCurrentState()==r.SEEKING_DURING_PLAYBACK){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY)return r.PLAYING;if(e==a.PAUSE)return r.PAUSED;if(e==a.BUFFER)return r.BUFFERING_DURING_SEEKING}else if(y.getCurrentState()==r.SEEKING_DURING_BUFFERING){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY)return r.PLAYING;if(e==a.PAUSE||e==a.BUFFER_STOP)return r.PAUSED}else if(y.getCurrentState()==r.SEEKING_DURING_PAUSE){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.PLAY)return r.PLAYING;if(e==a.PAUSE||e==a.BUFFER_STOP)return r.PAUSED;if(e==a.BUFFER)return r.BUFFERING_DURING_PAUSE}else if(y.getCurrentState()==r.PAUSED_DURING_BUFFERING){if(e==a.END||e==a.AD_SKIP)return r.IDLE;if(e==a.SEEK_START)return r.SEEKING_DURING_BUFFERING;if(e==a.PAUSE)return r.PAUSED;if(e==a.PLAY||e==a.BUFFER_STOP)return r.PLAYING}return null},reset:function(){g=r.IDLE,h=null,_=-1,m=null,T=!0,v=0,E=!0,o(),l()},getCurrentState:function(){return g},setCurrentState:function(e){g!=e&&(h=g,g=e,_=+new Date)},getPreviousState:function(){return h},transitionTo:function(i,o,s,c){if(l(),u(o))if(y.isThrottlingEnabled()&&n(g)&&n(o)&&!c)p=e.getPlatformAPI().setTimeout(function(e,t,n){return function(){y.transitionTo(e,t,n,!0)}}(i,o,s),P);else{var h=t.getEventTime(s),f=_>=0?h-_:0;s.ns_st_po||(e.getStateMachine().getCurrentState()==r.PLAYING&&i==a.BUFFER||e.getStateMachine().getCurrentState()==r.BUFFERING_DURING_PLAYBACK&&i==a.BUFFER_STOP?s.ns_st_po=e.getPlaylist().getClip().getPlaybackTimeOffset()+(h-e.getPlaylist().getClip().getPlaybackTimestamp()):s.ns_st_po=e.getPlaylist().getClip().getExpectedPlaybackPosition(h)),d(i,parseInt(s.ns_st_po),s,f)}},setPauseOnBufferingInterval:function(e){C=e},getPauseOnBufferingInterval:function(){return C},isPauseOnBufferingEnabled:function(){return E},setPauseOnBufferingEnabled:function(e){E=e},setThrottlingDelay:function(e){P=e},getThrottlingDelay:function(){return P},isThrottlingEnabled:function(){return T},setThrottlingEnabled:function(e){T=e},getLoadTimeOffset:function(){return v},setLoadTimeOffset:function(e){v=e},addListener:function(e){S.push(e)},removeListener:function(e){S.splice(t.indexOf(e,S),1)}}),I=!1,A=+new Date,S=[],y.reset()},h=function(e,l){function h(e,n){var i=e||"",a="undefined",r=L.comScore||L.sitestat||function(e){var n,i,r,o,l,d="comScore=",c=M.cookie,u="",_="indexOf",p="substring",h="length",g=t.browserAcceptsLargeURLs()?s.URL_LENGTH_LIMIT:s.RESTRICTED_URL_LENGTH_LIMIT,f="&ns_",E="&",m=L.encodeURIComponent||escape;if(c[_](d)+1)for(o=0,r=c.split(";"),l=r[h];l>o;o++)(i=r[o][_](d))+1&&(u=E+unescape(r[o][p](i+d[h])));(e+=f+"_t="+ +new Date+f+"c="+(M.characterSet||M.defaultCharset||"")+u).length>g&&e.indexOf(E)>0&&(n=e.substr(0,g-8).lastIndexOf(E),e=(e.substring(0,n)+f+"cut="+m(e.substring(n+1))).substr(0,g)),R.getPlatformAPI().httpGet(e),typeof ns_p===a&&(ns_p={src:e}),ns_p.lastMeasurement=e};if(typeof n!==a){var o=[],l=L.encodeURIComponent||escape;for(var d in n)n.hasOwnProperty(d)&&o.push(l(d)+"="+l(n[d]));/[\?\&]$/.test(i)||(i+="&"),i+=o.join("&")}return r(i)}function g(e,n){for(var i,a=L.encodeURIComponent||escape,r=[],o=s.LABELS_ORDER,l=e.split("?"),d=l[0],c=l[1].split("&"),u=0,_=c.length;_>u;u++){var p=c[u].split("="),h=unescape(p[0]),g=unescape(p[1]);h&&(n[h]=g)}for(var f={},E=0,m=o.length;m>E;E++){var T=o[E];if(n.hasOwnProperty(T)){var A=n[T];void 0!==A&&null!=A&&(f[T]=!0,r.push(a(T)+"="+a(n[T])))}}for(var v in n)if(n.hasOwnProperty(v)){if(f[v])continue;var I=n[v];void 0!==I&&null!=I&&r.push(a(v)+"="+a(n[v]))}i=(i=d+"?"+r.join("&"))+(i.indexOf("&c8=")<0?"&c8="+a(M.title):"")+(i.indexOf("&c7=")<0?"&c7="+a(M.URL):"")+(i.indexOf("&c9=")<0?"&c9="+a(M.referrer):"");var S=t.browserAcceptsLargeURLs()?s.URL_LENGTH_LIMIT:s.RESTRICTED_URL_LENGTH_LIMIT;if(i.length>S&&i.indexOf("&")>0){var y=i.substr(0,S-8).lastIndexOf("&");i=(i.substring(0,y)+"&ns_cut="+a(i.substring(y+1))).substr(0,S)}return i}function f(e,t){R.notify(a.CUSTOM,e,t)}function E(){P&&y.getCurrentState()!=r.IDLE&&R.end()}var m,T,A,v,I,S,y,C,P,R=this,D=s.DEFAULT_PLAYERNAME,b=s.STREAMSENSE_VERSION,N=s.STANDARD_METADATA_LABELS,O={};t.extend(this,{isNotProperlyInitialized:function(){var e=C.getAppContext(),t=C.getSalt(),n=C.getPixelURL();return null==e||null==t||0==t.length||null==n||0==n.length},reset:function(e){A=A||new d,v=v||new u(R),I=I||new c(R),S=S||new _(R),y=y||new p(R),A.reset(e),null==e||e.isEmpty()?m={}:t.filterMap(m,e),I.reset(),v.reset(),S.reset(),y.reset(),D=s.DEFAULT_PLAYERNAME,b=s.STREAMSENSE_VERSION,P=!0},getAppCore:function(){return C},getPlatformAPI:function(){return C?C.getPlatformAPI():n},getExports:function(){return O},getHeartbeat:function(){return v},getKeepAlive:function(){return S},getEventManager:function(){return I},getStateMachine:function(){return y},getMediaPlayerName:function(){return D},getMediaPlayerVersion:function(){return b},setPauseOnBufferingInterval:function(e){y.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return y.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){S.setInterval(e)},getKeepAliveInterval:function(){return S.getInterval()},setHeartbeatIntervals:function(e){v.setIntervals(e)},play:function(e,t){R.notify(a.PLAY,e,t)},pause:function(e,t){R.notify(a.PAUSE,e,t)},end:function(e,t){R.notify(a.END,e,t)},bufferStart:function(e,t){R.notify(a.BUFFER,e,t)},bufferStop:function(e,t){R.notify(a.BUFFER_STOP,e,t)},load:function(e,t){R.notify(a.LOAD,e,t)},start:function(e,t){R.notify(a.START,e,t)},seekStart:function(e,t){R.notify(a.SEEK_START,e,t)},skipAd:function(e,t){R.notify(a.AD_SKIP,e,t)},callToAction:function(e,t){R.notify(a.CTA,e,t)},error:function(e,t){R.notify(a.ERROR,e,t)},transferPlayback:function(e,t){R.notify(a.TRANSFER,e,t)},drmFail:function(e,t){R.notify(a.DRM_FAILED,e,t)},drmApprove:function(e,t){R.notify(a.DRM_APPROVED,e,t)},drmDeny:function(e,t){R.notify(a.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_br=e,R.notify(a.BIT_RATE,i,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_rt=e,R.notify(a.PLAYBACK_RATE,i,t)}},changeVolume:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vo=e,R.notify(a.VOLUME,i,t)}},changeWindowState:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_ws=e,R.notify(a.WINDOW_STATE,i,t)}},changeAudio:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_at=e,R.notify(a.AUDIO,i,t)}},changeVideo:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_vt=e,R.notify(a.VIDEO,i,t)}},changeSubtitle:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_tt=e,R.notify(a.SUBS,i,t)}},changeCDN:function(e,t,n){if(null!=e){var i=n||{};i.ns_st_cdn=e,R.notify(a.CDN,i,t)}},notify:function(){var e,n,o,s;if(n=arguments[0],3==arguments.length?("object"==typeof arguments[1]?o=arguments[1]:("string"==typeof arguments[1]||"number"==typeof arguments[1])&&(s=arguments[1]),"object"==typeof arguments[2]?o=arguments[2]:("string"==typeof arguments[2]||"number"==typeof arguments[2])&&(s=arguments[2]),o||(o={})):2==arguments.length?"object"==typeof arguments[1]?o=arguments[1]:(o={},s=arguments[1]):arguments.length,a.toString(n)){e=y.eventTypeToState(n),t.fixEventTime(o);var l=t.getEventTime(o);if(!o.ns_st_po&&s&&(o.ns_st_po=t.getInteger(s).toString()),o.ns_st_po&&A.getClip().setPlaybackTimeOffset(parseInt(o.ns_st_po)),n==a.PLAY||n==a.PAUSE||n==a.BUFFER||n==a.END||n==a.SEEK_START||n==a.AD_SKIP||n==a.BUFFER_STOP)y.transitionTo(n,e,o);else{if((n==a.LOAD||n==a.START)&&y.getCurrentState()!=r.IDLE)return;n!=a.ERROR||o.ns_st_er||(o.ns_st_er=i.UNKNOWN_VALUE),y.getCurrentState()!=r.IDLE&&y.getCurrentState()!=r.PLAYBACK_NOT_STARTED&&y.getCurrentState()!=r.SEEKING_BEFORE_PLAYBACK&&y.getCurrentState()!=r.BUFFERING_BEFORE_PLAYBACK&&(A.getClip().addElapsedTime(l),A.getClip().setElapsedTimestamp(l));var d,c,u,_=!0,p=!1;switch(n){case a.BIT_RATE:d="ns_st_br",c="ns_st_pbr",p=!0;break;case a.PLAYBACK_RATE:d="ns_st_rt",c="ns_st_prt",p=!0;break;case a.VOLUME:d="ns_st_vo",c="ns_st_pvo",p=!0;break;case a.WINDOW_STATE:d="ns_st_ws",c="ns_st_pws",p=!0;break;case a.AUDIO:d="ns_st_at",c="ns_st_pat",p=!1;break;case a.VIDEO:d="ns_st_vt",c="ns_st_pvt",p=!1;break;case a.SUBS:d="ns_st_tt",c="ns_st_ptt",p=!1;break;case a.CDN:d="ns_st_cdn",c="ns_st_pcdn",p=!1;break;default:_=!1}if(_&&o.hasOwnProperty(d)&&(p?(R.getLabels().hasOwnProperty(d)&&(u=R.getLabels()[d],o[c]=u),R.setLabel(d,o[d])):(A.getClip().getLabels().hasOwnProperty(d)&&(u=A.getClip().getLabels()[d],o[c]=u),A.getClip().setLabel(d,o[d]))),_&&y.getCurrentState()!=r.PLAYING&&y.getCurrentState()!=r.BUFFERING_DURING_PLAYBACK)return;o.ns_st_po||(o.ns_st_po=A.getClip().getExpectedPlaybackPosition(l)),(y.getCurrentState()==r.PLAYING||y.getCurrentState()==r.BUFFERING_DURING_PLAYBACK)&&(A.addPlaybackTime(l),A.setPlaybackTimestamp(l),A.getClip().addPlaybackTime(l),A.getClip().setPlaybackTimestamp(l),A.getClip().addInterval(parseInt(o.ns_st_po)),A.getClip().setPlaybackStartPosition(parseInt(o.ns_st_po))),(y.getCurrentState()==r.BUFFERING_BEFORE_PLAYBACK||y.getCurrentState()==r.BUFFERING_DURING_PAUSE||y.getCurrentState()==r.BUFFERING_DURING_PLAYBACK||y.getCurrentState()==r.BUFFERING_DURING_SEEKING)&&(A.addBufferingTime(l),A.setBufferingTimestamp(l),A.getClip().addBufferingTime(l),A.getClip().setBufferingTimestamp(l)),I.newEvent(n,o)}}},getLabels:function(){return m},getState:function(){return y.getCurrentState()},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&R.setLabel(t,e[t])},getLabel:function(e){return m[e]},setLabel:function(e,t){null==t?delete m[e]:m[e]=t},getLoadTimeOffset:function(){return y.getLoadTimeOffset()},setLoadTimeOffset:function(e){y.setLoadTimeOffset(e)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a].split("=");2==o.length?R.setLabel(o[0],t(o[1])):1==o.length&&R.setLabel(s.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return T=e},getPixelURL:function(){return T||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?T=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?T=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},setImplementationType:function(e){y.getCurrentState()!=r.IDLE||e!=o.SINGLE_CLIP&&e!=o.SEGMENTED&&e!=o.REDUCED||A.setLabel("ns_st_it",o.toString(e))},isPauseOnBufferingEnabled:function(){return y.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){y.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return y.isThrottlingEnabled()},setThrottlingEnabled:function(e){y.setThrottlingEnabled(e)},setThrottlingDelay:function(e){y.setThrottlingDelay(e)},getThrottlingDelay:function(){return y.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){A.getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return A.getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,i){if(void 0===i&&(i=!0),i&&y.getCurrentState()!==r.IDLE&&R.end(),y.getCurrentState()==r.IDLE){var a="",o=0;if(null!=e.ns_st_cn)a=String(e.ns_st_cn);else for(var s=0;s<N.length;s++)e[N[s]]&&(a+=N[s]+":"+e[N[s]]+";");A.getClip().isClipStarted()?(A.hashExists(A.getClip().getHash())||(A.storeHash(A.getClip().getHash()),A.storeClipNumber(A.getClip().getHash(),A.getClip().getClipNumber())),A.storeClipPlaybackCounters(),o=A.hashExists(a)?A.getClipNumber(a):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):A.getMaxClipNumber()+1):o=A.hashExists(a)?A.getClipNumber(a):A.getClip().getClipNumber(),A.getClip().reset(),A.getClip().setHash(a),A.getClip().setClipNumber(o),A.getClip().setLabels(e,null);var l=A.getStoredClipRegisters(a);return l&&(A.getClip().setClipStarted(!0),A.getClip().setSegmentPlaybackCounter(l.segmentPlaybackCounter),A.getClip().setClipLoadCounter(l.clipLoadCounter),A.getClip().setAssetPlaybackCounter(l.assetPlaybackCounter),A.getClip().setLowestPartNumberPlayed(l.lowestPartNumberPlayed),A.getClip().setSeeking(l.seeking),A.getClip().setSeekingTimeBeforeEnd(l.seekingTimeBeforeEnd),A.getClip().setSeekStartPosition(l.seekingStartPosition),A.getClip().setClipPlaybackIntervals(l.clipPlaybackIntervals),A.getClip().setUniquePlaybackInterval(l.uniquePlaybackInterval),A.getClip().setLongestPlaybackInterval(l.longestPlaybackInterval),A.getClip().setVideoTrack(l.videoTrack),A.getClip().setAudioTrack(l.audioTrack),A.getClip().setSubtitleTrack(l.subtitleTrack),A.getClip().setCDN(l.cdn),A.getClip().setPreviousUniquePlaybackInterval(l.uniquePlaybackInterval),A.getClip().setPreviousEventIndependentUniquePlaybackInterval(l.uniquePlaybackInterval),A.getClip().setPreviousLongestPlaybackInterval(l.longestPlaybackInterval)),A.getClip().incrementClipLoadCounter(),A.getClip().isClipStarted()&&n&&(A.incrementPlayCounter(),A.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,t){return void 0===t&&(t=!0),t&&y.getCurrentState()!==r.IDLE&&R.end(),y.getCurrentState()==r.IDLE&&(A.isPlaylistStarted()&&A.reset(),A.setLabels(e,null),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return s.STREAMSENSE_VERSION},addListener:function(e){y.addListener(e)},removeListener:function(e){y.removeListener(e)},getClip:function(){return A.getClip()},getPlaylist:function(){return A},setHttpGet:function(e){"function"==typeof e&&(R.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(R.getPlatformAPI().httpPost=e)},setExitEndEvent:function(e){P=e},isExitEndEventEnabled:function(){return P}});var L,M;t.isBrowser()?(L=window,M=document):(L={},M={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:g}),t.extend(this,{customNotify:f,viewNotify:function(e,t){(e=e||R.getPixelURL())&&h(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",E),window.addEventListener("unload",E)):window.attachEvent&&(window.attachEvent("onbeforeunload",E),window.attachEvent("onunload",E))),t.getNamespace().comScore&&(O=t.getNamespace().comScore.exports,C=O.c()),R.reset(),e&&R.setLabels(e),l&&R.setPixelURL(l)};return function(n){function i(e,t){return S[C]||r(e,t)}function a(){C=-1;for(var t=0;y>=t;t++)if(S.hasOwnProperty(String(t))){C=t;break}return e.StreamSense.activeIndex=C,C}function r(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),S[++y]=new e.StreamSense(n,t),a(),S[y]}function o(){var t=!1,n=C;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var i in S)if(S.hasOwnProperty(i)&&S[i]===arguments[0]){n=i;break}return S.hasOwnProperty(String(n))&&(t=S[n],delete S[n],t.reset(),a()),t}function s(e){return e=e||{},i().setPlaylist(e),i().getPlaylist()}function l(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=t),i().setClip(e,n),i().getClip()}function d(e,t,n){return void 0!==e&&(n=n||null,t=t||{},i().notify(e,t,n))}function c(e){void 0!==e&&i().setLabels(e)}function u(){return i().getLabels()}function _(e){void 0!==e&&i().getPlaylist().setLabels(e)}function p(){return i().getPlaylist().getLabels()}function h(e){void 0!==e&&i().getClip().setLabels(e)}function g(){return i().getClip().getLabels()}function f(e){return i().reset(e||{})}function E(e){return i().getPlaylist().reset(e||{})}function m(e){return i().getClip().reset(e||{})}function T(e){return e=e||{},i().viewNotify(null,e)}function A(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=t),i().customNotify(e,t)}function v(){return i().exportState()}function I(e){i().importState(e)}var S={},y=-1,C=-1;t.extend(n,{activeIndex:C,newInstance:r,new:r,destroyInstance:o,destroy:o,newPlaylist:s,newClip:l,notify:d,setLabels:c,getLabels:u,setPlaylistLabels:_,getPlaylistLabels:p,setClipLabels:h,getClipLabels:g,resetInstance:f,resetPlaylist:E,resetClip:m,viewEvent:T,customEvent:A,exportState:v,importState:I})}(h),h.PlayerEvents=a,h.InternalStates=r,h.ImplementationType=o,h}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,i=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),a=e.StreamSense.ImplementationType||null,r=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"11",ShortFormOnDemand:"12",Live:"13",UserGeneratedLongFormOnDemand:"21",UserGeneratedShortFormOnDemand:"22",UserGeneratedLive:"23",Bumper:"99",Other:"00"},o={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function o(){if(r)if(t.getNamespace().comScore)(f=new n).setImplementationType(a.REDUCED);else if(t.exists(e))if(E=t.isTrue(console.log),t.exists(e.customerC2)&&e.customerC2.length>0){var i=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(f=new n).setPixelURL(i+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",e.customerC2),f.setImplementationType(a.REDUCED)}else E&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function s(e){t.exists(e)||(e={});for(var n in T)T.hasOwnProperty(n)&&!t.exists(e[T[n]])&&("ns_st_ci"==T[n]?e.ns_st_ci="0":e[T[n]]="*null");return e}function l(e){for(var t in T)if(T.hasOwnProperty(t)&&!d(T[t],h,e))return!1;return!0}function d(e,n,i){if(t.exists(e)&&t.exists(n)&&t.exists(i)){var a=n[e],r=i[e];return t.exists(a)&&t.exists(r)&&a===r}return!1}function c(e){var n={ns_st_cn:++p,ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),f.setClip(n),h=e,f.play()}function u(e){p++,e=s(e);var n={ns_st_cn:p,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),f.setClip(n),f.play(),g=!1}function _(e,t){e=s(e),A==m.None&&(A=t),g&&A==t&&l(e)?(f.getClip().setLabels(e),f.getState()!=i.PLAYING&&f.play()):c(e),g=!0,A=t}var p=0,h=null,g=!1,f=null,E=!1,m={None:0,AudioContent:1,VideoContent:2},T=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],A=m.None;t.extend(this,{playAdvertisement:function(){f&&(E&&console&&console.log("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),u({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,n){if(f){var i={ns_st_ct:"va"};n?i.ns_st_ct="va"+n:E&&console&&console.log("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(i,e),u(i)}},playAudioAdvertisement:function(e,n){if(f){var i={ns_st_ct:"aa"};n?i.ns_st_ct="aa"+n:E&&console&&console.log("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(i,e),u(i)}},playContentPart:function(e){if(f){E&&console&&console.log("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&t.extend(n,e),_(n,m.VideoContent)}},playVideoContentPart:function(e,n){if(f){var i={ns_st_ct:"vc"};n?i.ns_st_ct="vc"+n:E&&console&&console.log("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&t.extend(i,e),_(i,m.VideoContent)}},playAudioContentPart:function(e,n){if(f){var i={ns_st_ct:"ac"};n?i.ns_st_ct="ac"+n:E&&console&&console.log("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&t.extend(i,e),_(i,m.AudioContent)}},stop:function(){f&&f.pause()}}),o()};return s.ContentType=e,s.AdType=o,s}()}(),e})};var swfobject=function(){function e(){if(!G){try{var e=V.getElementsByTagName("body")[0].appendChild(f("span"));e.parentNode.removeChild(e)}catch(e){return}G=!0;for(var t=F.length,n=0;t>n;n++)F[n]()}}function t(e){G?e():F[F.length]=e}function n(e){if(typeof k.addEventListener!=D)k.addEventListener("load",e,!1);else if(typeof V.addEventListener!=D)V.addEventListener("load",e,!1);else if(typeof k.attachEvent!=D)E(k,"onload",e);else if("function"==typeof k.onload){var t=k.onload;k.onload=function(){t(),e()}}else k.onload=e}function i(){x?a():r()}function a(){var e=V.getElementsByTagName("body")[0],t=f(b);t.setAttribute("type",L);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=D){var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),W.pv=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=B.length;if(e>0)for(var t=0;e>t;t++){var n=B[t].id,i=B[t].callbackFn,a={success:!1,id:n};if(W.pv[0]>0){var r=g(n);if(r)if(!m(B[t].swfVersion)||W.wk&&W.wk<312)if(B[t].expressInstall&&s()){var c={};c.data=B[t].expressInstall,c.width=r.getAttribute("width")||"0",c.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(c.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(c.align=r.getAttribute("align"));for(var u={},_=r.getElementsByTagName("param"),p=_.length,h=0;p>h;h++)"movie"!=_[h].getAttribute("name").toLowerCase()&&(u[_[h].getAttribute("name")]=_[h].getAttribute("value"));l(c,u,n,i)}else d(r),i&&i(a);else A(n,!0),i&&(a.success=!0,a.ref=o(n),i(a))}else if(A(n,!0),i){var f=o(n);f&&typeof f.SetVariable!=D&&(a.success=!0,a.ref=f),i(a)}}}function o(e){var t=null,n=g(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=D)t=n;else{var i=n.getElementsByTagName(b)[0];i&&(t=i)}return t}function s(){return!K&&m("6.0.65")&&(W.win||W.mac)&&!(W.wk&&W.wk<312)}function l(e,t,n,i){K=!0,y=i||null,C={success:!1,id:n};var a=g(n);if(a){"OBJECT"==a.nodeName?(I=c(a),S=null):(I=a,S=n),e.id=M,(typeof e.width==D||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==D||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),V.title=V.title.slice(0,47)+" - Flash Player Installation";var r=W.ie&&W.win?"ActiveX":"PlugIn",o="MMredirectURL="+k.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+V.title;if(typeof t.flashvars!=D?t.flashvars+="&"+o:t.flashvars=o,W.ie&&W.win&&4!=a.readyState){var s=f("div");n+="SWFObjectNew",s.setAttribute("id",n),a.parentNode.insertBefore(s,a),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}u(e,t,n)}}function d(e){if(W.ie&&W.win&&4!=e.readyState){var t=f("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(c(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(c(e),e)}function c(e){var t=f("div");if(W.win&&W.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(b)[0];if(n){var i=n.childNodes;if(i)for(var a=i.length,r=0;a>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function u(e,t,n){var i,a=g(n);if(W.wk&&W.wk<312)return i;if(a)if(typeof e.id==D&&(e.id=n),W.ie&&W.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",Y[Y.length]=e.id,i=g(e.id)}else{var d=f(b);d.setAttribute("type",L);for(var c in e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?d.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&d.setAttribute(c,e[c]));for(var u in t)t[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&_(d,u,t[u]);a.parentNode.replaceChild(d,a),i=d}return i}function _(e,t,n){var i=f("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=g(e);t&&"OBJECT"==t.nodeName&&(W.ie&&W.win?(t.style.display="none",function(){4==t.readyState?h(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function h(e){var t=g(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function g(e){var t=null;try{t=V.getElementById(e)}catch(e){}return t}function f(e){return V.createElement(e)}function E(e,t,n){e.attachEvent(t,n),H[H.length]=[e,t,n]}function m(e){var t=W.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function T(e,t,n,i){if(!W.ie||!W.mac){var a=V.getElementsByTagName("head")[0];if(a){var r=n&&"string"==typeof n?n:"screen";if(i&&(P=null,R=null),!P||R!=r){var o=f("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),P=a.appendChild(o),W.ie&&W.win&&typeof V.styleSheets!=D&&V.styleSheets.length>0&&(P=V.styleSheets[V.styleSheets.length-1]),R=r}W.ie&&W.win?P&&typeof P.addRule==b&&P.addRule(e,t):P&&typeof V.createTextNode!=D&&P.appendChild(V.createTextNode(e+" {"+t+"}"))}}}function A(e,t){if(q){var n=t?"visible":"hidden";G&&g(e)?g(e).style.visibility=n:T("#"+e,"visibility:"+n)}}function v(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=D?encodeURIComponent(e):e}var I,S,y,C,P,R,D="undefined",b="object",N="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",L="application/x-shockwave-flash",M="SWFObjectExprInst",w="onreadystatechange",k=window,V=document,U=navigator,x=!1,F=[i],B=[],Y=[],H=[],G=!1,K=!1,q=!0,W=function(){var e=typeof V.getElementById!=D&&typeof V.getElementsByTagName!=D&&typeof V.createElement!=D,t=U.userAgent.toLowerCase(),n=U.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),a=n?/mac/.test(n):/mac/.test(t),r=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o=!1,s=[0,0,0],l=null;if(typeof U.plugins!=D&&typeof U.plugins[N]==b)!(l=U.plugins[N].description)||typeof U.mimeTypes!=D&&U.mimeTypes[L]&&!U.mimeTypes[L].enabledPlugin||(x=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof k.ActiveXObject!=D)try{var d=new ActiveXObject(O);d&&(l=d.GetVariable("$version"))&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}catch(e){}return{w3:e,pv:s,wk:r,ie:o,win:i,mac:a}}();return W.w3&&((typeof V.readyState!=D&&"complete"==V.readyState||typeof V.readyState==D&&(V.getElementsByTagName("body")[0]||V.body))&&e(),G||(typeof V.addEventListener!=D&&V.addEventListener("DOMContentLoaded",e,!1),W.ie&&W.win&&(V.attachEvent(w,function(){"complete"==V.readyState&&(V.detachEvent(w,arguments.callee),e())}),k==top&&function(){if(!G){try{V.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),W.wk&&function(){G||(/loaded|complete/.test(V.readyState)?e():setTimeout(arguments.callee,0))}(),n(e))),W.ie&&W.win&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;e>t;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var n=Y.length,i=0;n>i;i++)p(Y[i]);for(var a in W)W[a]=null;W=null;for(var r in swfobject)swfobject[r]=null;swfobject=null}),{registerObject:function(e,t,n,i){if(W.w3&&e&&t){var a={};a.id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,B[B.length]=a,A(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return W.w3?o(e):void 0},embedSWF:function(e,n,i,a,r,o,d,c,_,p){var h={success:!1,id:n};W.w3&&!(W.wk&&W.wk<312)&&e&&n&&i&&a&&r?(A(n,!1),t(function(){i+="",a+="";var t={};if(_&&typeof _===b)for(var g in _)t[g]=_[g];t.data=e,t.width=i,t.height=a;var f={};if(c&&typeof c===b)for(var E in c)f[E]=c[E];if(d&&typeof d===b)for(var T in d)typeof f.flashvars!=D?f.flashvars+="&"+T+"="+d[T]:f.flashvars=T+"="+d[T];if(m(r)){var v=u(t,f,n);t.id==n&&A(n,!0),h.success=!0,h.ref=v}else{if(o&&s())return t.data=o,void l(t,f,n,p);A(n,!0)}p&&p(h)})):p&&p(h)},switchOffAutoHideShow:function(){q=!1},ua:W,getFlashPlayerVersion:function(){return{major:W.pv[0],minor:W.pv[1],release:W.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(e,t,n){return W.w3?u(e,t,n):void 0},showExpressInstall:function(e,t,n,i){W.w3&&s()&&l(e,t,n,i)},removeSWF:function(e){W.w3&&p(e)},createCSS:function(e,t,n,i){W.w3&&T(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=V.location.search||V.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return v(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return v(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var e=g(M);e&&I&&(e.parentNode.replaceChild(I,e),S&&(A(S,!0),W.ie&&W.win&&(I.style.display="block")),y&&y(C)),K=!1}}}}();window.tve_mvpd_list=tve_mvpd_list={thr030:"ec076a9b5ac8f0e86d972912bdb25a91",acecommunications:"7dac816d9f86f927cbc1d37120f0c539",all070:"b7514a434d69b8041f237cb82d09e734",att:"65db43f237832cbf0f299bd8f2bcf2ac",dix030:"d3cb21f5cf343b3365f9fb06a3fe0a0b",ara010:"1b5c4785d1d3e342e745897548673473",com140:"c696a7116d2d1d5d326a4c70960442a5",acm010:"8b9a9735f31a25ba12035e5be103838a",adobe_iframe:"00b1f2cca26dc9482c36113a5131fef9",acc:"1673448ee7064c989d02579c534f6b66",algona:"b43f4dd89df78ce4412431178eee04ab",allwest:"0f71eafadde721cf2143a85160e8c2df",spl010:"387d000db6f0a58616361d3c10b6c83e",alpine:"7c9fb847d117531433435b68b61f91f6",hun015:"dcebdf997c2915d0daa1eb775acf91b7","asu_auth-gateway_net":"f0a1394e0675658999ec557e6bda7925",arkwest:"b63aa536bdce9fe1a707ea75db77e4c0",auth_armstrongmywire_com:"9bda8f5c849e42101139a04beb1b91a7",arvig:"9bc992e987d078b4a51c4f3810acf0d8",nttcash010:"5c575a64f3a3b1cc6dc56244a023800d",astound:"634f20a0f8a96b0237fb09ddb7b4b675",atmc:"6119f71a2683ce312a62bc4cf1047bf6",bra020:"a43b2932903f9f6eda95e67406f3b9fd",www_websso_mybrctv_com:"a0e23a244da4d2d28166080fe2134742",btc010:"78d47bf54d758ba856cdb7ab3a6c5fd7",bvu:"d14aebc66a3970174112f8315dae54b8",baldwin:"423ac084531624ec9694acd4a5c278ab",cit025:"525c5df5c9b8aed731dc02f2fb90ccbd",bay030:"34e0b8c54c00800a4c839166bb18f207",baycreek:"896aa57c0408dce4d939bea20a0dfde3",tel095:"0e85f07a88efebbe47b7ed4311f76a8f",bea020:"6a9c276af091840324df96d0f6bd8d4e","vol040-01":"04c1f50809ad700dbcb06c551543eb81",bend:"edc684181ea918cf9842a1ae65316afc",bra050:"afb50dba07b57c3d69e01c07704532af",brighthouse:"dd55c99281c6667544470a832b1c9065",bte010:"27aa237d2589f1443774b56aadbc9828",annearundel:"7ebff8d3c511b1f92164f9e3462f33d1",buckeye:"289a5c69d3636588dc8b5784d8c09374","burlington_auth-gateway_net":"7c70cedb3e15169fceb8ebad0eef489d",but010:"3b047cc699d1cfdb30c4face262304e9",cas:"f90721c90de9bd9ef516bea0b184fd30",casscomm:"fd17623c308aa5d6a42e67aae238f41b",cccomm:"65af848febd9fc8f4b2e4625df90f764",nttccde010:"3023e4d6d808d7de36f460f7ce896a70",cml010:"8b3c67209c54ea8e7467fb588720f14d",cns:"3395f0fcd8ea7f6dd119bee2b612b8a3","cspire_auth-gateway_net":"babc5a4b169ffbb14015e328f87c394e",ctcommunications:"2293623b1b426667126c07e4a07b193e",ctc040:"21ba2c26cf2bd5c7262e327c625ef206",csicable:"91686d580aad809faa07b1590f638d0b",phe030:"47f8dc4f9d5a252b8c20eca9bc20bc19",cab140:"70c259720cb542d156bbc99504963e89",cableamerica:"ee389a8ef0233c160c222451b8488ffd","weh010-camtel":"7a88564b7184e08762f4ba869c93617a",car030:"4549fa8145a7db25807460c60820ebf2",canbytel:"eb66d975314522926a47030c31bace59",crt020:"ef2f7ff101cff1a1a11f75a544efe9d6",car050:"1206a630d63531a4f17de571fca9c5f1",cfunet:"78ef681b1cdf03e76381c7fd7b38f98e","dem010-01":"ad4845b893281328cfaad38a3fc98f08","dem010-02":"6e073a6a395c081e90566ecd0c10fd06","dem010-03":"632eb9b953d9ac3a3759d487af5e244f","dem010-04":"6705b609afadc931e8e45f703ad36a3c","dem010-05":"47183264193585725756d9f983fe9e3b",cen100:"4693dbefa9f71a71754d4214edbb12eb",auth_centurylink_net:"33f27204fedd1b6cb83343e209bd269f",cha060:"e956fb6688bbb069d8ba4fd2ac258f9d",dur010:"c3e47806e4dd5adb8bc5953ef220f381",cimtel:"30c1a55f763bd054888762382b56331a",cbt:"7638e20f13e9fed7eee4a576059bbf86",cit210:"e8f5222d03024219ca229969b6d91cdc",cit180:"abc6de811c40493e9f1b7406cc1aa652",cit040:"1a87c6881ec849ab11431764d27ba721",war040:"d66f87e24df75496f70960f428abfb94",wadsworth:"d24311a989da77801c736261141952c6",cla010:"b959f91d0471b297cf44cce3d06491c7",clearcreek:"27a41df65e0fc6deb35299fadb4eb2a4","clickcabletv_auth-gateway_net":"1db50e17274deda41b09294e734ca458",cli030:"a5d0eab49250469a8f90c87de42cae80",coa030:"27798e5c0c30fd7964bba7ab92eba2f2",col090:"f14ae6e50780dac7fa79f023cd2e5537",col070:"1516c01f65b612ae189e4f2262551333",col080:"d3e60ec08ed53203455dba49631e59be",com050:"69da2f5fc0363e219b1e6e8115985967",com020:"155ad4d241ca6cd3a6120f419c98c736",cat020:"5e8acfa087b83fed0f52a1f0886ad557",consolidatedcable:"2c50c5c5c18a1ac65b2e03fc8498f939","consolidated_auth-gateway_net":"f5a846db2dc63a9904ac01d798309cb5",conwaycorp:"728a06b32c31d5bd937aa19afcfe8979",cox:"45641e46f614125065559617b3efc5a2",crestview:"94b776fc6c44c700c8367cc4b55d48f0",cross:"22aadb26447d87b550b155a4d764fad0",cro030:"01a30813f2d506e36a00c3c6d5063dbd",cun010:"06e7da0a3a58584b891944decab41b54",dak030:"aa1c1c8a76b6c7470afc6124a04f2955","tel160-del":"deac6088e423e922026588372310f070",dtv:"53da17a30bd0d3c946a41c86cb5873f1","ind060-dc":"e7b13686603234cb643e1f5d225da97d","dishdigital_auth-gateway_net":"41013ea37c22b493833c4d0987d0cb75",guam:"8f80c74c6b23ce247d2ed39dbff2ee2b",cci010:"b060874bc0fab6f52384784b01cca642",eatel:"ec5da8cb96d0dce4dce48ee25b099c44","epb_auth-gateway_net":"1fbafc8ab8b4a7f681172f0327d8c7ed",epb020:"a3161ccdba548bf0bc3c51792d86927c",jea010:"d9c12b4471f2bfad178c4751417c6e39",com065:"17169f85139725867d05a78bac5cbdd9",eagle:"b09315ea09c6d3b5680094257f1f70e4","weh010-east":"6cb0ad8be64bb75f77a25d1693dd32c6","easton-utilities":"593584cd14f088c2f6ab8df3bdc8fd11",emerytelcom:"41bcb7a277ef76ffcbf398421ef52801",endeavor:"c5f5aaefa43684051f6fa380eef4b59e",sun045:"bd82232774cc8f191ab72a168eeece75","enventis_auth-gateway_net":"af6c92190ac66bbef774ad6d0f373eb3",ete010:"3d10fe40294444f5aefb2d0d27eacc61",mid030:"c46d1e1e403aa3275a8e01438ff4027a",nttcftc010:"b7db4fd09efe1dc44fd6e56dc72647b5",fal010:"ce5236d66c71aedf0c73ffdc3610e0b1","fbc-tele":"669dc45aff522ccba8013f8af8f9d1e7",fay010:"2cf68e6ac994c8b3bb8af29acb56913f",fid010:"0c763cdf87fd6d027fe722f4a7c0c23a",fli020:"42f2bbdc1575b14535a6e23a0cffc1c8",fbcomm:"3d3429be4b3f9fa4c1d851c04dda814f","tel160-fra":"7b0454e0252a79ec246efe061f206a37",frontier:"fcd1f56d8e2475a43275058a7d83cf2f",fullchannel:"f0cc77a49fdcf0acbb887215d4eeb12c",gbt010:"5375082a675540bf84bf91563977243f","gci_auth-gateway_net":"9bd06e470b09ee6e4f10277ec751ca7b",gra060:"c784a954b7a00d27f629c5b2dd18fba3","gta_auth-gateway_net":"32781473ef590442ca12e6cd91c76934","gvtc_auth-gateway_net":"03ed21333536734439ba1c1e4bca0f9d",clr010:"0f9dc05e096009ba9fc80279e2809852",gla010:"2f67ae1f2dea0037857820f364951a26",gle010:"b90839e5b550453c05fc5100865912b3",goldenwest:"931e212d8d2bff0ce2ac2ea768eba483","googlefiber_auth-gateway_net":"e1de457268cc28b4670157b289c57f33",grande:"7a3e1c7c45a215a4cbd11d441e63ec4f",gpcom:"1407ab445c76e15e0e21e35a3dc57d55",greenlight:"7312e586fbb73b64827605f5bbfc6d18",hbc:"66bcfee5fb4b8905bba73f5b691dc77a",htc:"4aab4dc9bfbbf4c1f087d9721ffd8582",htccomm:"81bf2ae4f020ce0424b97c911f5c9e5a",har020:"46d1468d7525bb0b5e98931c90edbb4c","hargray_auth-gateway_net":"31c612c013977e7179d0f5969cb76332",har005:"7e2439219929a6db42fb619260ee7699","harrison-telco":"a87b9774fe7022a9eebdde64a0b5909e",auth_hawaiiantel_net:"31009bfc0815a95e6ba641b7734b1df2",hea040:"e472ad364ec89b9e95d29ac9b82ad2f4",htc020:"e89c929d9c7abaf799cd2393361d1de3",nttchig010:"7359be5b9a978384421e742232b10959",hin020:"41e50f27e1baf00e5eddda88b7603472","hometelecom_auth-gateway_net":"bc1e21ce6c5e0eeeca3edec7e35849de","hometowncable_auth-gateway_net":"f2a66cb7bf2dee374510fc4b64e5bb33",hometel:"7db9b26109010768f0370187077ca8a0",hoodcanal:"5b197db8439a4266b90ec838438ca862","weh010-hope":"b38fa6518ac8d6b81d73255e96066665",horizoncable:"a82e41de1052ec76245fe892b6550e2b","hotwirecommunications_auth-gateway_net":"adb5b4f5bb4da3595f10b623118175d0",wal005:"17e8575d2ca776395a1ded5564f5ef7f",imon:"115eaa773ce4dfda0d7676793c222f9d",rrc010:"6b8c0282f61d948ab50b2471808c59ec",stc020:"26b4f6668d0c93a3021379521df83b2c",car100:"1f9a2d7960b29a792bd9a0756bb1065a",icc010:"6eb4eed11b2acf7879089d1abd885e0a",intrmtncable:"d13b0f0fc2b66993a603a7e5cc3fc64c",int050:"47e4032324644fab64c08b1690924391","itv-bitwise":"4f59b373d2a2d8abca78ffbc00f57f9e",jea:"b80f930e160e6dcce8195d433bb56e0a",kmt010:"9c1650dc559112192ca420398f10d2eb",kpu010:"a9e11b6337a5de5f29f8b6d614ad4744",kal010:"982b9315bb9a502ce8524e69a448ee7d",kal030:"981edc234e7b640053a6eb62b7162b72",kuh010:"5d0bad045420a1b3a7c2745fe4cde5c4","lus-fiber":"07875aec770d6c73d22eed77e5e4c34a",lan010:"f32cbfe2cc84354edc0c8ba28f3b3504",lau020:"f7828c0bcde8c82d3202017809667dd5",bra010:"433f94ac47c38c7e6e89b711c2ee10b1",lit020:"4677e0081dab2c2b5b6ba883ae94d499",loc010:"d4ec6dd8eec2a9860e5a6e7e5bd35900","longlines_auth-gateway_net":"45f81532c04831c94dbb005a4a91cf28","weh010-longview":"e27fce0de202e94a84c3127c81c75b33",lns010:"0369df7e289a58cef195411e88ff7a6c",lumos:"58651340138deddda3360f7ce8f06844",mctv:"ae27a4d2662780021fa32cd712053dba",mhtc:"d94568b0964f41af520646b74d8a1411",miconnection:"bd969c68505f8008b1d744144424e16b",mtacomm:"5a3e1550c0f25a9581dcb69593978e10",med040:"80fc17338e0781580740783733d91f9e",man060:"a8f80ef8b2c50279297dbd4de4b603b0",mtc030:"f66947228c1f4bc4ae7499ba3657cd22",musfiber:"d3f8ac942c4cf5e99171fb9fc1670c44",madison:"b3b7eca0709c3c25e677677937e8f609",mad030:"d6f308902663fa1e95e17da86bf68a5e",mcc040:"ae075c33f377d2d79a7cc72b2088b9c2",mediacom:"6815c25b7ee92e5e9ec107418df14eed",merrimac:"cc829bd465b60e89e7d622cf1c1ad752",auth_metrocast_net:"265a3b0dfc8a954479fb8f9c72cc09bc",metronet:"01728aae61ea219da308b06152e97a06",midhudson:"a9ef77d6bdeb6208cb248f26cff05a2e",midrivers:"9040aedd78cb8bfd0138f134f20ae7fe",msauth_midco_net:"6fbd73a8b2838decfb7172f6d45f07d9",mid045:"7364b9dba073cdd8916a31183695d3c4",mil080:"ef5bc2406154f8a88ba822abc139d85b","morrisbroadband_auth-gateway_net":"260762a494265801443e282a7e073215",mul050:"4d98773947d27511eabd454c6c0a1582",mpw:"c3e57e97f4c290780d0b9f7a20942870",nor240:"03907f8b69c806953503d27b5db81b36",nktelco:"4b8bb5bd95648b16463785094f4e8594",new045:"06ec7bf4afb5fc517e5d7b952d2049a6",nctc:"bb696d9b2f14fa0f673315d169d4e523","dur010-nel":"9b90f6c3d804ea97802b1d1e68756628",nem010:"f82998af3d932f76e197db54ad88edb2","nwcable_auth-gateway_net":"2f1a4ee72b3f49044052ed835f43b618","nextech_auth-gateway_net":"6c96a6aeb5d714b4b0423739e559c5e8",cic010:"c1353722a9c98d02882fac8b33adffa6",nortex:"8c19ca4cb6672a829d19de296db09895",nor140:"11fe6239bd27cef0c60656a2a3866870",northstate:"22025d140a3cdf3a03ced2662766abad",nor030:"593ed3a998b2b37083c52eb0a7329261",nor075:"c0eccb3ff55d65d4ad374f1f60557ca8",nor125:"d1980623979fc146fae04abd259a2653",net010:"6ff718a2bbfc6f691beab23fa7f7132c",nulink:"9f6618f138e94d4b663f65b69eb669ce",ote010:"5df7ec2724848e38975126e799210ad2",onesource:"e2ae639dd88972dc12528b186a67eea8",cit230:"4830dc2604d71b6b7b542ae8a2202e7d","openband_auth-gateway_net":"2af51f6318f46738f94735758efe32b8",daltonutilities:"2989b8723003cd2221e0f9299c708d41",cablevision:"725bd42fc9c9394e790b9a73610da431",orbitel:"4cbc4ee5d581c6968ef766c62e05940a",pac12enterprises:"77822f8151419172b1f148038dabff7a",psc010:"9665d7f69a7c6971f3446d755c1e22e0",pan020:"975bf60b3437d42e83b3db647a3de743",otter:"d8e265f13545e890c178a34a72f62c43",paulbunyan:"843fe607ea7c5fc299a2a0cd74ca078b",pem020:"2bb92fac6b99157326b8d85b201ed0b3",mck010:"b8492ff508e0cc158723c3eab22d540f",phonoscope:"0caf394504dfb486b03d0df1efd61cd3","weh010-pine":"aefe577bf75287a9d57ed3ab27a981ff",cam010:"89263158156301f6ba4a232e21d29d49",pioncomm:"b595ec982b1ab280767b1bcdb4ddb846",pioneer:"b39ecd658b2b74a2712303acf766b4a7",pottawatomie:"2d3257324001da2aab814c7679f43886",premiercomm:"91ffe08c6f1ec38b74f08b7092beb295",rcn:"d449c38c8d558224de10ff15dc764568",rma:"a1eff01a6862aea0d5237eb513a378d3",rtc:"68154466f81bfb532cd70f8c71426356",rai030:"74d1d3a3062d5b7d3914f48443a3f0ca",ree010:"6b23b34e21ae9abf80c86a51ce87cc34","myrtu_auth-gateway_net":"0df44016ec7000e31e1e29bdbd81b425",res020:"1d4df24105715329f903ed4614279616","weh010-resort":"cd45598d6fbb705eaeef892c306c86d1",riv030:"e399a0d83badf617e9e1cfd913789db1",rockportcable:"74c5d374e68d3a1eda0735486e8dbd03",rogers:"012d7ca0ce1d7acc274b3c005a58188a",sav010:"c9e5fa0918a0f43b2b68042cf348fadf",selco:"11af711f7fa6c5ea56819e3b0207542f",srt010:"f29f6a11eeed85f3f1e3d1c08330ff35",antietam:"71446d94accc8732930edf9bf98e5f7a","service-electric-bb":"5052021a4ba9590e855b62da22c609bb","service-electric":"3c63f8cd60e7113c7979e96f1adfed34","serviceelectric_auth-gateway_net":"8dccaa33b1c0c2c51f6a1a1678de08fb",she010:"cef9f64704e9832764fbb53b7783555f",she030:"489eebf1d7e49e8864029f2d713743e2","ind060-ssc":"5329b2125a8e13ff093800d86082987c",sjoberg:"d80101031293371f7ba809f57eb21772",sky050:"2b54ce47686e3a240345f6d742f4cb34",identity_sling_com:"96d5bb25c6953c01cd2aeeb47df24de1",woo010:"eb7c172641bd996fdc6f0f83aec9fa08",sou075:"55f25ae8fefaa7ffea28f0796d5eb5a5",sou065:"3e579b9aead0cdf6629a592fdde142c4",sou035:"6d0bd14102e8eabf42fb0b2de275339d",spe010:"f08444a4955bab2156576bcc215bb17f",cccsmc010:"c883d8dfad8b158a4fb6b42402d4720b",sum010:"96b332f90bad27afddbf789190612bae",pie010:"34e1b98ee616d46948c78e45defdaad7",sweetwater:"c6bd6b367eb689850ac04b19242eb947",tct:"039101a793e5708579036ce933ae2766","tds_auth-gateway_net":"8354875c8df02fdeaf7711974652cd7a",tsc:"3c33894421ec07809347e7b0b7b19359",cab180:"d05cff9cb664c3877bc22e5e18ed253d","weh010-talequah":"da57913de0fc203b12cbe576e7ebf3dd",tel050:"e27e992344a3b52c1822d9294bed1fbd","telus_auth-gateway_net":"b32360f21d98046c3119e3a7cf63d799",twc:"975cd70e2de25291acc0efc98a48935e",tcc:"dcbacadf485c141a2b9b0028f2c0b2e1",tro010:"a6b070897409f2537bb03ed367ba96d1",cit220:"9b705185dfb43a28e84801411f732fb6",tvtinc:"c0548072a52a5be028f401de819c60d5",uss020:"c4ffddc41a80872d5e0da1b006c7c90c",cab060:"d93d58aeb2c0c4a33ff230fb435aaacb",she005:"bcc6f0907c8578ae50e2a3cdde9d9aa1",uis010:"f55804d59741b3e913b10660c707573f","ulosangeles_auth-gateway_net":"3c0e7e9ce7450e95a4538d3ba4356394","uwashington_auth-gateway_net":"d56b4634f9913741ba10f1dcb0c85291",val025:"1a50aeee722af97a0ed6d35e95749497",val030:"f0253c3444d5546f791f826f8652e3bf",sul015:"a016f523d1e6e4340a8c132e3f579c88",verizon:"5525ff59adcaac313923ab89d0a618c5",ver025:"c7c891b292a4feaf6c12054e8a735cfd","weh010-vicksburg":"59c65a9deb5b711a7c0a4751b0e08aa2",vis070:"129320dff5313168c70389ca2cf94a7a","vol040-02":"92f4a622f8602742d3377db6b247b0e1",volcanotel:"33b6ba12cbafe83552d48454ce992fcd",bci010:"af5b4765e8a1b48e5d4ad6b1b8f2198d","bci010-02":"2d84d122d77583266fcc9bfd2ce4b5b4",wow:"bcedc450f8481e89b1445069acdc3dd9",wtc010:"310f0b55e5df066728e2714102d008dd",wil040:"da93c596c8ade6e8235477e9677c84e7",wab020:"fe73588bd585094c3239b0a49ce7108b",waitsfield:"43b4fc858afd2c342a874a6eab369631",wal010:"64a49276c8d60700a3334e271ed3c8d6",wavebroadband:"62c69fcf69f9ef17f1afe467b5f5c92b",carolinata:"b545a918d4113ce3a551bc13969e777a",wct010:"2d474f2e630d054aabada078af05781d",wes110:"51a3add5b3d6a21aaa590da1e82350be",westianet:"ae7ae3c0829175231465ee43b41d150d",nttcwhi010:"6b7575537dfe688722064002a21167bd","weh010-white":"59c8dcff1d5a2e43053b939f91f9ccbb",wil015:"5ef47e8ed07afb46bfede53cc3a39578",win090:"b49e3dede9ecad95c6d2eeea0c566571",wcta:"4a8f5f88c24d0ad10a6097944a82740d",wtve:"81e9bd89a385898e8add39e4d5b5aca1",cou060:"e4080c770788c94bb7f1274141326ab7",auth_atlanticbb_net:"ff838de38814328c986fb6640857854f",xfinity:"f3e50f6a30b1bf9f53f4f30d60fc589e"},tve_mvpd_list,window.addHeartbeatAnalyticsLibrary=function(){!function(e){if(void 0===t)var t={};if(void 0===n)var n={};if(void 0===i)var i={};if(i.radio||(i.radio={}),i.plugin||(i.plugin={}),void 0===a)var a={};a.clock||(a.clock={}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,a,r,o,s){return t(n(t(t(i,e),t(r,s)),o),a)}function a(e,t,n,a,r,o,s){return i(t&n|~t&a,e,t,r,o,s)}function r(e,t,n,a,r,o,s){return i(t&a|n&~a,e,t,r,o,s)}function o(e,t,n,a,r,o,s){return i(t^n^a,e,t,r,o,s)}function s(e,t,n,a,r,o,s){return i(n^(t|~a),e,t,r,o,s)}function l(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var i,l,d,c,u,_=1732584193,p=-271733879,h=-1732584194,g=271733878;for(i=0;i<e.length;i+=16)l=_,d=p,c=h,u=g,_=a(_,p,h,g,e[i],7,-680876936),g=a(g,_,p,h,e[i+1],12,-389564586),h=a(h,g,_,p,e[i+2],17,606105819),p=a(p,h,g,_,e[i+3],22,-1044525330),_=a(_,p,h,g,e[i+4],7,-176418897),g=a(g,_,p,h,e[i+5],12,1200080426),h=a(h,g,_,p,e[i+6],17,-1473231341),p=a(p,h,g,_,e[i+7],22,-45705983),_=a(_,p,h,g,e[i+8],7,1770035416),g=a(g,_,p,h,e[i+9],12,-1958414417),h=a(h,g,_,p,e[i+10],17,-42063),p=a(p,h,g,_,e[i+11],22,-1990404162),_=a(_,p,h,g,e[i+12],7,1804603682),g=a(g,_,p,h,e[i+13],12,-40341101),h=a(h,g,_,p,e[i+14],17,-1502002290),p=a(p,h,g,_,e[i+15],22,1236535329),_=r(_,p,h,g,e[i+1],5,-165796510),g=r(g,_,p,h,e[i+6],9,-1069501632),h=r(h,g,_,p,e[i+11],14,643717713),p=r(p,h,g,_,e[i],20,-373897302),_=r(_,p,h,g,e[i+5],5,-701558691),g=r(g,_,p,h,e[i+10],9,38016083),h=r(h,g,_,p,e[i+15],14,-660478335),p=r(p,h,g,_,e[i+4],20,-405537848),_=r(_,p,h,g,e[i+9],5,568446438),g=r(g,_,p,h,e[i+14],9,-1019803690),h=r(h,g,_,p,e[i+3],14,-187363961),p=r(p,h,g,_,e[i+8],20,1163531501),_=r(_,p,h,g,e[i+13],5,-1444681467),g=r(g,_,p,h,e[i+2],9,-51403784),h=r(h,g,_,p,e[i+7],14,1735328473),p=r(p,h,g,_,e[i+12],20,-1926607734),_=o(_,p,h,g,e[i+5],4,-378558),g=o(g,_,p,h,e[i+8],11,-2022574463),h=o(h,g,_,p,e[i+11],16,1839030562),p=o(p,h,g,_,e[i+14],23,-35309556),_=o(_,p,h,g,e[i+1],4,-1530992060),g=o(g,_,p,h,e[i+4],11,1272893353),h=o(h,g,_,p,e[i+7],16,-155497632),p=o(p,h,g,_,e[i+10],23,-1094730640),_=o(_,p,h,g,e[i+13],4,681279174),g=o(g,_,p,h,e[i],11,-358537222),h=o(h,g,_,p,e[i+3],16,-722521979),p=o(p,h,g,_,e[i+6],23,76029189),_=o(_,p,h,g,e[i+9],4,-640364487),g=o(g,_,p,h,e[i+12],11,-421815835),h=o(h,g,_,p,e[i+15],16,530742520),p=o(p,h,g,_,e[i+2],23,-995338651),_=s(_,p,h,g,e[i],6,-198630844),g=s(g,_,p,h,e[i+7],10,1126891415),h=s(h,g,_,p,e[i+14],15,-1416354905),p=s(p,h,g,_,e[i+5],21,-57434055),_=s(_,p,h,g,e[i+12],6,1700485571),g=s(g,_,p,h,e[i+3],10,-1894986606),h=s(h,g,_,p,e[i+10],15,-1051523),p=s(p,h,g,_,e[i+1],21,-2054922799),_=s(_,p,h,g,e[i+8],6,1873313359),g=s(g,_,p,h,e[i+15],10,-30611744),h=s(h,g,_,p,e[i+6],15,-1560198380),p=s(p,h,g,_,e[i+13],21,1309151649),_=s(_,p,h,g,e[i+4],6,-145523070),g=s(g,_,p,h,e[i+11],10,-1120210379),h=s(h,g,_,p,e[i+2],15,718787259),p=s(p,h,g,_,e[i+9],21,-343485551),_=t(_,l),p=t(p,d),h=t(h,c),g=t(g,u);return[_,p,h,g]}function d(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){return d(l(c(e),8*e.length))}function _(e,t){var n,i,a=c(e),r=[],o=[];for(r[15]=o[15]=void 0,a.length>16&&(a=l(a,8*e.length)),n=0;16>n;n+=1)r[n]=909522486^a[n],o[n]=1549556828^a[n];return i=l(r.concat(c(t)),512+8*t.length),d(l(o.concat(i),640))}function p(e){var t,n,i="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=i.charAt(t>>>4&15)+i.charAt(15&t);return a}function h(e){return unescape(encodeURIComponent(e))}function g(e){return u(h(e))}function f(e){return p(g(e))}function E(e,t){return _(h(e),h(t))}function m(e,t){return p(E(e,t))}function T(e,t,n){return t?n?E(t,e):m(t,e):n?g(e):f(e)}e.md5=T}(t),function(e){"use strict";var t={};t.startsWith=function(e,t){return 0==e.indexOf(t)},e.StringUtils=t}(t),function(e){"use strict";var t={};t.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(e,n){var i=t.clone(e);for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i},e.ObjectUtils=t}(t),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},e.radio.Command=t}(i),function(e){"use strict";function t(e,t){this._queue=[],this._lastTs=0,this._isSuspended=void 0!==e&&e,this._delay=void 0!==t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++)this._queue[e].run();this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var n=e._queue.shift();n?e._runCommand(n,function(){e._isSuspended||t()}):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){function n(){e.run(),null!=t&&t.call(i)}var i=this;if(0==this._lastTs)n();else{var a=(new Date).getTime(),r=a-this._lastTs;this._lastTs=a,r<this._delay?setTimeout(n,this._delay-r):n()}},e.radio.CommandQueue=t}(i),function(e){"use strict";function t(e,t){if(this._name=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function n(e,n){if(e===n)return!0;for(var i=(e||"").split(t.SEPARATOR),a=(n||"").split(t.SEPARATOR),r=!0,o=0;o<i.length;o++)r=r&&(i[o]===t.WILDCARD||i[o]===a[o]);return r}t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(i,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},t.prototype.on=function(e,t,n){this._isShutDown||(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n}))},t.prototype.off=function(e,t,n){if(!this._isShutDown){if(t="function"==typeof t?t:null,!e&&null==t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)}},t.prototype.trigger=function(e){if(!this._isShutDown)for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&n(t,e.name))for(var i=this._listeners[t].slice(0),a=0;a<i.length;a++){var r=i[a];r.fn.call(r.ctx,e)}},t.prototype.comply=function(e,t,n){this._isShutDown||(this._commands[e]={cmd:t,ctx:n})},t.prototype.command=function(e,t){if(!this._isShutDown){var n=this._commands[e];return n?void n.cmd.call(n.ctx,t):void this._logger.warn(i,"#command > No command handler for: "+e)}},t.prototype.reply=function(e,t,n){this._isShutDown||(this._requests[e]={fn:t,ctx:n})},t.prototype.request=function(e){if(!this._isShutDown){var t=this._requests[e];return t?t.fn.call(t.ctx):(this._logger.warn(i,"#request > No request handler for: "+e),null)}},t.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var i=this._listeners[e];if(i){if(!i.length||null==t&&!n)return void delete this._listeners[e];for(var a=0;a<i.length;a++){var r=i[a];null!==t&&t!==r.fn||n&&n!==r.ctx||this._listeners[e].splice(a,1)}}};var i="radio::Channel";e.radio.Channel=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e,this._logger)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(i),function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}i.extend=t}(),function(e){"use strict";function t(){}t.prototype.write=function(e){throw new Error("Implementation error: Method must be overridden.")},e.ILogWriter=t}(i),function(e){"use strict";function t(){}t.prototype.write=function(e){window.console&&console.log&&console.log(e)},e.LogWriter=t}(i),function(e){"use strict";function t(){}t.prototype.setLogWriter=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.debug=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.info=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.warn=function(e,t){throw new Error("Implementation error: Method must be overridden.")},t.prototype.error=function(e,t){throw new Error("Implementation error: Method must be overridden.")},e.ILogger=t}(i),function(e){"use strict";function t(){this._logWriter=new i}function n(e){return 10>e?"00"+e:100>e?"0"+e:""+e}var i=e.LogWriter;t.prototype.setLogWriter=function(e){if(!e)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=e,this._enabled=!1},t.prototype.getLogWriter=function(){return this._logWriter},t.prototype.getEnabled=function(){return this._enabled},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this._enabled=!1},t.prototype.debug=function(e,t){this._log(e,r,t)},t.prototype.info=function(e,t){this._log(e,a,t)},t.prototype.warn=function(e,t){this._log(e,o,t)},t.prototype.error=function(e,t){this._log(e,s,t)},t.prototype._log=function(e,t,i){if(t==s||this._enabled){var a="",r=new Date;a+="["+r.toTimeString()+"."+n(r.getMilliseconds())+"] ["+t+"] ",a+="["+e+"] "+i,this._logWriter.write(a)}};var a="INFO",r="DEBUG",o="WARN",s="ERROR";e.Logger=t}(i),function(e){"use strict";function t(e,t){this._pluginName=e,this._eventName=t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getEventName=function(){return this._eventName},t.prototype.getName=function(){return this._pluginName+n.SEPARATOR+this._eventName},e.Trigger=t}(i),function(e){"use strict";function t(e,t){this.name=e,this.data=t}t.SUCCESS="success",t.ERROR="error",t.createFromTrigger=function(e){return new t(e.getName())},e.Event=t}(i),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var i,a,r=!1;for(a in this._events)if(e===a){r=!0;break}if(r){for(i=this._events[a].length-1;i>=0;i--){var o=this._events[a][i];t===o.cb&&n===o.ctx&&this._events[a].splice(i,1)}this._events[a].length||delete this._events[a]}}},t.prototype.dispatchEvent=function(e){if(e.name){var t,n;for(t in this._events)if(this._events.hasOwnProperty(t)&&e.name===t){var i=this._events[t].slice(0),a=i.length;for(n=0;a>n;n++)i[n].cb.call(i[n].ctx,e);break}}},t.prototype.removeAllListeners=function(e){if(e){var t,n;for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;t>=0;t--)this._events[n][t].ctx===e&&this._events[n].splice(t,1);this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(i),function(e){"use strict";function t(){}function n(e,t){this.url=e||null,this.method=t,this._xmlhttp=null}function i(){i.__super__.constructor.call(this),this._connection=null}var a=e.Event,r=e.EventDispatcher;t.GET="GET",i.RESPONSE="response",i.INSTANCE="instance",e.extend(i,r),i.prototype.close=function(){this.removeAllListeners(null)},i.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},i.prototype._createCORSRequest=function(e){var t=null;if(void 0!==window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n).open(e.method,e.url,!0)}if(null==t&&void 0!==window.XDomainRequest&&(t=new window.XDomainRequest).open(e.method,e.url),t){var r={};r[i.INSTANCE]=this;var o=this;t.onload=function(){return t.status&&parseInt(t.status,10)>=400?this.onerror():(r[i.RESPONSE]=t.responseText,void o.dispatchEvent(new a(a.SUCCESS,r)))},t.onerror=function(){o.dispatchEvent(new a(a.ERROR,r))}}return t},i.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[i.RESPONSE]="",t[i.INSTANCE]=this,this.dispatchEvent(new a(a.SUCCESS,t))},e.URLRequestMethod=t,e.URLRequest=n,e.URLLoader=i}(i),function(e){"use strict";var t="js",n="1.5.7.68",i="55a81f",a=4,r={};r.getVersion=function(){return t+"-"+n+"-"+i},r.getMajor=function(){return r.getNumberAtPosition(0)},r.getMinor=function(){return r.getNumberAtPosition(1)},r.getMicro=function(){return r.getNumberAtPosition(2)},r.getPatch=function(){return r.getNumberAtPosition(3)},r.getBuild=function(){return i},r.getApiLevel=function(){return a},r.getNumberAtPosition=function(e){return n.split(".")[e]},e.Version=r}(n),function(e){"use strict";function t(e,t){this._message=e,this._details=t}t.prototype.getMessage=function(){return this._message},t.prototype.getDetails=function(){return this._details},e.ErrorInfo=t}(n),function(e){"use strict";function t(){this.debugLogging=!1}n.HeartbeatConfig=t}(),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.HeartbeatDelegate=t}(n),function(e){"use strict";function t(){}t.prototype.configure=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.bootstrap=function(e){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.resolveData=function(e){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(i),function(e){"use strict";function t(e,t,n,i){this.trigger=e,this.action=n,this.plugin=t,this._paramMappings={},this.mergeParams(i)}var n=e.plugin.ParamMapping;t.prototype.mergeParams=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this._paramMappings[n.getKeyName()]=n}},t.prototype.getParams=function(){var e=[];for(var t in this._paramMappings)this._paramMappings.hasOwnProperty(t)&&e.push(this._paramMappings[t]);return e},t.prototype.addParam=function(e){this._paramMappings[e.getKeyName()]=e},t.prototype.removeParam=function(e,t){var i=new n(e,t);this._paramMappings.hasOwnProperty(i.getKeyName())&&delete this._paramMappings[i.getKeyName()]},e.plugin.Behaviour=t}(i),function(e){"use strict";function t(e,t,i){this._pluginName=e,this._key=t,this._paramName=i||e+n.SEPARATOR+t}var n=e.radio.Channel;t.prototype.getPluginName=function(){return this._pluginName},t.prototype.getKey=function(){return this._key},t.prototype.getKeyName=function(){return this._pluginName+n.SEPARATOR+this._key},t.prototype.getParamName=function(){return this._paramName},e.plugin.ParamMapping=t}(i),function(e){"use strict";function t(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._plugins={},this._behaviours={},this._radio=new i(this._logger),this._dataChannel=this._radio.channel(o),this._ctrlChannel=this._radio.channel(s)}var n=e.Event,i=e.radio.Radio,a=e.radio.Channel,r=e.plugin.Behaviour;t.ERROR="error",t.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this._logger.warn(l,"#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},t.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},t.prototype.pluginExists=function(e){return!!this._plugins[e]},t.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},t.prototype.on=function(e,t,n,i){this._dataChannel.on(e+a.SEPARATOR+t,n,i)},t.prototype.off=function(e,t,n,i){var r=e&&t?e+a.SEPARATOR+t:null;this._dataChannel.off(r,n,i)},t.prototype.trigger=function(e){var t=e.name,n=this._behaviours[t];if(n){var i,a,r,o,s,l={},d={};for(i=0;i<n.length;i++)if(r=n[i],o=r.getParams())for(a=0;a<o.length;a++)s=o[a],l[s.getPluginName()]=l[s.getPluginName()]||[],s.key in l[s.getPluginName()]||l[s.getPluginName()].push(s.getKey());for(var c in l)l.hasOwnProperty(c)&&(d[c]=this.request(c,l[c]));for(i=0;i<n.length;i++){var u={_behaviour:r=n[i],_eventData:e.data||{}};if(o=r.getParams()){for(a=0;a<o.length;a++)s=o[a],u[s.getParamName()]=d[s.getPluginName()]?d[s.getPluginName()][s.getKey()]:null;this.command(r.plugin.getName(),r.action,u)}}}this._dataChannel.trigger(e)},t.prototype.request=function(e,t){var n=this._plugins[e];return n&&t&&0!=t.length?n.resolveData(t):null},t.prototype.raise=function(e){this._errorInfo=e;var i=new n(t.ERROR,e);this._ctrlChannel.trigger(i)},t.prototype.getErrorInfo=function(){return this._errorInfo},t.prototype.destroy=function(){this._radio.shutdown();for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},t.prototype.comply=function(e,t,n){this._dataChannel.comply(e.getName()+a.SEPARATOR+t,n,e)},t.prototype.command=function(e,t,n){this._dataChannel.command(e+a.SEPARATOR+t,n)},t.prototype.registerBehaviour=function(e,t,n,i){var a=e.getName(),o=new r(e,t,n,i);this._behaviours[a]=this._behaviours[a]||[],this._behaviours[a].push(o)};var o="data_channel",s="ctrl_channel",l="plugin::PluginManager";e.plugin.PluginManager=t}(i),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new i}var i=e.Logger,a=e.Trigger,r=e.Event,o=t.ErrorInfo;n.INITIALIZED="initialized",n.prototype.configure=function(e){},n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._pluginManager.raise(new o("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.getLogger=function(){return this._logger},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.resolveData=function(e){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);var t=null;if(e)for(var n=0;n<e.length;n++){var i=e[n];this._dataResolver.hasOwnProperty(i)&&(t=t||{},"function"==typeof this._dataResolver[i]?t[i]=this._dataResolver[i].call(this):t[i]=this._dataResolver[i])}return t},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){return this._isEnabled?!this._isDestroyed||(this._logger.error(this._logTag,"Plugin destroyed."),!1):(this._logger.error(this._logTag,"Plugin disabled."),!1)},n.prototype._trigger=function(e,t){var n=r.createFromTrigger(new a(this.getName(),e));n.data=t,this._pluginManager.trigger(n)},e.plugin.BasePlugin=n}(i,n),function(e){"use strict";function t(e,t,n){this.name=e,this.interval=t,this.isActive=!1,this.repeatCount=void 0!==n?n:a,this._nextTickTimestamp=0,this.reset()}function n(e,t){if(!e)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._timers={};var n=this;this._clock=window.setInterval(function(){n._onTick()},1e3*r)}t.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},t.prototype.shouldTick=function(){return(new Date).getTime()>this._nextTickTimestamp-r/2&&(this.tick++,this._updateNextTickTimestamp(),!0)},t.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},n.prototype.createTimer=function(e,n,i){this._timers[e]=new t(e,n,i)},n.prototype.destroyTimer=function(e){delete this._timers[e]},n.prototype.resumeTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(i,"#resumeTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&n.reset())},n.prototype.pauseTimer=function(e,t){t=void 0!==t&&t,this._logger.debug(i,"#pauseTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&n.reset())},n.prototype.isTimerPaused=function(e){var t=this._timers[e];return!!t&&!t.isActive},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},n.prototype._onTick=function(){for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];t.isActive&&t.shouldTick()&&(t.interval>1&&this._logger.debug(i,"#_onTick() > "+t.name+"("+t.tick+" | "+t.repeatCount+")"),0!=t.repeatCount?(this._service.onTick(t.name,t.interval,t.tick),t.repeatCount!=a&&t.repeatCount--):this.destroyTimer(t.name))}};var i="service.clock::TimerManager",a=-1,r=.25;e.clock.TimerDescriptor=t,e.clock.TimerManager=n}(a),function(e,t,n){"use strict";function i(e){if(i.__super__.constructor.call(this,s),!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e,this._timerManager=new a(this,this._logger),this._setupDataResolver()}var a=n.clock.TimerManager,r=t.StringUtils,o=e.plugin.BasePlugin;e.extend(i,o),i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._pluginManager.comply(this,l,this._cmdCreate),this._pluginManager.comply(this,c,this._cmdResume),this._pluginManager.comply(this,d,this._cmdPause),this._pluginManager.comply(this,u,this._cmdDestroy)},i.prototype._teardown=function(){this._timerManager.destroy()},i.prototype._cmdCreate=function(e){var t=e[h]||m;this._timerManager.createTimer(e[_],e[p],t)},i.prototype._cmdPause=function(e){this._timerManager.pauseTimer(e[_],!!e[f])},i.prototype._cmdResume=function(e){this._timerManager.resumeTimer(e[_],!!e[f])},i.prototype._cmdDestroy=function(e){this._timerManager.destroyTimer(e[_])},i.prototype.onTick=function(e,t,n){e+=".tick";var i={};i[_]=e,i[p]=t,i[g]=n,this._trigger(e,i)},i.prototype._setupDataResolver=function(){var e={},t=this._timerManager;e[E]=function(e){return t.isTimerPaused(e)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];if(n=n||{},r.startsWith(a,E)){var o=a.split(E+".");o.length>0&&(n[a]=e[E].call(this,o[1]))}}return n}};var s="service.clock",l="create",d="pause",c="resume",u="destroy",_="name",p="interval",h="repeat_count",g="tick",f="reset",E="is_paused",m=-1;n.clock.ClockService=i}(i,t,a),function(e,t,n){"use strict";function i(e,t){if(this._logger=new a,this._pluginManager=new r(this._logger),this._pluginManager.addPlugin(new o(this._logger)),t)for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var a=e.Logger,r=e.plugin.PluginManager,o=t.clock.ClockService;i.prototype.configure=function(e){if(!e)throw new Error("Configuration object cannot be NULL.");console.logLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(s,"Instance is destroyed.")},i.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var s="Heartbeat";n.Heartbeat=i}(i,a,n),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=i),e.ADB.va||(e.ADB.va=n),e.ADB.va.utils||(e.ADB.va.utils=t),e.ADB.va.plugins||(e.ADB.va.plugins={})}(this),function(e){if(void 0===t)var t={};!function(e){"use strict";var t={};t.ASSET_TYPE_VOD="vod",t.ASSET_TYPE_LIVE="live",t.ASSET_TYPE_LINEAR="linear",e.AssetType=t}(t),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},e.AdBreakInfo=t}(t),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null}t.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},e.AdInfo=t}(t),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}t.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},e.ChapterInfo=t}(t),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}t.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},e.QoSInfo=t}(t),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null,this.resumed=!1}t.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType+", resumed="+this.resumed},e.VideoInfo=t}(t),function(e){"use strict";function t(){this.debugLogging=!1}e.VideoPlayerPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},e.VideoPlayerPluginDelegate=t}(t),function(e,t){"use strict";function n(e){if(n.__super__.constructor.call(this,s),!e)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=e,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._isTrackingAd=!1,this._playheadTimer=null,this._previousPlayhead=-1,this._stalledPlayheadCount=0,this._playheadStalled=!1,this._videoIdle=!1,this._setupDataResolver()}var i=e.plugin.ParamMapping,a=e.Trigger,r=e.plugin.BasePlugin,o=t.VideoPlayerPluginConfig;e.extend(n,r),n.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof o))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");console.logLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+console.logLogging+")")},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},n.prototype._cmdVideoIdleStart=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleStart()"),this._videoIdle=!0},n.prototype._cmdVideoIdleResume=function(e){this._logger.info(this._logTag,"#_cmdVideoIdleResume()"),this._videoIdle&&(this._trigger(h),this._trigger(g),e.isInChapter&&this._trigger(P),e.isInAd&&(this._trigger(A),this._isTrackingAd=!0)),this._videoIdle=!1},n.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(h),this._isTrackingSessionStarted=!0;var e=this._dataResolver(["video.resumed"]);e.hasOwnProperty("video.resumed")&&e["video.resumed"]&&this._trigger(g)}},n.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(_),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},n.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._stopPlayheadTimer(),this._trigger(p),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._videoIdle=!1}},n.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&(this._trigger(m),this._startPlayheadTimer())},n.prototype.trackPause=function(){if(this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")){this._stopPlayheadTimer();var e={};e[M]=!1,this._trigger(T,e)}},n.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&(this._stopPlayheadTimer(),this._trigger(I))},n.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&(this._trigger(S),this._startPlayheadTimer())},n.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&(this._stopPlayheadTimer(),this._trigger(y))},n.prototype.trackSeekComplete=function(){if(this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")){this._trigger(C),this._startPlayheadTimer();var e=this._dataResolver(["ad.isInAd"]);this._isTrackingAd=e.hasOwnProperty("ad.isInAd")&&e["ad.isInAd"]}},n.prototype.trackComplete=function(e){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var t={};t[L]=e,this._stopPlayheadTimer(),this._trigger(f,t)}},n.prototype.trackTimedMetadata=function(e){this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackTimedMetadata")&&this._trigger(E,e)},n.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(P)},n.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(R)},n.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&(this._trigger(A),this._isTrackingAd=!0)},n.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&(this._trigger(v),this._isTrackingAd=!1)},n.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(D)},n.prototype.trackVideoPlayerError=function(e){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+e+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var t={};t[w]=u,t[k]=e,this._trigger(b,t)}},n.prototype.trackApplicationError=function(e){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+e+")"),this._startSessionIfNeeded("trackApplicationError")){var t={};t[w]=c,t[k]=e,this._trigger(b,t)}},n.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoIdleStart",this._cmdVideoIdleStart),this._pluginManager.comply(this,"handleVideoIdleResume",this._cmdVideoIdleResume)},n.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new a(d,N),this,"handleVideoIdleStart"),this._pluginManager.registerBehaviour(new a(d,O),this,"handleVideoIdleResume",[new i(l,"ad.isInAd","isInAd"),new i(l,"chapter.isInChapter","isInChapter")])},n.prototype._setupDataResolver=function(){function e(){return o.video?o.video:(o.video=s._delegate.getVideoInfo(),s._logger.info(s._logTag,"Data from delegate > VideoInfo: "+o.video),o.video)}function t(){return o.ad?o.ad:(o.ad=s._delegate.getAdInfo(),s._logger.info(s._logTag,"Data from delegate > AdInfo: "+o.ad),o.ad)}function n(){return o.pod?o.pod:(o.pod=s._delegate.getAdBreakInfo(),s._logger.info(s._logTag,"Data from delegate > AdBreakInfo: "+o.pod),o.pod)}function i(){return o.chapter?o.chapter:(o.chapter=s._delegate.getChapterInfo(),s._logger.info(s._logTag,"Data from delegate > ChapterInfo: "+o.chapter),o.chapter)}function a(){return o.qos?o.qos:(o.qos=s._delegate.getQoSInfo(),s._logger.info(s._logTag,"Data from delegate > QoSInfo: "+o.qos),o.qos)}var r={},o={},s=this;r["video.id"]=function(){var t=e(),n=t?t.id:null;return s._logger.debug(s._logTag,"Resolving video.id: "+n),n},r["video.name"]=function(){var t=e(),n=t?t.name:null;return s._logger.debug(s._logTag,"Resolving video.name: "+n),n},r["video.length"]=function(){var t=e(),n=t?t.length:NaN;return s._logger.debug(s._logTag,"Resolving video.length: "+n),n},r["video.playerName"]=function(){var t=e(),n=t?t.playerName:null;return s._logger.debug(s._logTag,"Resolving video.playerName: "+n),n},r["video.streamType"]=function(){var t=e(),n=t?t.streamType:null;return s._logger.debug(s._logTag,"Resolving video.streamType: "+n),n},r["video.playhead"]=function(){var t=e(),n=t?t.playhead:NaN;return s._logger.debug(s._logTag,"Resolving video.playhead: "+n),n},r["video.resumed"]=function(){var t=e(),n=!!t&&t.resumed;return s._logger.debug(s._logTag,"Resolving video.resumed: "+n),n},r["video.playheadStalled"]=function(){return this._playheadStalled},r["pod.name"]=function(){var e=n(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving pod.name: "+t),t},r["pod.playerName"]=function(){var e=n(),t=e?e.playerName:null;return s._logger.debug(s._logTag,"Resolving pod.playerName: "+t),t},r["pod.position"]=function(){var e=n(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving pod.position: "+t),t},r["pod.startTime"]=function(){var e=n(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving pod.startTime: "+t),t},r["ad.isInAd"]=function(){var e=null!=t();return s._logger.debug(s._logTag,"Resolving ad.isInAd: "+e),e},r["ad.isInAdBreak"]=function(){var e=null!=n();return s._logger.debug(s._logTag,"Resolving ad.isInAdBreak: "+e),e},r["ad.id"]=function(){var e=t(),n=e?e.id:null;return s._logger.debug(s._logTag,"Resolving ad.id: "+n),n},r["ad.name"]=function(){var e=t(),n=e?e.name:null;return s._logger.debug(s._logTag,"Resolving ad.name: "+n),n},r["ad.length"]=function(){var e=t(),n=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving ad.length: "+n),n},r["ad.position"]=function(){var e=t(),n=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving ad.position: "+n),n},r["chapter.isInChapter"]=function(){var e=null!=i();return s._logger.debug(s._logTag,"Resolving chapter.isInChapter: "+e),e},r["chapter.name"]=function(){var e=i(),t=e?e.name:null;return s._logger.debug(s._logTag,"Resolving chapter.name: "+t),t},r["chapter.length"]=function(){var e=i(),t=e?e.length:NaN;return s._logger.debug(s._logTag,"Resolving chapter.length: "+t),t},r["chapter.position"]=function(){var e=i(),t=e?e.position:NaN;return s._logger.debug(s._logTag,"Resolving chapter.position: "+t),t},r["chapter.startTime"]=function(){var e=i(),t=e?e.startTime:NaN;return s._logger.debug(s._logTag,"Resolving chapter.startTime: "+t),t},r["qos.bitrate"]=function(){var e=a(),t=e?e.bitrate:NaN;return s._logger.debug(s._logTag,"Resolving qos.bitrate: "+t),t},r["qos.fps"]=function(){var e=a(),t=e?e.fps:NaN;return s._logger.debug(s._logTag,"Resolving qos.fps: "+t),t},r["qos.droppedFrames"]=function(){var e=a(),t=e?e.droppedFrames:NaN;return s._logger.debug(s._logTag,"Resolving qos.droppedFrames: "+t),t},r["qos.startupTime"]=function(){var e=a(),t=e?1e3*e.startupTime:NaN;return s._logger.debug(s._logTag,"Resolving qos.startupTime: "+t),t},this._dataResolver=function(e){if(!e||0==e.length)return null;o={};for(var t=null,n=0;n<e.length;n++){var i=e[n];(t=t||{})[i]=r.hasOwnProperty(i)?r[i].call(this):null}return t}},n.prototype._trackPlayheadStall=function(){this._canProcess()&&(this._playheadStalled||(this._logger.info(this._logTag,"#_trackPlayheadStall()"),this._stalledPlayheadCount=0,this._playheadStalled=!0,this._trigger(T)))},n.prototype._trackExitStall=function(){this._canProcess()&&(this._stalledPlayheadCount=0,this._playheadStalled&&(this._logger.info(this._logTag,"#_trackExitStall()"),this._playheadStalled=!1,this.trackPlay()))},n.prototype._startPlayheadTimer=function(){var e=this;this._playheadTimer||(this._playheadTimer=setInterval(function(){if(e._canProcess()){var t=e._dataResolver(["ad.isInAd","video.playhead"]);if(e._isTrackingAd)e._playheadStalled&&e._trackExitStall(),t.hasOwnProperty("ad.isInAd")&&!t["ad.isInAd"]&&(e._isTrackingAd=!1);else{var n=t["video.playhead"];n!=e._previousPlayhead?e._trackExitStall():e._previousPlayhead>=0&&n==e._previousPlayhead&&(e._stalledPlayheadCount++,e._stalledPlayheadCount==U&&e._trackPlayheadStall()),e._previousPlayhead=n}}},V))},n.prototype._stopPlayheadTimer=function(){this._playheadTimer&&(clearInterval(this._playheadTimer),this._playheadTimer=null),this._trackExitStall()},n.prototype._startSessionIfNeeded=function(e){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+e+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+e+"() > No active tracking session."),!1)};var s="player",l=s,d="adobe-heartbeat",c="sourceErrorExternal",u="sourceErrorSDK",_="video_load",p="video_unload",h="video_start",g="video_resume",f="video_complete",E="timed_metadata",m="play",T="pause",A="ad_start",v="ad_complete",I="buffer_start",S="buffer_complete",y="seek_start",C="seek_complete",P="chapter_start",R="chapter_complete",D="bitrate_change",b="track_error",N="video_idle_start",O="video_idle_resume",L="callback",M="filter_report",w="source",k="error_id",V=1001,U=2;t.VideoPlayerPlugin=n}(e.ADB.core,t),e.ADB.va.plugins.videoplayer||(e.ADB.va.plugins.videoplayer=t)}(this),function(e){if(void 0===t)var t={};t.clock||(t.clock={}),t.context||(t.context={}),t.filter||(t.filter={}),t.model||(t.model={}),t.network||(t.network={}),function(e,t){"use strict";function n(e,t,n,i,a){if(!t)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=t,!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=e,!a)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+n,this._logger=a,this._isDestroyed=!1,this._createTimer(n,i),this._installHandlers()}var i=e.Event;n.KEY_NAME="name",n.KEY_INTERVAL="interval",n.KEY_RESET="reset",n.prototype.resume=function(e){this._logger.debug(this._logTag,"Starting timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,l,t)},n.prototype.pause=function(e){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var t={};t[n.KEY_NAME]=a+"."+this._name,t[n.KEY_RESET]=e,this._pluginManager.command(r,s,t)},n.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var e={};e[n.KEY_NAME]=a+"."+this._name,this._pluginManager.command(r,d,e)}},n.prototype.setInterval=function(e){var t=c+"."+a+"."+this._name,n=this._pluginManager.request(r,[t])[t];this.pause(!0),this._createTimer(this._name,e),n||this.resume(!0)},n.prototype._cmdResume=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.resume(t)},n.prototype._cmdPause=function(e){var t=!1;null!=e&&e.hasOwnProperty(n.KEY_RESET)&&(t=e[n.KEY_RESET]),this.pause(t)},n.prototype._onTick=function(e,t){this._channel.trigger(new i("clock:"+this._name+".tick",t))},n.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(r,a+"."+this._name+".tick",this._onTick,this)},n.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},n.prototype._createTimer=function(e,t){this._name=e,this._interval=t;var i={};i[n.KEY_NAME]=a+"."+this._name,i[n.KEY_INTERVAL]=this._interval,this._pluginManager.command(r,o,i)};var a="heartbeat",r="service.clock",o="create",s="pause",l="resume",d="destroy",c="is_paused";t.clock.Timer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,r,s,i)}var i=e.Event,a=t.clock.Timer;e.extend(n,a),n.prototype._onCheckStatusComplete=function(e){var t=e.data[u];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");t>o?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(o)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(s)},n.prototype._getSettings=function(e){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new i(l))},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(d,this._getSettings,this),this._channel.on(c,this._onCheckStatusComplete,this),this._channel.reply(u,function(){return this._interval},this)};var r="check_status",o=600,s=60,l="clock:check_status.tick",d="clock:check_status.get_settings",c="net:check_status_complete",u="check_status_interval";t.clock.CheckStatusTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i),n.prototype._onCheckStatusComplete=function(e){var t=e.data[o];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(r)},n.prototype._installHandlers=function(){n.__super__._installHandlers.call(this),this._channel.on(s,this._onCheckStatusComplete,this),this._channel.reply(o,function(){return this._interval},this)};var a="reporting",r=10,o="reporting_interval",s="net:check_status_complete";t.clock.ReportingTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i);var a="idle",r=1800;t.clock.IdleTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,i){n.__super__.constructor.call(this,e,t,a,r,i)}var i=t.clock.Timer;e.extend(n,i);var a="flush_filter",r=.25;t.clock.FlushFilterTimer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n){if(!e)throw new Error("Reference to the pluginManager object cannot be NULL");if(!t)throw new Error("Reference to the channel object cannot be NULL");if(!n)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new r(e,t,n),this._checkStatusTimer=new i(e,t,n),this._flushFilterTimer=new a(e,t,n),this._idleTimer=new o(e,t,n)}var i=t.clock.CheckStatusTimer,a=t.clock.FlushFilterTimer,r=t.clock.ReportingTimer,o=t.clock.IdleTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy(),this._idleTimer.destroy())},t.clock.Clock=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this.value=e,this.hint=t}function i(e){this.realm=e,this.data={}}n.HINT_SHORT="short",i.prototype.setField=function(e,t,i){this.data[e]=new n(t,i)},i.prototype._createAccessor=function(e,t,n){var i=this;return function(){return arguments.length&&(i[e]=arguments[0],i.setField(t,arguments[0],n)),i[e]}},t.model.Dao=i,t.model.DaoField=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podOffset(e.podOffset()),this.podName(e.podName()),this.adLength(e.adLength()),this.adName(e.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var i=t.model.Dao;e.extend(n,i),t.model.AdDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",a.HINT_SHORT),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.reportSuiteId(e.reportSuiteId()),this.trackingServer(e.trackingServer()),this.ssl(e.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var i=t.model.Dao,a=t.model.DaoField;e.extend(n,i),t.model.AdobeAnalyticsDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var i=t.model.Dao;e.extend(n,i),t.model.ChapterDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.name(e.name()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.length(e.length());var t=e.adData()?new a(e.adData()):null;this.adData(t);var i=e.chapterData()?new r(e.chapterData()):null;this.chapterData(i)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var i=t.model.Dao,a=t.model.AdDao,r=t.model.ChapterDao;e.extend(n,i),n.TYPE_AD="ad",n.TYPE_MAIN_CONTENT="main",t.model.AssetDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.duration(e.duration()),this.playhead(e.playhead()),this.id(e.id()),this.source(e.source()),this.ts(e.ts()),this.prevTs(e.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var i=t.model.Dao;e.extend(n,i),n.EVENT_TYPE_AA_START="aa_start",n.EVENT_TYPE_AA_AD_START="aa_ad_start",n.EVENT_TYPE_START="start",n.EVENT_TYPE_RESUME="resume",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_STALL="stall",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.bitrate(e.bitrate()),this.fps(e.fps()),this.droppedFrames(e.droppedFrames()),this.startupTime(e.startupTime()),this.isStartupTimeOverridden=e.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var i=t.model.Dao;e.extend(n,i),t.model.QoSDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.ovp(e.ovp()),this.sdk(e.sdk()),this.channel(e.channel()),this.playerName(e.playerName()),this.libVersion(e.libVersion()),this.apiLevel(e.apiLevel())}else this.ovp(a),this.sdk(a),this.channel(a),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var i=t.model.Dao;e.extend(n,i);var a="unknown";t.model.ServiceProviderDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.sessionId(e.sessionId())}else this.sessionId(null)}var i=t.model.Dao;e.extend(n,i),t.model.SessionDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type())}else this.type(null)}var i=t.model.Dao;e.extend(n,i),t.model.StreamDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var i=t.model.Dao;e.extend(n,i),t.model.UserDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"aam"),this.audienceManagerBlob=this._createAccessor("_audienceManagerBlob","blob",null),this.audienceManagerLocationHint=this._createAccessor("_audienceManagerLocationHint","loc_hint",null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.audienceManagerBlob(e.audienceManagerBlob()),this.audienceManagerLocationHint(e.audienceManagerLocationHint())}else this.audienceManagerBlob(null),this.audienceManagerLocationHint(null)}var i=t.model.Dao;e.extend(n,i),t.model.AudienceManagerDao=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t,n,l,d){this.eventData=new a,this.eventData.type(t),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(n),this.assetData=new r(e._assetData),this.streamData=new o(e._streamData),this.qosData=new s(e._qosData),this.cuserData=i.clone(e._cuserData),this.meta=l,this.callback=d,this.filterReport=!0}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.TrackItem=n}(e.ADB.va.utils,t),function(e,t){"use strict";function n(e,t,n,l,d,c){this.adobeAnalyticsData=e,this.userData=t,this.aamData=n,this.serviceProviderData=l,this.sessionData=d,this.eventData=new a(c.eventData),this.assetData=new r(c.assetData),this.streamData=new o(c.streamData),this.qosData=new s(c.qosData),this.cuserData=i.clone(c.cuserData),this.meta=i.clone(c.meta),this.callback=c.callback,this.filterReport=c.filterReport}var i=e.ObjectUtils,a=t.model.EventDao,r=t.model.AssetDao,o=t.model.StreamDao,s=t.model.QoSDao;t.model.CUserDao,t.model.Report=n}(e.ADB.va.utils,t),function(e){"use strict";function t(){}t.prototype.serializeReport=function(e){},t.prototype.serializeDao=function(e){},t.prototype.serializeMap=function(e){},t.prototype.serializeNumber=function(e,t,n,i){},t.prototype.serializeString=function(e,t,n,i){},e.model.ISerializer=t}(t),function(e,t){"use strict";function n(e){if(!e)throw new Error("Reference to the logger object cannot be NULL");this._logger=e}var i=t.model.Dao,a=t.model.DaoField,r=t.model.ISerializer;e.extend(n,r),n.prototype.serializeReport=function(e){var t=[];return t.push(this.serializeDao(e.adobeAnalyticsData)),t.push(this.serializeDao(e.userData)),t.push(this.serializeDao(e.aamData)),t.push(this.serializeMap(e.cuserData,"cuser")),t.push(this.serializeDao(e.serviceProviderData)),t.push(this.serializeDao(e.sessionData)),t.push(this.serializeDao(e.eventData)),t.push(this.serializeDao(e.assetData)),t.push(this.serializeDao(e.streamData)),t.push(this.serializeDao(e.qosData)),t.push(this.serializeMap(e.meta,"meta")),{serializedOutput:t.filter(function(e){return!!e}).join("&"),callback:e.callback}},n.prototype.serializeDao=function(e){return this._processDao(e).filter(function(e){return!!e}).join("&")},n.prototype.serializeMap=function(e,t){var n=[],i=t||"meta";for(var a in e)e.hasOwnProperty(a)&&e[a]&&n.push("s:"+i+":"+a+"="+window.encodeURIComponent(e[a]));return n.join("&")},n.prototype.serializeNumber=function(e,t,n,i){var r=s;return null==t||isNaN(t)?null:(i===a.HINT_SHORT&&(r=l),r+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n,i){return t?d+":"+n+":"+e+"="+window.encodeURIComponent(t):null},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var a=e.data[n],r=a.value,s=a.hint,l=null,d=e.realm;if(null==r)continue;"number"==typeof r?l=this.serializeNumber(n,r,d,s):"string"==typeof r?l=this.serializeString(n,r,d,s):r instanceof i?l=this.serializeDao(r):this._logger.warn(o,"#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+r+"."),l&&t.push(l)}return t};var o="ah::QuerystringSerializer",s="l",l="h",d="s";t.model.QuerystringSerializer=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the data object cannot be NULL");if(this._data=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t}n.prototype.parse=function(){var e,t,n,l,d;window.DOMParser?d=(new window.DOMParser).parseFromString(this._data,"text/xml"):(d=new window.ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(this.data));var c;(c=parseInt(d.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10))&&(e=c),(c=parseInt(d.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10))&&(t=c),(c=parseInt(d.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10))&&(n=1==c),d.getElementsByTagName("nielsenEnabled")[0]?(c=parseInt(d.getElementsByTagName("nielsenEnabled")[0].childNodes[0].nodeValue,10),l=1==c):l=!0;var u={};return u[a]=e,u[r]=t,u[o]=n,u[s]=l,this._logger.debug(i,"#parse() > Obtained configuration settings."),u};var i="ah::SettingsParser",a="reporting_interval",r="check_status_interval",o="track_external_errors",s="nielsen_enabled";t.network.SettingsParser=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._isConfigured=!1,this._isDestroyed=!1,this._quietMode=!1,this._visitorOptedOut=!1,this._prevReportSent=null,!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._serializer=new l(t),this._installEventListeners()}var i=e.Event,a=e.URLRequestMethod,r=e.URLRequest,o=e.URLLoader,s=t.network.SettingsParser,l=t.model.QuerystringSerializer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(d,"#destroy()"),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this._logger.debug(d,"#_onApiConfig(sb_server="+t[c]+", check_status_server="+t[u]+", publisher="+t[_]+", quiet_mode="+t[p]+", ssl="+t[h]+")"),this._trackingServer=this._updateRequestProtocol(t[c],t[h]),this._checkStatusServer=this._updateRequestProtocol(t[u],t[h]),this._publisher=t[_],this._quietMode=t[p],this._isConfigured=!0},n.prototype._onUpdateVisitorOptOut=function(e){var t=e.data;this._logger.debug(d,"#_onUpdateVisitorOptOut(visitor_opt_out="+t[f]+")"),this._visitorOptedOut=t[f]},n.prototype._onFilterReportAvailable=function(e){var t=e.data;if(this._isConfigured){var n=t[g],s=this._serializer.serializeReport(n),l=this._trackingServer+"/?"+s.serializedOutput;if(this._prevReportSent&&this._prevReportSent.eventData&&n.eventData&&this._prevReportSent.eventData.playhead==n.eventData.playhead&&this._prevReportSent.eventData.ts==n.eventData.ts&&this._prevReportSent.eventData.prevTs==n.eventData.prevTs&&this._prevReportSent.eventData.type==n.eventData.type)this._logger.debug(d,"#_onFilterReportAvailable() > Duplicate heartbeat report not sent for URL:\n"+l);else{this._prevReportSent=n;var c=new r(l,a.GET);this._logger.debug(d,"#_onFilterReportAvailable() > "+c.url);var u=this,_=function(e){h.close(),s.callback&&s.callback.call(null)},p=function(e){h.close(),u._logger.warn(d,"#_onFilterReportAvailable() > Failed to send heartbeat report."),s.callback&&s.callback.call(null)};if(!this._quietMode&&!this._visitorOptedOut){var h=new o;h.addEventListener(i.SUCCESS,_,this),h.addEventListener(i.ERROR,p,this),h.load(c)}}}else this._logger.warn(d,"#_onFilterReportAvailable() > Unable to send request: not configured.")},n.prototype._onClockCheckStatusTick=function(e){function t(e){if(e.data){var t=new s(e.data.response,l._logger).parse();t?l._channel.trigger(new i(v,t)):l._logger.warn(d,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}p.close()}function n(e){l._logger.warn(d,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),p.close()}if(this._isConfigured)if(this._publisher){var l=this,c=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),u=this._checkStatusServer+c+".xml?r="+(new Date).getTime(),_=new r(u,a.GET),p=new o;p.addEventListener(i.SUCCESS,t,this),p.addEventListener(i.ERROR,n,this),this._logger.debug(d,"#_onClockCheckStatusTick() > Get new settings from: "+u),p.load(_)}else this._logger.warn(d,"#_onClockCheckStatusTick() > Publisher is NULL.");else this._logger.warn(d,"#_onClockCheckStatusTick() > Unable to send request: not configured.")},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(E,this._onApiConfig,this),this._channel.on(m,this._onUpdateVisitorOptOut,this),this._channel.on(T,this._onFilterReportAvailable,this),this._channel.on(A,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var d="ah::Network",c="tracking_server",u="check_status_server",_="publisher",p="quiet_mode",h="ssl",g="report",f="visitor_opt_out",E="api:config",m="api:update_visitor_optout",T="filter:data_available",A="clock:check_status.tick",v="net:check_status_complete";t.network.Network=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new l,this._installEventListeners()}function i(e){var t=[];return e&&e.forEach(function(e){e.eventData.type()==c.EVENT_TYPE_PAUSE||e.eventData.type()==c.EVENT_TYPE_STALL?(!e.filterReport||e.eventData.duration()>A)&&t.push(e):t.push(e)}),t}function a(e){var t=-1,n=-1,i=[];return e.forEach(function(e){e.eventData.type()==c.EVENT_TYPE_START?e.assetData.type()==u.TYPE_MAIN_CONTENT?-1==t?t=i.push(e)-1:(e.eventData.prevTs(-1),i[t]=e):-1==n?n=i.push(e)-1:(e.eventData.prevTs(-1),i[n]=e):i.push(e)}),i}function r(e){var t=[];return e.forEach(function(n){if(n.eventData.type()==c.EVENT_TYPE_PLAY){if(n.eventData.duration()>T)t.push(n);else if(0==n.eventData.duration()&&n.assetData.type()==u.TYPE_MAIN_CONTENT){var i=o(e);i.indexOf(n)==i.length-1&&t.push(n)}}else t.push(n)}),t}function o(e){var t=[];return e.forEach(function(e){(e.eventData.type()==c.EVENT_TYPE_PLAY||e.eventData.type()==c.EVENT_TYPE_BUFFER||e.eventData.type()==c.EVENT_TYPE_START)&&t.push(e)}),t}var s=e.radio.Command,l=e.radio.CommandQueue,d=e.Event,c=t.model.EventDao,u=t.model.AssetDao;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(I,"#destroy()"),this._uninstallEventListeners(),this.clear())},n.prototype.clear=function(){this._logger.debug(I,"#clear()"),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1},n.prototype.flush=function(){this._workQueue.addCommand(new s(this._flushBufferReport,this))},n.prototype._bufferReport=function(e){if(!this._isDestroyed){var t=e[f];if(t){var n=t.sessionData.sessionId();this._reportBuffer[n]=this._reportBuffer[n]||[],this._reportBuffer[n].push(t)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var i={};i[g]=!0,i[E]=1,this._channel.command(m,i)}}},n.prototype._flushBufferReport=function(){function e(e){if(e)for(var n=0;n<e.length;n++){var i=e[n],a=i.sessionData.sessionId();t._tsHistory[a]=t._tsHistory[a]||{};var r=i.eventData.type()+"."+(i.assetData.type()==u.TYPE_AD?i.assetData.adData().adId():i.assetData.videoId());t._tsHistory[a].hasOwnProperty(r)&&i.eventData.prevTs(t._tsHistory[a][r]),t._tsHistory[a][r]=i.eventData.ts()}}if(!this._isDestroyed){var t=this;for(var n in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(n)){var o=r(a(i(this._reportBuffer[n])));e(o);for(var s=0;s<o.length;s++){var l=o[s],c={};c[f]=l,this._channel.trigger(new d(p,c))}}this._reportBuffer={};var _=this._channel.request(v),h=this._tsHistory[_]||{};this._tsHistory={},this._tsHistory[_]=h,this._isBufferingInProgress=!1}},n.prototype._onContextReportAvailable=function(e){var t=e.data;this._workQueue.addCommand(new s(this._bufferReport,this,[t]))},n.prototype._onClockFlushFilterTick=function(e){this.flush()},n.prototype._installEventListeners=function(){this._channel.on(_,this._onContextReportAvailable,this),this._channel.on(h,this._onClockFlushFilterTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var _="context:report_available",p="filter:data_available",h="clock:flush_filter.tick",g="reset",f="report",E="repeat_count",m="clock:flush_filter.resume",T=250,A=250,v="session_id",I="ah::ReportFilter";t.filter.ReportFilter=n}(e.ADB.core,t),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!e.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof e.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(e.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"rsid":if(!e.hasOwnProperty("rsid"))return this._fail("account (rsid) is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.rsid)return this._fail("account (rsid) of the AppMeasurement instance must be a String.");if(""===e.rsid)return this._fail("account (rsid) of the AppMeasurement instance  cannot be an empty string.");break;case"trackingServer":if(!e.hasOwnProperty("trackingServer"))return this._fail("trackingServer is required and has to be set in the AppMeasurement instance.");if("string"!=typeof e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance must be a String.");if(""===e.trackingServer)return this._fail("trackingServer of the AppMeasurement instance cannot be an empty string.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!e.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof e.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(e.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!e.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof e.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(e.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!e.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof e.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(e.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.context.InputDataValidator=n}(e.ADB.va,t),function(e,t){"use strict";function n(e,t){if(!t)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=t,!e)throw new Error("Reference to the context object cannot be NULL");this._context=e}var i=t.model.Report;n.prototype.createReportForItem=function(e){return this._logger.debug(a,"Creating report for item: "+e.eventData.type()),new i(this._context._adobeAnalyticsData,this._context._userData,this._context._aamData,this._context._serviceProviderData,this._context._sessionData,e)};var a="ah::ReportFactory";t.context.ReportFactory=n}(e.ADB.core,t),function(e,t,n,i){"use strict";function a(e,t){if(!e)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=e,!t)throw new Error("Reference to the logger object cannot be NULL");this._logger=t,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._reportingInterval=re,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new d,this._serviceProviderData=new c,this._userData=new u,this._aamData=new _,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._doNotOverrideEventDuration=!1,this._reportFactory=new A(this,this._logger),this._inputDataValidator=new v(function(e){this._logger.error(I,e.getMessage()+" | "+e.getDetails()),this._channel.trigger(new s(y,e))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}var r=n.md5,o=n.ObjectUtils,s=e.Event,l=i.model.SessionDao,d=i.model.AdobeAnalyticsDao,c=i.model.ServiceProviderDao,u=i.model.UserDao,_=i.model.AudienceManagerDao,p=i.model.EventDao,h=i.model.AssetDao,g=i.model.StreamDao,f=i.model.QoSDao,E=i.model.AdDao,m=i.model.ChapterDao,T=i.model.TrackItem,A=i.context.ReportFactory,v=i.context.InputDataValidator;a.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(I,"#destroy()"),this._uninstallEventListeners())},a.prototype._onApiAnalyticsStart=function(e){this._logger.debug(I,"#_onApiAnalyticsStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._userData.visitorId(t.vid),this._userData.analyticsVisitorId(t.aid),this._userData.marketingCloudVisitorId(t.mid),this._aamData.audienceManagerBlob(t.blob),this._aamData.audienceManagerLocationHint(t.loc_hint),t.customerIDs&&(this._cuserData=t.customerIDs),this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_AA_START,t.playhead,null,t._eventData[N]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(n)}},a.prototype._onApiAnalyticsAdStart=function(e){this._logger.debug(I,"#_onApiAnalyticsAdStart()");var t=e.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_AA_AD_START,t.playhead,null,t._eventData[N]);this._sendHit(n)}},a.prototype._onApiVideoLoad=function(e){var t=e.data;this._logger.debug(I,"#_onApiVideoLoad(rsid="+t.rsid+", aa_trackingServer="+t.trackingServer+")"),this._resetInternalState(),this._inputDataValidator.validateFields(t,["rsid","trackingServer"])&&(this._sessionData.sessionId(this._generateSessionId()),this._isTrackingSessionActive=!0)},a.prototype._onApiVideoUnload=function(e){return this._logger.debug(I,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(I,"#_onApiVideoUnload() > No active tracking session.")},a.prototype._onApiVideoStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiVideoStart(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(t.rsid),this._adobeAnalyticsData.trackingServer(t.trackingServer),this._adobeAnalyticsData.ssl(Number(t.useSsl)),this._serviceProviderData.ovp(t.ovp),this._serviceProviderData.sdk(t.sdk),this._serviceProviderData.channel(t.channel),this._serviceProviderData.libVersion(t.version),this._serviceProviderData.apiLevel(t.apiLvl),this._activeAssetId=t.videoId,this._serviceProviderData.playerName(t.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.publisher(t.publisher),this._assetData.name(t.videoName),this._streamData.type(t.streamType),this._updateQoSInfo(t);var n=t.metaNielsen?o.merge(t.metaVideo,t.metaNielsen):t.metaVideo,i=new T(this,p.EVENT_TYPE_START,t.playhead,n,t._eventData[N]);this._sendHit(i)}},a.prototype._onApiVideoResume=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiVideoResume(id="+t.videoId+", name="+t.videoName+", length="+t.videoLength+", type="+t.streamType+", playerName="+t.playerName+")"),this._checkCall("_onApiVideoResume")&&this._inputDataValidator.validateFields(t,["videoId","streamType","videoLength","playhead","playerName"])){this._activeAssetId=t.videoId,this._assetData.videoId(this._activeAssetId),this._assetData.length(t.videoLength),this._assetData.type(h.TYPE_MAIN_CONTENT),this._assetData.name(t.videoName),this._streamData.type(t.streamType);var n=new T(this,p.EVENT_TYPE_RESUME,t.playhead,null,t._eventData[N]);this._sendHit(n)}},a.prototype._onApiVideoComplete=function(e){this._logger.debug(I,"#_onApiVideoComplete()");var t=e.data;if(this._checkCall("_onApiVideoComplete")){var n=new T(this,p.EVENT_TYPE_COMPLETE,this._assetData.length(),null,t._eventData[N]);this._sendHit(n),this._isVideoComplete=!0}},a.prototype._onApiPlay=function(e){this._logger.debug(I,"#_onApiPlay()");var t=e.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_PLAY,t.playhead,null,t._eventData[N]);this._sendHit(n)}},a.prototype._onApiPause=function(e){this._logger.debug(I,"#_onApiPause()");var t=e.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=t.playheadStalled?p.EVENT_TYPE_STALL:p.EVENT_TYPE_PAUSE,i=new T(this,n,t.playhead,null,t._eventData[N]);t._eventData.hasOwnProperty(O)&&(i.filterReport=t._eventData[O]),this._sendHit(i)}},a.prototype._onApiBufferStart=function(e){this._logger.debug(I,"#_onApiBufferStart()");var t=e.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_BUFFER,t.playhead,null,t._eventData[N]);this._sendHit(n)}},a.prototype._onApiSeekStart=function(e){this._logger.debug(I,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},a.prototype._onApiSeekComplete=function(e){this._logger.debug(I,"#_onApiSeekComplete()");var t=e.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(t.isInAd){if(!this._inputDataValidator.validateFields(t,["adId","adPosition","podPosition","podPlayerName"]))return;var n=r(this._assetData.videoId())+"_"+t.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==n&&parseInt(this._stashedAdData.podPosition(),10)==t.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=t.adId;var i=new E;i.adId(this._activeAssetId),i.adName(t.adName),i.adLength(t.adLength),i.podId(n),i.resolver(t.podPlayerName),i.podPosition(t.podPosition+""),i.podName(t.podName),i.podOffset(t.podSecond),i.sid(this._generateSessionId()),this._assetData.adData(i)}this._assetData.type(h.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(t.isInChapter){if(!this._inputDataValidator.validateFields(t,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&t.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var a=new m;a.id(r(this._assetData.videoId())+"_"+t.chapterPosition),a.name(t.chapterName),a.length(t.chapterLength),a.position(t.chapterPosition),a.offset(t.chapterOffset),a.sid(this._generateSessionId()),this._assetData.chapterData(a)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},a.prototype._onApiAdStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiAdStart(id="+t.adId+", player_name="+t.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+t.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(t,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=t.adId;var n=new E;n.adId(this._activeAssetId),n.adName(t.adName),n.adLength(t.adLength),n.resolver(t.podPlayerName),n.podId(r(this._assetData.videoId())+"_"+t.podPosition),n.podPosition(t.adPosition+""),n.podName(t.podName),n.podOffset(t.podSecond),n.sid(this._generateSessionId()),this._assetData.adData(n),this._assetData.type(h.TYPE_AD),this._updateQoSInfo(t);var i=o.merge(t.metaVideo,t.metaAd);i=t.metaNielsen?o.merge(i,t.metaNielsen):i;var a=new T(this,p.EVENT_TYPE_START,t.playhead,i,t._eventData[N]);this._sendHit(a)}},a.prototype._onApiAdComplete=function(e){this._logger.debug(I,"#_onApiAdComplete()");var t=e.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(this._assetData.type()!=h.TYPE_AD)return void this._logger.warn(I,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_COMPLETE,t.playhead,null,t._eventData[N]);this._sendHit(n),this._assetData.adData(null),this._assetData.type(h.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},a.prototype._onApiChapterStart=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiChapterStart(name="+t.chapterName+", length="+t.chapterLength+", position="+t.chapterPosition+", chapter_offset="+t.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(t,["playhead","chapterPosition","chapterOffset","chapterLength"])){var n=new m;n.id(r(this._assetData.videoId())+"_"+t.chapterPosition),n.name(t.chapterName),n.length(t.chapterLength),n.position(t.chapterPosition),n.offset(t.chapterOffset),n.sid(this._generateSessionId()),this._assetData.chapterData(n),this._updateQoSInfo(t);var i=o.merge(t.metaVideo,t.metaChapter),a=new T(this,p.EVENT_TYPE_CHAPTER_START,t.playhead,i,t._eventData[N]);a.assetData.adData(null),a.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(a)}},a.prototype._onApiChapterComplete=function(e){this._logger.debug(I,"#_onApiChapterComplete()");var t=e.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(t,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(I,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_CHAPTER_COMPLETE,t.playhead,null,t._eventData[N]);n.assetData.adData(null),n.assetData.type(h.TYPE_MAIN_CONTENT),this._sendHit(n),this._assetData.chapterData(null)}},a.prototype._onApiBitrateChange=function(e){this._logger.debug(I,"#_onApiBitrateChange()");var t=e.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(t,["playhead"])){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_BITRATE_CHANGE,t.playhead,null,t._eventData[N]);this._sendHit(n)}},a.prototype._onApiTrackError=function(e){var t=e.data;if(this._logger.debug(I,"#_onApiTrackError(source="+t._eventData.source+", err_id="+t._eventData.error_id+")"),this._isTrackingSessionActive){if(this._trackExternalErrors||t._eventData.source===S){this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_ERROR,0,null,t._eventData[N]);n.eventData.id(t._eventData.error_id),n.eventData.source(t._eventData.source),this._sendHit(n)}}else this._logger.warn(I,"#_onApiTrackError() > No active tracking session.")},a.prototype._onApiTrackInternalError=function(e){var t=e.data;this._logger.debug(I,"#_onApiTrackInternalError(source="+t.source+", err_id="+t.error_id+")"),this._updateQoSInfo(t);var n=new T(this,p.EVENT_TYPE_ERROR,0);n.eventData.id(t.error_id),n.eventData.source(t.source),this._sendHit(n)},a.prototype._onApiQuantumEnd=function(e){this._logger.debug(I,"#_onApiQuantumEnd(interval="+this._channel.request(R)+")");var t=e.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(t,["playhead"])&&(this._lastInBandItem&&(this._lastInBandItem.eventData.playhead(t.playhead),this._updateQoSInfo(t),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime())),this._sendHit(this._lastInBandItem))},a.prototype._onNetworkCheckStatusComplete=function(e){var t=e.data;this._trackExternalErrors=t[w],this._reportingInterval=t[k],this._reportingInterval||(this._reportingInterval=re),this._logger.debug(I,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},a.prototype._onResetSessionId=function(e){var t=this._generateSessionId();this._sessionData=new l,this._sessionData.sessionId(t),this._logger.debug(I,"#_resetSessionId(new sessionId="+t+")")},a.prototype._installEventListeners=function(){this._channel.on(V,this._onApiAnalyticsStart,this),this._channel.on(U,this._onApiAnalyticsAdStart,this),this._channel.on(x,this._onApiVideoLoad,this),this._channel.on(F,this._onApiVideoUnload,this),this._channel.on(B,this._onApiVideoStart,this),this._channel.on(Y,this._onApiVideoComplete,this),this._channel.on(H,this._onApiVideoResume,this),this._channel.on(G,this._onApiAdStart,this),this._channel.on(K,this._onApiAdComplete,this),this._channel.on(q,this._onApiPlay,this),this._channel.on(W,this._onApiPause,this),this._channel.on(j,this._onApiBufferStart,this),this._channel.on(X,this._onApiSeekStart,this),this._channel.on(z,this._onApiSeekComplete,this),this._channel.on(Q,this._onApiChapterStart,this),this._channel.on(J,this._onApiChapterComplete,this),this._channel.on(ee,this._onApiBitrateChange,this),this._channel.on(Z,this._onApiTrackError,this),this._channel.on($,this._onApiTrackInternalError,this),this._channel.on(te,this._onApiQuantumEnd,this),this._channel.on(ie,this._onNetworkCheckStatusComplete,this),this._channel.on(b,this._onResetSessionId,this),this._channel.reply(D,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},a.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},a.prototype._resetInternalState=function(){this._logger.debug(I,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new g,this._qosData=new f,this._sessionData=new l,this._assetData=new h,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null,this._lastInBandItem=null},a.prototype._generateSessionId=function(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())},a.prototype._updateQoSInfo=function(e){this._qosData.bitrate(e.bitrate||0),this._qosData.fps(e.fps||0),this._qosData.droppedFrames(e.droppedFrames||0),null==e.startupTime||isNaN(e.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(e.startupTime),this._qosData.isStartupTimeOverridden=!0)},a.prototype._checkCall=function(e){return this._isTrackingSessionActive?!this._isVideoComplete||(this._logger.warn(I,"#"+e+"() > The video content already completed."),!1):(this._logger.warn(I,"#"+e+"() > No active tracking session."),!1)},a.prototype._updateLastInBandItem=function(e){var t=(new Date).getTime(),n=1e3*Math.abs(e.eventData.playhead()-this._lastInBandItem.eventData.playhead()),i=Math.abs(t-this._lastInBandItem.eventData.ts());this._lastInBandItem.eventData.type()!=p.EVENT_TYPE_PAUSE&&this._lastInBandItem.eventData.type()!=p.EVENT_TYPE_STALL?(i*ae>=n||this._doNotOverrideEventDuration)&&i<=this._reportingInterval*ae*1e3?this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()):(this._logger.warn(I,"[WARNING] Resetting duration in lastInBandItem to 0. playheadDelta:"+n+" tsDelta:"+i+" event type:"+this._lastInBandItem.eventData.type()),this._lastInBandItem.eventData.duration(0)):this._lastInBandItem.eventData.duration(t-this._lastInBandItem.eventData.ts()),this._doNotOverrideEventDuration&&(this._doNotOverrideEventDuration=!1),this._lastInBandItem.eventData.ts(t),this._lastInBandItem.eventData.playhead(e.eventData.playhead()),this._lastInBandItem.qosData.startupTime(e.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=e.qosData.isStartupTimeOverridden},a.prototype._sendHit=function(e){function t(e){var t=n._reportFactory.createReportForItem(e);t.qosData.isStartupTimeOverridden||t.qosData.startupTime(n._autoComputedStartupTime);var a={};a[L]=t,n._channel.trigger(new s(ne,a)),(t.eventData.type()==p.EVENT_TYPE_PLAY||t.eventData.type()==p.EVENT_TYPE_BUFFER||t.eventData.type()==p.EVENT_TYPE_START)&&(i={},i[M]=!0,n._channel.command(C,i))}var n=this,i={};switch(e.eventData.type()){case p.EVENT_TYPE_START:case p.EVENT_TYPE_PLAY:case p.EVENT_TYPE_PAUSE:case p.EVENT_TYPE_STALL:case p.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._updateLastInBandItem(e),this._lastInBandItem.eventData.type()==p.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==h.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),e!=this._lastInBandItem&&t(this._lastInBandItem)),t(e),this._lastInBandItem=e,(i={})[M]=!0,this._channel.command(C,i);break;case p.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(e.assetData.type()==h.TYPE_AD&&(this._doNotOverrideEventDuration=!0),this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),e.assetData.type()==h.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,i={},i[M]=!0,this._channel.command(P,i)):e.assetData.type()==h.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(h.TYPE_MAIN_CONTENT),this._doNotOverrideEventDuration=!0);break;case p.EVENT_TYPE_CHAPTER_START:case p.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._updateLastInBandItem(e),t(this._lastInBandItem)),t(e),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(e.eventData.type()==p.EVENT_TYPE_CHAPTER_START?new m(e.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),t(this._lastInBandItem));break;default:t(e)}};var I="ah::Context",S="sourceErrorSDK",y="error",C="clock:reporting.resume",P="clock:reporting.pause",R="reporting_interval",D="session_id",b="reset_session_id",N="callback",O="filter_report",L="report",M="reset",w="track_external_errors",k="reporting_interval",V="api:aa_start",U="api:aa_ad_start",x="api:video_load",F="api:video_unload",B="api:video_start",Y="api:video_complete",H="api:video_resume",G="api:ad_start",K="api:ad_complete",q="api:play",W="api:pause",j="api:buffer_start",X="api:seek_start",z="api:seek_complete",Q="api:chapter_start",J="api:chapter_complete",Z="api:track_error",$="api:track_internal_error",ee="api:bitrate_change",te="api:quantum_end",ne="context:report_available",ie="net:check_status_complete",ae=1.5,re=10;i.context.Context=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";function t(e,t){this.trackingServer=e,this.publisher=t,this.ssl=!1,this.ovp=n,this.sdk=n,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var n="unknown";e.AdobeHeartbeatPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeHeartbeatPluginDelegate=t}(t),function(e,t,n){"use strict";function i(e){i.__super__.constructor.call(this,f),this._radio=new l(this._logger),this._channel=this._radio.channel(y),this._delegate=e,this._context=new u(this._channel,this._logger),this._filter=new _(this._channel,this._logger),this._network=new p(this._channel,this._logger),this._setupDataResolver()}var a=e.Event,r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Radio,d=t.ErrorInfo,c=t.Version,u=n.context.Context,_=n.filter.ReportFilter,p=n.network.Network,h=n.clock.Clock,g=n.AdobeHeartbeatPluginConfig;e.extend(i,o),i.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var t=this._config.trackingServer+"/settings/",n={};n[$]=this._config.trackingServer,n[ee]=t,n[te]=this._config.publisher,n[ne]=this._config.quietMode,n[ie]=this._config.ssl,this._channel.trigger(new a(se,n)),this._isConfigured=!0},i.prototype.bootstrap=function(e){i.__super__.bootstrap.call(this,e),this._channel.on(C,this._onError,this),this._clock=new h(this._pluginManager,this._channel,this._logger),this._channel.command(De),this._channel.trigger(new a(ke)),this._registerCommands(),this._registerBehaviours()},i.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},i.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):i.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},i.prototype._cmdAnalyticsError=function(e){this._errorInfo||(this._errorInfo=new d("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(C,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},i.prototype._cmdAnalyticsStart=function(e){if(this._canProcess()){var t={};t[ae]=e.visitorOptedOut,this._channel.trigger(new a(le,t)),this._channel.trigger(new a(re,e))}},i.prototype._cmdAnalyticsAdStart=function(e){this._canProcess()&&this._channel.trigger(new a(oe,e))},i.prototype._cmdVideoLoad=function(e){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new a(ce,e)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._isVideoIdle=!1,this._filter.clear(),this._channel.trigger(new a(de,e)),this._isTrackingSessionActive=!0)},i.prototype._cmdVideoUnload=function(e){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new a(ce,e)),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._isTrackingSessionActive=!1)},i.prototype._cmdVideoStart=function(e){this._canProcess()&&this._channel.trigger(new a(ue,e))},i.prototype._cmdVideoComplete=function(e){this._canProcess()&&this._channel.trigger(new a(_e,e))},i.prototype._cmdVideoResume=function(e){this._canProcess()&&this._channel.trigger(new a(pe,e))},i.prototype._cmdPlay=function(e){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdPause=function(e){this._canProcess()&&(this._channel.trigger(new a(Ee,e)),this._isPaused=!0,this._runIdleTimer(!0))},i.prototype._cmdAdStart=function(e){this._canProcess()&&(this._channel.trigger(new a(he,e)),this._resumePlaybackIfPossible(e))},i.prototype._cmdAdComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(ge,e)),e.isInAdBreak||this._resumePlaybackIfPossible(e))},i.prototype._cmdBufferStart=function(e){this._canProcess()&&(this._channel.trigger(new a(me,e)),this._isBuffering=!0,this._runIdleTimer(!0))},i.prototype._cmdBufferComplete=function(e){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdSeekStart=function(e){this._canProcess()&&(this._channel.trigger(new a(Te,e)),this._channel.trigger(new a(Ee,e)),this._isSeeking=!0,this._runIdleTimer(!0))},i.prototype._cmdSeekComplete=function(e){this._canProcess()&&(this._channel.trigger(new a(Ae,e)),this._isSeeking=!1,this._resumePlaybackIfPossible(e))},i.prototype._cmdChapterStart=function(e){this._canProcess()&&this._channel.trigger(new a(ve,e))},i.prototype._cmdChapterComplete=function(e){this._canProcess()&&this._channel.trigger(new a(Ie,e))},i.prototype._cmdBitrateChange=function(e){this._canProcess()&&this._channel.trigger(new a(Ce,e))},i.prototype._cmdTrackError=function(e){this._canProcess()&&this._channel.trigger(new a(Se,e))},i.prototype._cmdClockReportingTick=function(e){this._canProcess()&&this._channel.trigger(new a(Pe,e))},i.prototype._cmdIdleTick=function(e){this._canProcess()&&(this._isVideoIdle=!0,this._trigger(j),this._filter.flush(),this._runReportingTimer(!1),this._runFlushFilterTimer(!1),this._runIdleTimer(!1),this._trigger(q))},i.prototype._onError=function(e){this._errorInfo=e.data;var t={};t[J]=Re,t[Z]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new a(ye,t)),this._runReportingTimer(!1),this._trigger(C,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},i.prototype._runIdleTimer=function(e){var t={};t[Q]=!0,e?this._channel.command(Me,t):this._channel.command(we,t)},i.prototype._runFlushFilterTimer=function(e){var t={};t[Q]=!0,e?this._channel.command(Oe,t):this._channel.command(Le,t)},i.prototype._runReportingTimer=function(e){var t={};t[Q]=!0,e?this._channel.command(be,t):this._channel.command(Ne,t)},i.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handleVideoResume",this._cmdVideoResume),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick),this._pluginManager.comply(this,"handleIdleTick",this._cmdIdleTick)},i.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(T,D),this,"handleVideoLoad",[new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer")]),this._pluginManager.registerBehaviour(new r(T,b),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new r(T,N),this,"handleVideoStart",[new s(T,"video.id","videoId"),new s(T,"video.name","videoName"),new s(T,"video.length","videoLength"),new s(T,"video.playhead","playhead"),new s(T,"video.playerName","playerName"),new s(T,"video.streamType","streamType"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"rsid","rsid"),new s(m,"tracking_server","trackingServer"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"ssl","useSsl"),new s(A,"meta","metaNielsen"),new s(E,"publisher","publisher"),new s(E,"sdk","sdk"),new s(E,"ovp","ovp"),new s(E,"version","version"),new s(E,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new r(T,L),this,"handleVideoComplete",[new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,O),this,"handleVideoResume",[new s(T,"video.id","videoId"),new s(T,"video.name","videoName"),new s(T,"video.length","videoLength"),new s(T,"video.playhead","playhead"),new s(T,"video.playerName","playerName"),new s(T,"video.streamType","streamType")]),this._pluginManager.registerBehaviour(new r(T,M),this,"handlePlay",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,w),this,"handlePause",[new s(T,"video.playhead","playhead"),new s(T,"video.playheadStalled","playheadStalled"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,k),this,"handleAdStart",[new s(T,"video.playhead","playhead"),new s(T,"ad.id","adId"),new s(T,"ad.name","adName"),new s(T,"ad.length","adLength"),new s(T,"ad.position","adPosition"),new s(T,"pod.name","podName"),new s(T,"pod.playerName","podPlayerName"),new s(T,"pod.position","podPosition"),new s(T,"pod.startTime","podSecond"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(T,V),this,"handleAdComplete",[new s(T,"video.playhead","playhead"),new s(T,"ad.isInAdBreak","isInAdBreak"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,U),this,"handleBufferStart",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,x),this,"handleBufferComplete",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,F),this,"handleSeekStart",[new s(T,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new r(T,B),this,"handleSeekComplete",[new s(T,"video.playhead","playhead"),new s(T,"ad.isInAd","isInAd"),new s(T,"ad.id","adId"),new s(T,"ad.position","adPosition"),new s(T,"pod.playerName","podPlayerName"),new s(T,"pod.position","podPosition"),new s(T,"chapter.isInChapter","isInChapter"),new s(T,"chapter.position","chapterPosition"),new s(T,"chapter.name","chapterName"),new s(T,"chapter.length","chapterLength"),new s(T,"chapter.startTime","chapterOffset"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,Y),this,"handleChapterStart",[new s(T,"video.playhead","playhead"),new s(T,"chapter.position","chapterPosition"),new s(T,"chapter.name","chapterName"),new s(T,"chapter.length","chapterLength"),new s(T,"chapter.startTime","chapterOffset"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.chapter.*","metaChapter"),new s(A,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(T,H),this,"handleChapterComplete",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,G),this,"handleBitrateChange",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(T,K),this,"handleTrackError"),this._pluginManager.registerBehaviour(new r(v,X),this,"handleClockReportingTick",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(v,z),this,"handleIdleTick",[]),this._pluginManager.registerBehaviour(new r(E,j),this,"handleClockReportingTick",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,C),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new r(m,P),this,"handleAnalyticsStart",[new s(m,"vid","vid"),new s(m,"aid","aid"),new s(m,"mid","mid"),new s(m,"customerIDs","customerIDs"),new s(m,"visitorOptedOut","visitorOptedOut"),new s(m,"blob","blob"),new s(m,"loc_hint","loc_hint"),new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new r(m,R),this,"handleAnalyticsAdStart",[new s(T,"video.playhead","playhead"),new s(T,"qos.fps","fps"),new s(T,"qos.droppedFrames","droppedFrames"),new s(T,"qos.bitrate","bitrate"),new s(T,"qos.startupTime","startupTime")])},i.prototype._setupDataResolver=function(){var e={},t=this;e.version=function(){return c.getVersion()},e.api_level=function(){return c.getApiLevel()},e.tracking_server=function(){return t._config?t._config.trackingServer:null},e.publisher=function(){return t._config?t._config.publisher:null},e.quiet_mode=function(){return!!t._config&&t._config.quietMode},e.ovp=function(){return t._config?t._config.ovp:null},e.sdk=function(){return t._config?t._config.sdk:null},e.is_primetime=function(){return!!t._config&&t._config.__isPrimetime},e.psdk_version=function(){return t._config?t._config.__psdkVersion:null},e.session_id=function(){return t._channel.request(I)},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];(n=n||{})[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},i.prototype._resumePlaybackIfPossible=function(e){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||(this._isVideoIdle&&(this._isVideoIdle=!1,this._resumePlaybackFromIdle()),this._runIdleTimer(!1),this._channel.trigger(new a(fe,e)))},i.prototype._resumePlaybackFromIdle=function(){this._trigger(j),this._filter.clear(),this._channel.trigger(new a(S)),this._trigger(W),this._runReportingTimer(!0),this._runFlushFilterTimer(!0)};var f="adobe-heartbeat",E=f,m="adobe-analytics",T="player",A="nielsen",v="service.clock",I="session_id",S="reset_session_id",y="heartbeat-channel",C="error",P="aa_start",R="sc_ad_start",D="video_load",b="video_unload",N="video_start",O="video_resume",L="video_complete",M="play",w="pause",k="ad_start",V="ad_complete",U="buffer_start",x="buffer_complete",F="seek_start",B="seek_complete",Y="chapter_start",H="chapter_complete",G="bitrate_change",K="track_error",q="video_idle_start",W="video_idle_resume",j="quantum_close",X="heartbeat.reporting"+".tick",z="heartbeat.idle"+".tick",Q="reset",J="source",Z="error_id",$="tracking_server",ee="check_status_server",te="publisher",ne="quiet_mode",ie="ssl",ae="visitor_opt_out",re="api:aa_start",oe="api:aa_ad_start",se="api:config",le="api:update_visitor_optout",de="api:video_load",ce="api:video_unload",ue="api:video_start",_e="api:video_complete",pe="api:video_resume",he="api:ad_start",ge="api:ad_complete",fe="api:play",Ee="api:pause",me="api:buffer_start",Te="api:seek_start",Ae="api:seek_complete",ve="api:chapter_start",Ie="api:chapter_complete",Se="api:track_error",ye="api:track_internal_error",Ce="api:bitrate_change",Pe="api:quantum_end",Re="sourceErrorHeartbeat",De="clock:check_status.resume",be="clock:reporting.resume",Ne="clock:reporting.pause",Oe="clock:flush_filter.resume",Le="clock:flush_filter.pause",Me="clock:idle.resume",we="clock:idle.pause",ke="clock:check_status.get_settings";n.AdobeHeartbeatPlugin=i}(e.ADB.core,e.ADB.va,t),e.ADB.va.plugins.ah||(e.ADB.va.plugins.ah=t)}(this),function(e){if(void 0===t)var t={};!function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}var i=e.ErrorInfo;n.prototype.validateFields=function(e,t){if(!e)return this._fail("Data cannot be null");if(t)for(var n=0;n<t.length;n++){var i=t[n];switch(i){case"videoId":if(!e.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof e.videoId)return this._fail("The ID for the main video must be a String.");if(""===e.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!e.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof e.streamType)return this._fail("The stream type for the main video must be a String.");if(""===e.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!e.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof e.playerName)return this._fail("The player name for the main video must be a String.");if(""===e.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!e.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof e.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(e.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!e.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof e.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===e.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!e.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof e.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(e.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!e.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof e.adId)return this._fail("The ad ID must be a String.");if(""===e.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!e.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof e.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(e.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!e.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof e.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(e.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+i)}}return!0},n.prototype._fail=function(e){var t=new i("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,t),!1},t.InputDataValidator=n}(e.ADB.va,t),function(e){"use strict";function t(){this.channel=n,this.debugLogging=!1}var n="";e.AdobeAnalyticsPluginConfig=t}(t),function(e){"use strict";function t(){}t.prototype.onError=function(e){},e.AdobeAnalyticsPluginDelegate=t}(t),function(e,t,n,i){"use strict";function a(e,t){if(a.__super__.constructor.call(this,E),!e)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=e,this._delegate=t,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new c(!0,I),this._inputDataValidator=new f(function(e){this._errorInfo=e,this._logger.error(this._logTag,e.getMessage()+" | "+e.getDetails());var t=this;setTimeout(function(){t._trigger(S,e),t._delegate&&t._delegate.onError(t._errorInfo)},0)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var r=e.Trigger,o=e.plugin.BasePlugin,s=e.plugin.ParamMapping,l=e.radio.Channel,d=e.radio.Command,c=e.radio.CommandQueue,u=t.ErrorInfo,_=n.md5,p=n.StringUtils,h=n.ObjectUtils,g=i.AdobeAnalyticsPluginConfig,f=i.InputDataValidator;e.extend(a,o),a.prototype.configure=function(e){if(!e)throw new Error("Reference to the configuration data cannot be NULL.");if(!(e instanceof g))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=e,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},a.prototype.bootstrap=function(e){a.__super__.bootstrap.call(this,e),this._registerCommands(),this._registerBehaviours()},a.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),a.__super__.setup.call(this)},a.prototype.setVideoMetadata=function(e){this._videoMetadata=h.clone(e)},a.prototype.setAdMetadata=function(e){this._adMetadata=h.clone(e)},a.prototype.setChapterMetadata=function(e){this._chapterMetadata=h.clone(e)},a.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):a.__super__._canProcess.call(this)},a.prototype._cmdVideoLoad=function(e){this._errorInfo=null},a.prototype._cmdVideoStart=function(e){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new d(this._executeOpen,this,[e]))},a.prototype._cmdAdStart=function(e){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new d(this._executeOpenAd,this,[e]))},a.prototype._cmdHeartbeatPluginError=function(e){this._errorInfo||(this._errorInfo=new u("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(S,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},a.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var e=0;e<this._customMetaKeys.length;e++){var t=this._customMetaKeys[e];delete this._appMeasurement.contextData[t]}this._customMetaKeys=[]},a.prototype._executeOpen=function(e){if(this._logger.debug(this._logTag,"#_executeOpen(id="+e.videoId+", videoName="+e.videoName+", streamType="+e.streamType+", length="+e.videoLength+", playerName="+e.playerName+", channel="+e.channel+", isPrimetime="+e.isPrimetime+", sessionId="+e.sessionId+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var t in e.metaVideo)e.metaVideo.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaVideo[t],this._customMetaKeys.push(t));if(e.metaNielsen)for(var t in e.metaNielsen)e.metaNielsen.hasOwnProperty(t)&&(this._appMeasurement.contextData[t]=e.metaNielsen[t],this._customMetaKeys.push(t));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.pev3=y,this._appMeasurement.pe=e.isPrimetime?R:P,this._appMeasurement.track();var n=this;setTimeout(function(){n._trigger(N,e)},0)}},a.prototype._executeOpenAd=function(e){var t=_(e.videoId)+"_"+e.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+e.adId+", streamType="+e.streamType+", length="+e.adLength+", podPlayerName="+e.podPlayerName+", parentId="+e.videoId+", podId="+t+", parentPodPosition="+e.adPosition+", podSecond="+e.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(e,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){e.podSecond=null==e.podSecond||isNaN(e.podSecond)?e.playhead:e.podSecond,this._resetAppMeasurementContextData();for(n in e.metaVideo)e.metaVideo.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaVideo[n],this._customMetaKeys.push(n));for(n in e.metaAd)e.metaAd.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaAd[n],this._customMetaKeys.push(n));if(e.metaNielsen)for(var n in e.metaNielsen)e.metaNielsen.hasOwnProperty(n)&&(this._appMeasurement.contextData[n]=e.metaNielsen[n],this._customMetaKeys.push(n));this._appMeasurement.contextData["a.contentType"]=e.streamType,this._appMeasurement.contextData["a.media.name"]=e.videoId,this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=e.channel||"",this._appMeasurement.contextData["a.media.vsid"]=e.sessionId,this._appMeasurement.contextData["a.media.friendlyName"]=e.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.videoLength)||"0.0",this._appMeasurement.contextData["a.media.ad.name"]=e.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=e.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=e.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(e.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=e.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=t,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(e.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(e.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=C,this._appMeasurement.pe=e.isPrimetime?b:D,this._appMeasurement.track();var i=this;setTimeout(function(){i._trigger(O,e)},0)}},a.prototype._setupDataResolver=function(){var e={},t=this;e.rsid=function(){return t._appMeasurement.account},e.tracking_server=function(){return t._appMeasurement.ssl&&t._appMeasurement.trackingServerSecure?t._appMeasurement.trackingServerSecure:t._appMeasurement.trackingServer},e.ssl=function(){return t._appMeasurement.ssl},e.vid=function(){return t._appMeasurement.visitorID},e.aid=function(){return t._appMeasurement.analyticsVisitorID},e.mid=function(){return t._appMeasurement.marketingCloudVisitorID},e.blob=function(){return t._appMeasurement.audienceManagerBlob},e.loc_hint=function(){return t._appMeasurement.audienceManagerLocationHint?parseInt(t._appMeasurement.audienceManagerLocationHint):""},e.customerIDs=function(){var e=t._appMeasurement.visitor.getCustomerIDs(),n={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if("object"==typeof a){for(var r in a)a.hasOwnProperty(r)&&("authState"==r?n[i+".as"]=a[r]:n[i+"."+r]=a[r]);n[i+".as"]||(n[i+".as"]="0")}}return n},e.channel=function(){return t._config?t._config.channel:null},e.meta=function(e){var n=e.split(".");if(n.length<2)return null;var i=n.shift();switch(e=n.join("."),i){case"video":return e==l.WILDCARD?t._videoMetadata:t._videoMetadata[e];case"ad":return e==l.WILDCARD?t._adMetadata:t._adMetadata[e];case"chapter":return e==l.WILDCARD?t._chapterMetadata:t._chapterMetadata[e];default:return null}},e.visitorOptedOut=function(){return void 0!=t._appMeasurement.visitorOptedOut&&t._appMeasurement.visitorOptedOut},this._dataResolver=function(t){if(!t||0==t.length)return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];n=n||{},p.startsWith(a,"meta.")?n[a]=e.meta(a.split("meta.")[1]):n[a]=e.hasOwnProperty(a)?e[a].call(this):null}return n}},a.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},a.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new r(A,L),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new r(A,M),this,"handleVideoStart",[new s(A,"video.id","videoId"),new s(A,"video.streamType","streamType"),new s(A,"video.name","videoName"),new s(A,"video.length","videoLength"),new s(A,"video.playerName","playerName"),new s(A,"video.streamType","streamType"),new s(v,"is_primetime","isPrimetime"),new s(v,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(T,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(A,w),this,"handleAdStart",[new s(A,"video.id","videoId"),new s(A,"video.streamType","streamType"),new s(A,"video.playhead","playhead"),new s(A,"video.playerName","playerName"),new s(A,"video.name","videoName"),new s(A,"video.length","videoLength"),new s(A,"ad.id","adId"),new s(A,"ad.length","adLength"),new s(A,"ad.position","adPosition"),new s(A,"ad.name","adName"),new s(A,"pod.name","podName"),new s(A,"pod.position","podPosition"),new s(A,"pod.playerName","podPlayerName"),new s(A,"pod.startTime","podSecond"),new s(v,"is_primetime","isPrimetime"),new s(v,"session_id","sessionId"),new s(m,"channel","channel"),new s(m,"meta.video.*","metaVideo"),new s(m,"meta.ad.*","metaAd"),new s(T,"meta","metaNielsen")]),this._pluginManager.registerBehaviour(new r(v,S),this,"handleHeartbeatPluginError")},a.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var E="adobe-analytics",m=E,T="nielsen",A="player",v="adobe-heartbeat",I=2e3,S="error",y="video",C="videoAd",P="ms_s",R="msp_s",D="msa_s",b="mspa_s",N="aa_start",O="sc_ad_start",L="video_load",M="video_start",w="ad_start";i.AdobeAnalyticsPlugin=a}(e.ADB.core,e.ADB.va,e.ADB.va.utils,t),function(e){"use strict";var t={SHOW:"a.media.show",SEASON:"a.media.season",EPISODE:"a.media.episode",ASSET_ID:"a.media.asset",GENRE:"a.media.genre",FIRST_AIR_DATE:"a.media.airDate",FIRST_DIGITAL_DATE:"a.media.digitalDate",RATING:"a.media.rating",ORIGINATOR:"a.media.originator",NETWORK:"a.media.network",SHOW_TYPE:"a.media.type",AD_LOAD:"a.media.adLoad",MVPD:"a.media.pass.mvpd",AUTHORIZED:"a.media.pass.auth",DAY_PART:"a.media.dayPart",FEED:"a.media.feed",STREAM_FORMAT:"a.media.format"},n={ADVERTISER:"a.media.ad.advertiser",CAMPAIGN_ID:"a.media.ad.campaign",CREATIVE_ID:"a.media.ad.creative",PLACEMENT_ID:"a.media.ad.placement",SITE_ID:"a.media.ad.site",CREATIVE_URL:"a.media.ad.creativeURL"};e.VideoMetadataKeys=t,e.AdMetadataKeys=n}(t),e.ADB.va.plugins.aa||(e.ADB.va.plugins.aa=t)}(this)},Visitor.getInstance=function(e,t){var n,i,a=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),a)for(i=0;i<a.length;i++)if((n=a[i])&&"Visitor"==n._c&&n.marketingCloudOrgID==e)return n;return new Visitor(e,t)},function(){function e(){t.$=n}var t=window.Visitor,n=t.Ta,i=t.Qa;n||(n=!0),i||(i=!1),window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e),t.kb=(new Date).getTime()}(),function(e){e.Bento=e.Bento||{}}(window),function(e){function t(){function t(){return Lt(o+"loading ima js sdk from: "+e.IMAVars.SDK_URL),ii.loadScript({url:e.IMAVars.SDK_URL,onLoad:function(){e.onImaJsSdkLoaded()},onError:function(){e.onImaJsSdkLoadError()}}),ut}function n(){return ri.sendGETRequest({url:sn})}function i(e,t,n){var i=ct,a=t&&t+s||s,d=ii.createElement,c={type:"application/x-shockwave-flash",id:a,name:a,align:"middle",data:sn,width:"0",height:"0",style:"position:absolute; visibility:hidden;"},u=[{name:"quality",value:"high"},{name:"scale",value:"noborder"},{name:"wmode",value:"transparent"},{name:"allowscriptaccess",value:"always"},{name:"allowfullscreen",value:"true"},{name:"FlashVars",value:"playerId="+t+"&adType="+n+(Ot()?"&logCallback=LOG&errorCallback=ERROR":"")}],_=u.length,p=d(at,c),h=Gt(e)?document.getElementById(e):e,g=r(h,l);for(Lt(o+"loading ad bridge from: "+sn);_--;)p.appendChild(d("param",u[_]));return(i=document.getElementById(a))&&i.parentNode.removeChild(i),g?g.parentNode.replaceChild(p,g):h&&h.appendChild(p),a}function a(e){var t=document.getElementById(e),n=document.getElementById(d.FW_BRIDGE_PLACEHOLDER_ID);n||(n=ii.createElement("div",{id:d.FW_BRIDGE_PLACEHOLDER_ID})),t&&t.parentNode.replaceChild(n,t)}function r(e,t){var n=ct,i=[];if(e){if((n=e.getElementsByClassName(t))&&n.length>0)return n[0];i=e.childNodes;for(var a in i)if(i[a]&&i[a].id&&i[a].id===t)return i[a]}}var o=it+"AdSdkLoader ",s=e.AdVars.AD_BRIDGE_ID,l=e.AdVars.AD_PLACE_HOLDER_ID,d=e.FreewheelVars;return this.loadFWJsSdk=pt,this.getAdBridgePlaceholder=r,this.loadAdBridgeSwf=i,this.preloadAdBridgeSwf=n,this.replaceAdBridgeWithPlaceholderDiv=a,this.loadImaJsSdk=t,this}function n(){function t(e){var t=(window.location!==window.parent.location?document.referrer:window.top.document.location.href)||e.ref||"",n=ci.queryStringToObject(t.toLowerCase());return Gt(n[o.DEBUG_MODE])&&Jt(n[o.DEBUG_MODE])&&Gt(n[o.TSLA])?n[o.TSLA]:e.timeSinceLastAd}function n(e){var t=+ni.getLocalStorage(r.VIDEO_PLAYED_TIME),n=+Zn.getTSLATime(e);return qt(t)&&(t*=1e3),qt(n)||(n=0),0>=n||!qt(t)||0===t||t>n?ut:_t}function i(){var e=ni.getLocalStorage(r.LAST_PLAYTIME_CODE),t=new Date;(t=Math.round(t.getTime()/1e3))-e==1&&ni.setLocalStorage(r.VIDEO_PLAYED_TIME,parseInt(ni.getLocalStorage(r.VIDEO_PLAYED_TIME))+1),ni.setLocalStorage(r.LAST_PLAYTIME_CODE,t)}function a(t,n,i,a){var r=e.FreewheelVars;return 0!==t.currentIndex&&!n||t.hasContentEnd!==_t?t.currentIndex+1===i&&t.hasContentEnd===ut&&(1>=a||Ft(a))?r.POSTROLL:0!==t.currentIndex&&t.hasContentEnd===_t?r.MIDROLL:_t:r.PREROLL}var r=e.AdVars,o=e.FreewheelVars;return this.getTSLATime=t,this.isTimeSinceLastAdElapsed=n,this.persistVideoPlayedTime=i,this.getAdType=a,this}function i(){function e(e){for(var t,n=e.length;n--;)(t=e.indexOf(e[n]))!==n&&e.splice(t,1);return e}function t(e,t){zt(e,t)||e.push(t)}function n(e,t){return jt(e[t])||(e[t]=[]),e[t]}function i(e,t){for(;zt(e,t);)e.splice(e.indexOf(t),1)}return this.getOrCreateArray=n,this.pushIfAbsent=t,this.filterDuplicates=e,this.removeValue=i,this}function a(){this.everyInstance=[],this.by={last:{}}}function r(){function t(){return this.setupOmnitureInstance(),this.getOmnitureDayOfTheWeek()}function n(){return this.setupOmnitureInstance(),this.getOmnitureTimeWithAbbreviation()}function i(){c=window.AppMeasurement.getInstance(e.Config.omnitureAccount),this.getOmnitureDayOfTheWeek=a,this.getOmnitureTimeWithAbbreviation=r}function a(){return c.getTimeParting("d",-5)}function r(){return c.getTimeParting("h",-5)}function o(){return u[(new Date).getDay()]}function s(){return(new Date).toLocaleTimeString().replace(/:\d+ /,"")}function l(){return(new Date).toISOString().slice(0,-1)+" GMT"}function d(e){return new Date(e.slice(0,-4)+"Z")}var c,u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return this.getDayOfTheWeek=o,this.getTimeWithAbbreviation=s,this.getDateInISOFormat=l,this.getDateFromISOFormat=d,this.getOmnitureDayOfTheWeek=t,this.getOmnitureTimeWithAbbreviation=n,this.setupOmnitureInstance=i,this}function o(){function e(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}function t(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}function n(n){if(!n||!n.getBoundingClientRect)return ut;var i=ut,a=n.getBoundingClientRect(),r=e(),o=t();return r>0&&o>0&&(i=a.bottom>=0&&a.right>=0&&a.top<r&&a.left<o),i}function i(e){if(Gt(e.url))try{var t=document.createElement("script");return t.setAttribute("type","text/javascript"),t.setAttribute("src",e.url),e.hasOwnProperty("async")&&Wt(e.async)&&t.setAttribute("async",e.async),e.hasOwnProperty("onLoad")&&typeof e.onLoad===rt&&(t.onload=t.onreadystatechange=e.onLoad),e.hasOwnProperty("onError")&&typeof e.onError===rt&&(t.onerror=e.onError),e.hasOwnProperty("isAppendToBody")&&e.isAppendToBody?document.getElementsByTagName("body")[0].appendChild(t):document.getElementsByTagName("head")[0].appendChild(t),t}catch(t){Mt(r,"loadScript failed url: ",e.url+" Error: ",t)}}function a(e,t){var n,i=ct;if(!Gt(e))return Mt(r,"First argument supplied to createElement was not a string, null element returned."),ct;if(i=document.createElement(e),xt(t))for(n in t)t.hasOwnProperty(n)&&i.setAttribute(n,t[n]);return i}var r=it+"BentoDOMUtility";return this.isElementVisible=n,this.loadScript=i,this.createElement=a,this.getContentVisibleHeight=e,this.getContentVisibleWidth=t,this}function s(){function t(e,t){for(var n,i=e.split(/[&|=]/g),a="",r=i.length;r--;)n=i[r],n=decodeURIComponent(n),n=ci.sanitize(n,t),n=encodeURIComponent(n),n=(r%2?vt:ft)+n,a=n+a;return a.slice(1)}function n(n){var o=e.IMAVars.VIDEO_TAG_URL,s=ci.queryStringToObject(kn),l=[r.ENVIRONMENT,r.DFP_SCHEMA,r.REQUEST_MODE,r.POSITION_START,r.VMAP_FORMAT,r.LANGUAGE_EN,r.FOLLOW_NETWORK_RULES,r.URL_KEY_MACRO],d=n.playerConfig,c=e.Config.imaAdUnit?e.Config.imaAdUnit:"money_test",u=ct,_=ct,p=_t,h=ct;if(xt(d)){if(Gt(d.adLocationID)&&(c=d.adLocationID),_=pi.getMostRecentStatus(d),Gt(_.hash)&&(h=_.hash,p=_.authRequired),u=r.AUTHORIZATION_REQUIRED+vt+p,kt(h)||(u+=ft+r.AUTHENTICATING_ENTITY+vt+ci.sanitize(h)),Vt(d.embedVars)){var g=d.embedVars;Gt(g.locationPath)&&(c=g.locationPath),l.push(r.CORRELATOR_KEY+Kt(g.correlator,r.CORRELATOR_MACRO)),Gt(g.custParams)&&(u+=ft+t(g.custParams))}if(Gt(s[r.OVERRIDE_CUST_PARAMS])&&(u+=ft+r.OVERRIDE_CUST_PARAMS+vt+ci.sanitize(s[r.OVERRIDE_CUST_PARAMS])),Gt(d.adKeyValues)&&(u+=ft+t(d.adKeyValues)),Bt(n.currentItemIndex)&&xt(d.feed.items[n.currentItemIndex].rss.group)&&Gt(d.feed.items[n.currentItemIndex].rss.group.category.franchise)){var f=d.feed.items[n.currentItemIndex].rss.group.category.franchise,E=r.EXCLUSION_CATEGORIES+ci.sanitize(f);if(d.requiresCoppaCompliance){var m=ni.getLocalStorage(r.LAST_ITEM_FRANCHISE);kt(m)||m===f||(E+=Et+ci.sanitize(m))}ni.setLocalStorage(r.LAST_ITEM_FRANCHISE,f),Ht(u+=ft+E,r.EXCLUSION_CATEGORIES)&&(u=i(u))}l.push(r.CUST_PARAMS_KEY+encodeURIComponent(u)),l.push(r.DESCRIPTION_URL_KEY+encodeURIComponent(Kt(n.playerConfig.ref,kn)))}if(Gt(s[r.OVERRIDE_CMS_ID])?l.push(r.CMS_ID_KEY+s[r.OVERRIDE_CMS_ID]):xt(d)&&Gt(d.imaCmsID)?l.push(r.CMS_ID_KEY+d.imaCmsID):xt(e.Config)&&Gt(e.Config.imaCmsID)&&l.push(r.CMS_ID_KEY+e.Config.imaCmsID),Gt(s[r.OVERRIDE_AD_UNIT_ID])?l.push(r.AD_UNIT_KEY+gt+s[r.OVERRIDE_AD_UNIT_ID]):xt(d)&&Gt(d.imaNetworkID)?l.push(r.AD_UNIT_KEY+gt+d.imaNetworkID+(c?gt+c:"")):xt(e.Config)&&Gt(e.Config.imaNetworkID)&&l.push(r.AD_UNIT_KEY+gt+e.Config.imaNetworkID+(c?gt+c:"")),Gt(s[r.OVERRIDE_VIDEO_ID])||Gt(s[r.VIDEO_ID_KEY])){var T=s[r.OVERRIDE_VIDEO_ID]||s[r.VIDEO_ID_KEY];l.push([r.VIDEO_ID_KEY,T].join(vt))}else xt(n.contentInfo)&&Gt(n.contentInfo.videoId)&&l.push([r.VIDEO_ID_KEY,n.contentInfo.videoId].join(vt));if(xt(d)&&d.requiresCoppaCompliance&&l.push(r.CHILD_DIRECTED_TREATMENT),n.width&&n.height){var A="640x480";xt(d)&&Gt(d.imaAdSize)?A=d.imaAdSize:xt(e.Config)&&Gt(e.Config.imaAdSize)&&(A=e.Config.imaAdSize),l.push("sz="+A+Pt+n.width+"x"+n.height),"mobile"!==d.networkConnectionType&&n.width>=382&&n.height>=216?l.push("pp=medium"):l.push("pp=small")}return Lt(a+"getAdUrl: ",l),o+l.join(ft)}function i(e){for(var t=r.EXCLUSION_CATEGORIES,n=ut,i=[];n;){var a=e.indexOf(r.EXCLUSION_CATEGORIES),o=0,s=0,l=ht;-1!==a?(o=e.slice(a),s=o.indexOf(ft),l=-1!==s?o.slice(0,s):o,e=e.replace(ft+l,ht),l=l.replace(r.EXCLUSION_CATEGORIES,ht),i.push(l)):n=_t}return Xt(i)||(t+=i.join(Et),e+=ft+t),e}var a=it+"IMAUrlUtility ",r=e.IMAVars;return this.getAdUrl=n,this}function l(){function e(e){return typeof e===ot&&""!==e}function t(e,t,n){t=t||Et,n=n||vt;for(var i,a=e.split(t),r=a.length,o={};r--;)i=a[r].split(n),o[i[0]]=i[1];return o}function n(e,t,n){if(Yt(e)&&qt(t)){if(n){var i=e.lastIndexOf(n);i>0&&(e=e.substr(0,i))}e.length>t&&(e=e.substring(0,t))}return e}function i(e,t){return e&&e.length?e+Et+t:t}function a(e){return e.replace(/^\{|\}$/g,"")}function r(e){for(var t=e.split(","),n=[],i=t.length,a=0;i>a;a++)Gt(t[a])&&n.push("User Segment;"+t[a]);return n.join(",")}function o(e){return Gt(e)?e+Et:e}function s(e,t){for(var n=e.match(/{\w+}/g),i=n?n.length:0,a=0;i>a;a++){var r=n[a],o=r.replace(/{|}/g,""),s="ord"===o?Math.floor(Math.random()*Math.pow(10,"999999".length))%999999:t[o];s&&(e=e.replace(r,s))}return e}function l(e){return e=e.replace(/^\s*|\s*$/gi,"").replace(/^[\/\\]|[\/\\]$/gi,"")}function d(e){var t=/^.*\?/;return ci.toObject((e||Un()).replace(t,""),ft)}function c(e,t,n){var i,a,r="\"'=!+#*~;^()<>[],&";return Gt(n)&&-1!==r.indexOf(n)&&(r=r.replace(n,ht)),$t(t)?a=t:(t=t||r,i="[\\"+t.split("").join("|\\")+"]",a=new RegExp(i,"g")),e.replace(a,"")}return this.isDefined=e,this.toObject=t,this.lengthLimiter=n,this.appendWithComma=i,this.stripToken=a,this.getFormattedUserSegment=r,this.addComma=o,this.replaceTokens=s,this.trimSlashes=l,this.queryStringToObject=d,this.sanitize=c,this}function d(){function e(e){var t="";return Gt(e)?(t=e.replace(/\s+/g,"").toLowerCase(),void(r=window.tve_mvpd_list[t]||"")):(r=t,_t)}function t(){s=_t}function n(t){return s=ut,xt(t.provider)?(a=t.provider.displayName||t.provider.id,o=t.isLoggedIn&&ut||_t,void e(a)):_t}function i(t){var n={},i="",a="",l="",d=ct;return n.hash="",n.loggedIn=_t,n.authRequired=_t,Gt(r)&&!kt(o)&&Jt(s)?(n.hash=r,n.loggedIn=o,n.authRequired=s,n):xt(t)&&xt(t.tve)&&(d=t.tve,s=d.tveAuthRequired||_t,n.authRequired=s,Gt(r)||e(d.tveMvpdName),Gt(r))?(n.hash=r,n.loggedIn=ut,n):(i=ni.getLocalStorage("TVEAuth_CURRENT_PROVIDER_NAME"),a=ni.getLocalStorage("TVEAuth_CURRENT_PROVIDER_ID"),Gt(i)||Gt(a)?(o=ut,n.loggedIn=o,l=i||a,e(l),r?(n.hash=r,n):(n.noValidTVEDataFound=ut,n)):(o=_t,n))}var a="",r="",o=ct,s=_t;return this.storeMostRecentStatus=n,this.getMostRecentStatus=i,this.resetAuthRequirements=t,this}function c(){function t(e){this.onFeedLoaded({player:e,config:e.config,metadata:e.config.feed}),a(e.config)&&e.bento.ready(an())}function n(t){return xt(t)&&Yt(t.id)&&Zt(kt(e.getPlayer(t.id)))}function i(e){return Ft(e)||Jt(e.noBento)}function a(e){return Zt(i(e))}function r(t,n){return Zt(xt(t))?_t:(Lt(this.LOGTAG+"Invoking Bento.onPlayerConfig",t),this.bentoApi=e.addPlayer(n),this.bentoApi[S](t),ut)}function o(e,t){var a;return Zt(xt(e))||n(e.player)||i(e.config)?(Lt(this.LOGTAG+"Feed is not an object | Player is already added | Player is configured with noBento set to true"),_t):(a=JSON.parse(JSON.stringify(e.config)),this.feed=e,Lt(this.LOGTAG+"onFeedLoaded feed",this.feed),this.processPlayerConfig(a,e.player),this.bentoApi[v](e),this.bentoApi)}function s(){return this.feed}function l(){if(!e.addEventToWaitQueueIfDomNotLoaded({callbackObject:d,callback:l})){var t,n,i,a,r=window||r,o=r._edgeplayerFeedLoad||[],s=r.EdgePlayer,c=s&&s.getPlayers&&s.getPlayers();if(r._edgeplayerFeedLoad=o,o.push(this.onFeedLoaded),jt(c))for(t=0;t<c.length;t++)n=c[t],i=n&&n.config,a=i&&i.feed,Bt(a)&&this.feedLoaded(n)}}var d=this;return this.LOGTAG=it+"EpFeedProxy",this.feed=ct,this.bentoApi=ct,this.processPlayerConfig=r,this.onFeedLoaded=o.bind(this),this.feedLoaded=t,this.getFeed=s,this.init=l,this}function u(){function t(e){return qt(e)&&e>-1}function n(){T=1}function i(e){return Gt(e)&&(e+=Et+mt+e,e=document.querySelector(e)),e}function a(){for(var t=/@/g,n=window.vmn_page_data.mappings["ad-unit"],i=Object.keys(n),a="",r="",o="";a=i.shift();)r=n[a].replace(t,""),o+=gt+(window.vmn_page_data.metadata[r]||n[a]);Jt(window.vmn_page_data.metadata.is_main)&&(o+=gt+"home"),e.Config.adUnitDefault=o}function r(){var t=window.vmn_page_data.mappings["exclusion-categories"];return Gt(t)?(Yt(e.Config.adExclusionCategories)||(e.Config.adExclusionCategories=""),-1!==e.Config.adExclusionCategories.indexOf(t)?(Lt(m,"Bento config already contains the exclusion categories from vmn_page_data."),ut):Gt(e.Config.adExclusionCategories)?(e.Config.adExclusionCategories+=Et+t,ut):(e.Config.adExclusionCategories=t,ut)):(Mt(m,"No exclusion categories from vmn_page_data"),_t)}function o(){var t=/@/g,n=window.vmn_page_data.mappings["key-values"]||{},i=[],a={},r="",o="";for(i=Object.keys(n);r=i.pop();)o=n[r].replace(t,ht),a[r]=window.vmn_page_data.metadata[o]||n[r];e.Config.adPageTargeting=a,xt(window.MTVN)&&xt(window.MTVN.config)&&xt(window.MTVN.config.projectX)&&window.MTVN.config.projectX.phase&&window.MTVN.config.projectX.targetVal&&(Lt(m,"Adding phase and target values to page-level targeting."),e.Config.adPageTargeting.px_phase=window.MTVN.config.projectX.phase.toString(),e.Config.adPageTargeting.px_target=window.MTVN.config.projectX.targetVal.toString())}function s(){var n=window.vmn_page_data.settings,i=n.reload_interval,a=n.reload,r=n.slots;return t(e.Config.adRefreshRate)?(Lt(m,"Ad refresh rate has been set in Bento, using this refresh rate."),_t):!jt(r)&&qt(i)&&Jt(a)?(e.Config.adRefreshRate=i,ut):(Lt(m,"No global refresh rate enabled in legacy configuration."),_t)}function l(){return xt(window.vmn_page_data)?(xt(window.vmn_page_data.mappings)&&(a(),o(),r()),xt(window.vmn_page_data.settings)&&s(),ut):wt(m,"Page ads will likely fail due to missing vmn_page_data object!")}function d(n,i){var a=xt(window.vmn_page_data)&&window.vmn_page_data.settings||{},r=0;switch(ut){case t(+n):r=+n;break;case t(+e.Config.adRefreshRate):r=+e.Config.adRefreshRate;break;case zt(a.slots,i)&&t(+a.reload_interval):r=+a.reload_interval}return r}function c(){return e[Ze]()}function u(t,n){var a,r;return n=i(n),xt(t)&&en(n)?(l(),e.Config.adPageTargeting=_(e.Config.adPageTargeting),r=e.AdSlotVOCollection.byIndex(jn.INDEX_ELEMENT_KEY,n),xt(r)?(Lt(m,"This ad slot already exists.  Re-creating the ad."),e[Ze]([r])):(a=n.getAttribute("id"),r=new p({adUnit:t.adUnit||e.Config.adUnitDefault,validSizes:t.size,targetingValues:t.keyValues,targetRefreshRate:d(t.reloadInterval,a),targetElement:n,targetElementId:a}),r.targetingValues.slot=T++,e[Je]([r]),ut)):Mt(m,"Invalid arguments for translateLegacyCreateAd")}function _(e){var t,n,i,a,r,o,s=window.btg.config,l=window.btg.Demdex;if(!xt(s.Demdex)||xt(s.Demdex)&&Zt(s.Demdex.enabled)||!xt(l))return Lt(m,"Skipping adding Demdex segments to ad request, Demdex is not enabled in CODA."),e;if(l.setData(),n=l.getSegment("dfp"),!Gt(n))return Lt(m,"No applicable segments found for DFP targeting in Demdex."),e;for(Vt(e)||(e={}),t={},i=n.split(St),ei.removeValue(i,ht);a=i.pop();)a=a.split(vt),r=a[0],o=a[1],Yt(t[r])&&(o+=Et+t[r]),t[r]=o;return e=ai(e,t)}function h(){var t=document.querySelectorAll("div[id][data-ad-sizes]"),n=ct,a=ct,r=ct,o="",s=0;if(!xt(t))return Mt(m,"No elements found designated as ad slots!");for(l(),s=t.length;s--;){if(a=i(t[s]),n=a.dataset,!xt(n)||!en(a))return Mt(m,"Invalid arguments for translateLegacyCreateAdsFromMarkup");o=a.getAttribute("id"),r=new p({adUnit:n.adUnit,validSizes:n.adSizes,targetingValues:n.adKeyvalues,targetRefreshRate:d(n.adReloadInterval,o),targetElement:a,targetElementId:o}),e.Config.adPageTargeting=_(e.Config.adPageTargeting),r.targetingValues.slot=T++,e[Je]([r])}return ut}function g(){return Qt(Object.freeze)?(delete window.btg.DoubleClick,Object.defineProperty(window.btg,"DoubleClick",{value:{createAd:u,resetSlotCounter:n,createAdsFromMarkup:h,init:pt,setSurrogateAd:pt,refresh:c,createdAdsRefresh:c},writable:_t,configurable:ut}),Object.freeze(window.btg.DoubleClick),window.btg.DoubleClick):Mt(m,"This browser does not support Object.freeze!  Legacy facade translation may receive interference.")}function f(e){return(e.getData()||{}).pageAdsEnabled&&(T=1,g()),ut}function E(){return n(),xt(window.MTVN.config)&&xt(window.MTVN.config.btg)&&xt(window.btg.config)?xt(window.MTVN.config.btg.DoubleClick)&&xt(window.btg.config.DoubleClick)?Jt(window.MTVN.config.btg.DoubleClick.auto)||Jt(window.btg.config.DoubleClick.auto)?h():(Lt(m,"Automatic ad placement is disabled in CODA, ad placement must be manually invoked."),_t):(Lt(m,"No DoubleClick-specific configuration found for CODA."),_t):(Lt(m,"Cannot find CODA run-time or default config objects."),_t)}var m=it+"LegacyAdapter - ",T=1;return window.btg=window.btg||{},window.btg.isCoreLoaded=_t,window.MTVN=window.MTVN||{},this[I]=f,this[Re]=E,this}function _(){var t=Qn;window.document.addEventListener(t.LOADED_COMPONENT,function(){}),window.document.addEventListener(t.ERROR,function(t){e.onTVEError({code:t.errorCode,message:t.errorMessage})}),window.document.addEventListener(t.CHECKED_STATUS,function(t){e.onTVEStatusCheck(t.TVESubscriber)}),window.document.addEventListener(t.LOGGED_IN,function(t){e.onTVELogin({status:t.status,mvpd:t.mvpdId})}),window.document.addEventListener(t.LOGGED_OUT,function(e){}),window.document.addEventListener(t.SELECTED_PROVIDER,function(t){e.onTVEProviderSelected({mvpd:t.mvpdId})}),window.document.addEventListener(t.PROVIDER_NOT_LISTED_BUTTON_CLICK,function(t){e.onTVEProviderNotListed()}),window.document.addEventListener(t.PROVIDER_DISPLAY,function(t){e.onTVEProviderDisplay()}),window.document.addEventListener(t.LEARN_MORE_CLICK,function(e){}),window.document.addEventListener(t.SPECIAL_PREVIEW_SELECTED,function(t){e.onTVEElvisSelected({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOGGED_IN,function(t){e.onTVEElvisLogin({method:t.method,mvpd:t.mvpdObj})}),window.document.addEventListener(t.SPECIAL_PREVIEW_EXPIRED,function(t){e.onTVEElvisExpired(t.mvpdObj)}),window.document.addEventListener(t.SPECIAL_PREVIEW_LOCKED,function(t){e.onTVEElvisLocked(t.mvpdObj)}),window.document.addEventListener(t.FREE_PREVIEW_SELECTED,function(t){e.onTVEFreePreviewSelected()}),window.document.addEventListener(t.FREE_PREVIEW_LOGGED_IN,function(t){e.onTVEFreePreviewLogin()}),window.document.addEventListener(t.FREE_PREVIEW_EXPIRED,function(t){e.onTVEFreePreviewExpired()})}function p(t){return e.AdSlotVOCollection.catalog(jn.INACTIVE,this),this.adUnit=ht,this.adUnitPath=ht,this.validSizes=[],this.targetingValues={},this.targetRefreshRate=ct,this.exclusionCategories=[],this.element=ct,this.isDisplayed=_t,this.id=ht,this.instanceIndex=e.AdSlotVOCollection.everyInstance.indexOf(this),xt(t)&&this.setAdUnit(t.adUnit).setValidSizes(t.validSizes).setTargetingValues(t.targetingValues).setTargetRefreshRate(t.targetRefreshRate).setExclusionCategories(t.exclusionCategories).setElement(t.targetElement).setId(t.targetElementId),this}function h(e){var t=it+"StreamSense ",n=qn,i={},a=_t,r=_t,o=0,s=ut,l={},d=1,c=ct,u=ct,_=ct,p=_t,h=function(e,t){return _t},g=0,f={},E=ct,m=ct,T=ct;e&&e.getFirstItemData&&(E=e.getFirstItemData(),u=e.getPlaylistMetadata());var A=function(e,n){return e&&e.getData()?(n||Lt(t,e.getName(),e.getData()),e.getData()):{}},v=function(){return 1e3*g},I=function(e){if(!a&&Bt(window.ns_)&&Bt(window.ns_.StreamSense)){i=new ns_.StreamSense({},n.BASE_URL()+"?"+li.toString({c1:n.TYPEID,c2:e.comScorePrimaryID}));var o=ns_.StreamSense.PlayerEvents;h=function(e,n){var s=o[e];Lt(t+"streamTrack",s,a),n||(r=s===o.PLAY),i.notify(s,{},v())},i&&h&&(a=!0),e.feed.items.length>1&&s&&i.setPlaylist()}return Lt(t+"initStreamSense isReady",a),a},y=function(e,t){var n=A(e,ut);return n=n.adPlayhead||n.playhead,!!qt(n)&&(g=Math.floor(n),g=t&&0===g?.1:g)},O=function(c){var u,p=e.getMetadata()||{};if(Lt(t+"onPlayStart",p,a),!a||e.isInAdBreak())return _t;_=_||e.getIsLive(),r=ut,y(c),o=p.itemIndex;var g=p.hasPlaylist&&p.isFullEpisode?p.playlistDuration:p.duration;return _?p.clipTypeId=n.CLIP_LIVE:g>=n.MAX_DURATION?p.clipTypeId=n.CLIP_LONG:p.clipTypeId=n.CLIP_SHORT,l.hasOwnProperty(p.videoId)?p.partIndex=l[p.videoId]:(p.partIndex=d++,l[p.videoId]=p.partIndex),u=Ei.fromMetadata(p,T,_),E.isMonolithicContent&&(u.ns_st_cl=1e3*e.getMonolithicSegDuration(),u.ns_st_tp=e.getCuePoints().length+1),i.setClip(u),h("PLAY"),s=_t,ut},L=function(e){var n=function(){Lt(t+"onResumePlay",g),y(e,!0),r=ut,h("PLAY")};kt(m)||Date.now()-m>500?n():setTimeout(n,500)},w=function(e){y(e),Lt(t+"onPause/onSeekStart",g),m=Date.now(),h("PAUSE")},k=function(){h("END"),i.resetInstance&&i.resetInstance()},U=function(){s=ut},x=function(e){var t=y(e);return p&&(h("PLAY"),p=_t),t},F=function(e){return y(e)},B=function(e){c=A(e)},Y=function(t){e.isInAdBreak()&&h(t,!0)},H=function(){var n;return Lt(t+"onAdPlayStart"),a?(_=e.getIsLive(),void(kt(c)||kt(u)||(g=0,n=Ei.fromAdMetadata(c,u,d,E,_),E.isMonolithicContent&&(n.ns_st_tp=e.getCuePoints().length+1),i.setClip(n),Y("PLAY"),d++))):void Mt(t+"StreamSense Library is not available on the window")},X=function(){Lt(t+"onAdPlayEnd"),Y("END"),i.resetInstance&&i.resetInstance()},Q=function(){Lt(t+"onAdPause"),e.isInAdPlay()&&Y("PAUSE")},J=function(){Lt(t+"onAdUnPause"),e.isInAdPlay()&&Y("PLAY")},Z=function(){r&&(Lt(t+"onBufferStall starts"),h("PAUSE"),p=ut)},$=function(e){return((T=A(e)).comscoreAdTracking||T.comScoreAdTracking)&&(f[z]=F,f[q]=B,f[G]=H,f[K]=X,f[j]=Q,f[W]=J),d=1,I(T)};return f[S]=$,f[C]=O,f[N]=x,f[M]=U,f[b]=k,f[V]=k,f[fe]=Z,f[D]=w,f[R]=w,f[P]=L,f}function g(){function t(){return"https:"===document.location.protocol&&Wn.SECURE_SUBDOMAIN+o||Wn.STANDARD_SUBDOMAIN+o}function n(t){var n=t.getData()||{};return a.C3=n.comScoreC3,a.C6=n.comScoreC6,a.C15=n.comScoreC15,Jt(e.Config.unReleasedFeatureEnabled)&&(r[Re]=i),ut}function i(){var e=["C1=",Wn.C1,"&C2=",Wn.C2,"&C3=",a.C3||Wn.DEFAULT_C3,"&C4=",Wn.C4,"&C5=",Wn.C5,"&C6=",a.C6||Wn.DEFAULT_C6,"&C15=",a.C15||Wn.DEFAULT_C5].join(""),n={url:t()+e};return ii.loadScript(n),ut}var a={},r={},o=Wn.DESTINATION;return r[I]=n,r}function f(){function t(){var e=Array.prototype.slice.apply(arguments);e.unshift(T),wt(e)}function n(){function t(){var t=e.AdSlotVOCollection[jn.INACTIVE];jt(t)&&!Xt(t)&&(clearTimeout(i),i=setTimeout(n,100))}function n(){clearTimeout(i),g(e.AdSlotVOCollection[jn.INACTIVE])}var i;window.addEventListener("focus",t,_t),window.document.addEventListener("scroll",t,_t),window.document.addEventListener(gn,t,_t)}function i(){var t=ct;return ni.set("bento-poe",ut,24),(t=document.createElement("div")).setAttribute("style","position: absolute; visibility:hidden"),document.body.appendChild(t),{adUnit:e.Config.adUnitDefault,validSizes:[6,6],targetingValues:{},targetRefreshRate:0,targetElement:t}}function a(){function n(e){window.googletag.cmd.push(function(){window.googletag.pubads().setLocation(e.coords.latitude,e.coords.longitude)})}return Jt(e.Config.allowGeolocation)&&Qt(window.navigator.getCurrentPosition)?void window.navigator.getCurrentPosition(n,t):_t}function r(){window.googletag.cmd.push(function(){var e=window.googletag.pubads();e.collapseEmptyDivs(),e.enableAsyncRendering(),e.enableSingleRequest(),e.disableInitialLoad(),window.googletag.enableServices()})}function o(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],ii.loadScript({url:on()+jn.LIBRARY_SRC,async:ut,onError:t}),n(),a(),s(),r()}function s(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener(jn.PUBAD_EVENT_SLOT_RENDERED,pt).addEventListener(jn.PUBAD_EVENT_IMPRESSION,pt)})}function l(){var t=ci.queryStringToObject(kn);if(Vt(e.Config.adPageTargeting)||(e.Config.adPageTargeting={}),t.hasOwnProperty(jn.TEST_MODE_TARGETING_VALUES)&&(e.Config.adPageTargeting.testmode=encodeURIComponent(t[jn.TEST_MODE_TARGETING_VALUES])),!Jt(e.Config.requiresCoppaCompliance)){var n=ni.read(zn.LEGACY_UUID_COOKIE);Gt(n)&&(e.Config.adPageTargeting.u=n)}window.googletag.cmd.push(function(){if(xt(e.Config.adPageTargeting))for(var t=e.Config.adPageTargeting,n=Object.keys(t),i=ht;i=n.shift();)Bt(t[i])&&window.googletag.pubads().setTargeting(i,t[i])})}function d(){var t=[],n="";window.googletag.cmd.push(function(){if(!Gt(e.Config.adExclusionCategories))return _t;for(t=e.Config.adExclusionCategories.split(Et);n=t.shift();)window.googletag.pubads().setCategoryExclusion(n);return ut})}function c(e){return A=ut,o(),ut}function u(){return A=ut,p.count=1}function _(t){for(var n,i,a=(t=jt(t)?t:document.querySelectorAll(jn.MARKUP_AD_DEFINITION)).length,r=[];a--;)i=t[a],zt(e.AdSlotVOCollection.by.element,i)||(n=(new p).setElement(i),r.push(n));return r}function h(t){var n=[];return jt(t)||(t=[t]),t.forEach(function(t,i){var a,r,o;switch(ut){case t instanceof p:n.push(t);break;case en(t):a=e.AdSlotVOCollection.byIndex(jn.INDEX_ELEMENT_KEY,t)||(new p).setElement(t),n.push(a);break;case Vt(t):n.push(new p(t));break;case Yt(t):o=document.querySelectorAll(t),Xt(o)?r=(e.AdSlotVOCollection[t]||[]).splice(0):(o=Array.prototype.slice.apply(o),r=h(o)),n.push.apply(n,r);break;default:_(),n.push.apply(n,e.AdSlotVOCollection.everyInstance)}}),n.forEach(function(e){e.validate()}),n}function g(e){var t=h(e),n=_t;return t.forEach(function(e){n=v&&e.validSizes.join(Et)===[6,6].join(Et),e.refresh(n)}),this}function f(t){var n=ct;return v=e.Config.allowPOEAds&&window.navigator.cookieEnabled&&!ni.read("bento-poe"),l(),d(),Jt(v)&&(n=i(),jt(t)||(t=[t]),t.push(n)),g(t),this}function E(e){return h(e).forEach(function(e){window.googletag.destroySlots([e.GPTSlot]),delete e.GPTSlot,e.validate(),g(e)}),this}function m(e){return h(e).forEach(function(e){e.destroy()}),this}var T=it+"DFPPageReceiver - ",A=ut,v=_t;return this[I]=c,this[Re]=u,this[Je]=f,this[Ze]=E,this[$e]=m,this}function E(){function t(){var e=Array.prototype.slice.apply(arguments);return e.unshift(o),wt(e),_t}function n(){return qt(s)&&e.onPageEvent({"v.hbLoadTime":an()-s}),Lt(o,"Header bidding library has loaded."),ut}function i(){return s=an(),Lt(o,"Requesting header bidding library at - ",e.Config.headerBiddingLibraryURL),ii.loadScript({url:e.Config.headerBiddingLibraryURL,async:ut,onLoad:n,onError:t,isAppendToBody:_t}),ut}function a(){return window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){xt(window.headertag)&&Jt(window.headertag.apiReady)||(window.headertag=window.googletag)}),ut}function r(){return Jt(e.Config.pageAdsEnabled)?Gt(e.Config.headerBiddingLibraryURL)?(window.headertag=window.headertag||{},i(),a(),ut):(t("No header bidding library URL has been set in the Bento.Config - Please update your Bento configuration with your header bidding library location as the 'headerBiddingLibraryURL' property."),_t):(t("Cannot use header bidding receiver without first enabling page ad support!  Use config flag `pageAdsEnabled` to set page ad support."),_t)}var o=it+"HeaderTagPageReceiver - ",s=ct;return this[I]=r,this}function m(){function e(e){var o=e.getData()||{},s=o.data,l=o.topic,d={};return n(s)?(d.data={events:[s]},d.url=i+(l||Xn.DEFAULT_TOPIC),d.contentType=r,a(d),ut):(Mt(t+"Object provided to be passed to Megabeacon is not valid JSON."),_t)}var t=it+"MegabeaconPageReceiver - ",n=li.isValidJSON,i=Xn.DESTINATION,a=ri.sendPOSTRequest,r="application/json",o={};return o[Ve]=e,o}function T(){function t(){for(var e=xt(Y.contextData)&&Object.keys(Y.contextData)||[],t=ht,n=ht;t=G.pop();)l(t,ht);for(;n=e.pop();)delete Y.contextData[n]}function n(e){return Gt(e)||(e=Y.pageName||X.defaultPageName||Yn()),X.removePageNameSlashes&&e.charAt(0)===gt&&(e=e.substring(1)),e}function i(e){var t=Vn();return e||(t===gt?z.NO_CHANNEL:t.split(gt)[1])}function a(){return Y.getNewRepeat()}function r(e){return J.indexOf(e)>-1}function o(){return e.Config.unReleasedFeatureEnabled&&(q[Pe]=f,q[Re]=E,q[De]=T,q[be]=A,q[Ne]=v,q[Le]=S,q[Me]=y,q[we]=h),q[ke]=g,q[le]=m,q[Fe]=C,q[xe]=P,q[Qe]=D,q[Be]=N,q[Ue]=R,q[Ye]=b,q[He]=O,q[Ge]=L,q[Ke]=M,q[qe]=w,q[We]=k,q[je]=V,q[Xe]=U,q[ze]=x,q[tt]=F,ut}function s(){return q[Pe]=pt,q[Re]=pt,q[le]=pt,q[De]=pt,q[be]=pt,q[Ne]=pt,q[Le]=pt,q[Me]=pt,q[we]=pt,q[ke]=pt,q[Fe]=pt,q[xe]=pt,q[Qe]=pt,q[Be]=pt,q[Ue]=pt,q[Ye]=pt,q[He]=pt,q[Ge]=pt,q[Ke]=pt,q[qe]=pt,q[We]=pt,q[je]=pt,q[Xe]=pt,q[ze]=pt,q[tt]=pt,ut}function l(e,t){return Y[e]=t||ht,ut}function d(e){return Z(),t(),e&&(Q=e),ut}function c(e,n){return Y.trackExternalLinks=_t,$(e,"o",kn),t(),n&&(Q=n),X.trackExternalLinks&&setTimeout(function(){Y.trackExternalLinks=ut},0),ut}function u(){var t=ct,n={};return n.cookieDomain=Hn(),n.idSyncDisable3rdPartySyncing=X.isCOPPACompliant,Y=new AppMeasurement,H=Y.contextData,Z=Y.t,$=Y.tl,Y.setAccount(X.account),_n||Jt(X.enableFirstPartyCookie)?Y.trackingServer=n.trackingServer=e.Environment.getCnamedDomain():e.Config.omnitureRDCenabled&&(Y.trackingServer=n.trackingServer=X.account.split(Et)[0]+zn.THIRD_PARTY_SUB_DOMAIN),rn()&&(Y.ssl=ut,Y.trackingServerSecure=n.trackingServerSecure="s"+Y.trackingServer),t=Visitor.getInstance(zn.MARKETING_CLOUD_ORG_ID,n),Y.visitor=t,Jt(X.enableVisitorNamespace)&&(Y.visitorNamespace=zn.VISITOR_NAMESPACE),ut}function _(t){var n=t.getData();return Gt(n.omnitureAccount)?(X={account:n.omnitureAccount,franchise:n.omnitureFranchise,indexFileName:n.omnitureIndexFileName,defaultPageName:n.omnitureDefaultPageName,isCOPPACompliant:n.requiresCoppaCompliance,defaultHierarchy:n.omnitureDefaultHierarchy,removePageNameSlashes:n.omnitureRemovePageSlashes,enableVisitorNamespace:n.omnitureEnableVisitorNamespace,enableFirstPartyCookie:n.omnitureEnableFirstPartyCookie,enableLinkCallPrediction:n.omnitureEnableLinkCallPrediction},W={},e.addEventToWaitQueueIfDomNotLoaded({callbackObject:q,callback:p})?void 0:(p(),ut)):(wt(B,"Provided no Omniture account in configuration, Omniture will not be made available."),s(),_t)}function p(){t(),o(),u()}function h(e){var t=xt(j.unassigned)&&Object.keys(j.unassigned)||_t,n=ht;if(K=e.getData().namespace||_t,!t)return ut;for(j.namespaced=j.namespaced||{};n=t.pop();)j.namespaced[K+n]=j.unassigned[n];return ut}function g(e){var t=e.getData()||{},n=t.name,i=t.value;if(!n)return _t;switch(ut){case r(n):j[n]=i;break;case Gt(K):j.namespaced=j.namespaced||{},j.namespaced[K+n]=i;break;default:j.unassigned=j.unassigned||{},j.unassigned[n]=i}return ut}function f(){}function E(e){var t=e&&e.getData()||{},r=n(t.pageName),o=Object.keys(t)||[],s=j.namespaced&&Object.keys(j.namespaced)||[],c=ht;for(j.franchise=t.franchise||z.NO_FRANCHISE,j.category=t.category||z.NO_CATEGORY,j.channel=i(t.channel),t.activity?H[z.ACTIVITY_CONTEXT]=t.activity:H[z.ACTIVITY_CONTEXT]=z.PAGE_VIEW_ACTIVITY,l(z.PAGENAME_PROPERTY,r),H[z.CHANNEL_CONTEXT]=j.channel,H[z.FRANCHISE_CONTEXT]=j.franchise,H[z.CATEGORY_CONTEXT]=j.category,H[z.UUID_CONTEXT]=ni.read(z.UUID_CONTEXT)||z.NO_UUID,H[z.PAGE_VIEW_CONTEXT]=ut,H[z.SITE_ID_CONTEXT]=window.location.hostname,H[z.THIRD_PARTY_CONTEXT]=!ni.read(z.THIRD_PARTY_COOKIE),H[z.REPEAT_USER_CONTEXT]=a(),H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.DAY_OF_WEEK_CONTEXT]=BentoNowUtility.getOmnitureDayOfTheWeek(),H[z.HOUR_OF_DAY_CONTEXT]=BentoNowUtility.getOmnitureTimeWithAbbreviation();c=o.pop();)Y[c]=t[c];for(;c=s.pop();)H[c]=j.namespaced[c];return Y[z.LEGACY_DAY_OF_WEEK_VAR]=Y[z.LEGACY_DAY_OF_WEEK_PROP]=BentoNowUtility.getDayOfTheWeek(),Y[z.LEGACY_TIME_VAR]=Y[z.LEGACY_TIME_PROP]=BentoNowUtility.getTimeWithAbbreviation(),Y[z.LEGACY_CHANNEL_VAR]=Y.eVar49=j.channel,d(r),ut}function m(e){for(var t=e.getData(),n=Object.keys(t),i=z.PAGE_EVENT_ACTIVITY,a={};a=n.pop();)switch(ut){case a===z.LINK_NAME_PROPERTY:i=t[a];break;case-1!==a.indexOf(z.VIACOM_CONTEXT_NAMESPACE):H[a]=t[a];break;default:Y[a]=t[a]}return c(i),ut}function T(e){}function A(e){}function v(e){var t=e.getData()||{},a=t.franchise||j.franchise,r=t.channel||j.channel,o=t.success,s=t.suggestionHappened,c=t.suggestionClicked,u=t.typeAheadClicked,_=t.searchTerm,p=n(t.pageName);return l(z.PAGENAME_PROPERTY,p),Ft(o)?H[z.SEARCH_RESULT_CONTEXT]=z.GENERIC_NOT_SET:H[z.SEARCH_RESULT_CONTEXT]=o&&z.SUCCESS||z.FAILED,Ft(s)||Zt(s)?H[z.SEARCH_DID_YOU_MEAN_CONTEXT]=z.NO_SEARCH_DID_YOU_MEAN:H[z.SEARCH_DID_YOU_MEAN_CONTEXT]=c&&z.YES+Et+z.YES||z.YES+Et+z.NO,Ft(u)?H[z.SEARCH_TYPEAHEAD_CONTEXT]=z.NO_SEARCH_TYPEAHEAD:H[z.SEARCH_TYPEAHEAD_CONTEXT]=u&&z.CONTEXT_VALUE_TRUE||z.CONTEXT_VALUE_FALSE,H[z.LAST_PAGENAME_CONTEXT]=Q||z.NOT_APPLICABLE,H[z.FRANCHISE_CONTEXT]=a||z.NO_FRANCHISE,H[z.CHANNEL_CONTEXT]=i(r),H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.PAGE_VIEW_CONTEXT]=ut,H[z.UUID_CONTEXT]=ni.read(z.UUID_CONTEXT)||z.NO_UUID,H[z.SEARCH_TERM_CONTEXT]=_||z.NO_SEARCH_TERM,H[z.ACTIVITY_CONTEXT]=z.SEARCH_ACTIVITY,d(p),ut}function S(e){var t=e.getData()||{},a=t.franchise||j.franchise,r=t.channel||j.channel,o=t.success,s=n(t.pageName);return l(z.PAGENAME_PROPERTY,s),H[z.LAST_PAGENAME_CONTEXT]=Q||z.NOT_APPLICABLE,H[z.FRANCHISE_CONTEXT]=a||z.NO_FRANCHISE,H[z.CHANNEL_CONTEXT]=i(r),H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.UUID_CONTEXT]=ni.read(z.UUID_CONTEXT)||z.NO_UUID,H[z.SEARCH_CONVERSION_CONTEXT]=o&&z.CONTEXT_VALUE_TRUE||z.CONTEXT_VALUE_FALSE,H[z.ACTIVITY_CONTEXT]=z.SEARCH_CONVERSION_ACTIVITY,c(z.SEARCH_CONVERSION_ACTIVITY),ut}function y(e){}function C(e){var t=e.getData()||{};return xt(t.provider)&&(W.providerName=t.provider.displayName||t.provider.id),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.TVE_USER_STATUS_CONTEXT]=t.isLoggedIn&&z.AUTHENTICATED_TVE_USER||z.UNAUTHENTICATED_TVE_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_AUTH_CHECK_ACTIVITY,c(z.TVE_AUTH_CHECK_ACTIVITY),ut}function P(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return W.mostRecentLoginStep=z.ERROR_TVE_STEP,l(z.PAGENAME_PROPERTY,r),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.CHANNEL_CONTEXT]=i(a),H[z.TVE_ERROR_CODE_CONTEXT]=t.code||z.NO_TVE_ERROR_CODE,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_ERROR_ACTIVITY,c(z.TVE_ERROR_ACTIVITY,r),ut}function R(){var e=j.pageName||n();return l(z.PAGENAME_PROPERTY,e),W.mostRecentLoginStep=z.WELCOME_SCREEN_TVE_STEP,H[z.CHANNEL_CONTEXT]=i(j.channel),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.ACTIVITY_CONTEXT]=z.TVE_WELCOME_SCREEN_ACTIVITY,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,c(z.TVE_WELCOME_SCREEN_ACTIVITY,e),ut}function D(){var e=n();return W.mostRecentLoginStep=z.LOGIN_START_TVE_STEP,l(z.PAGENAME_PROPERTY,e),H[z.CHANNEL_CONTEXT]=i(j.channel),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_LOGIN_START_ACTIVITY,c(z.TVE_LOGIN_START_ACTIVITY,e),ut}function b(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||j.channel,o=n(t.pageName);return W.mostRecentLoginStep=z.PROVIDER_SELECTED_TVE_STEP,Gt(a)&&(W.providerName=a),l(z.PAGENAME_PROPERTY,o),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.CHANNEL_CONTEXT]=i(r),H[z.ACTIVITY_CONTEXT]=z.TVE_PROVIDER_SELECTED_ACTIVITY,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(z.TVE_PROVIDER_SELECTED_ACTIVITY,o),ut}function N(e){var t=e.getData()||{},a=t.mvpd,r=t.channel||j.channel,o=n(t.pageName);return W.mostRecentLoginStep=z.SUCCESSFUL_LOGIN_TVE_STEP,Gt(a)&&(W.providerName=a),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.CHANNEL_CONTEXT]=i(r),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_USER_STATUS_CONTEXT]=z.AUTHENTICATED_TVE_USER,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_LOGIN_COMPLETE_ACTIVITY,c(z.TVE_LOGIN_COMPLETE_ACTIVITY,o),ut}function O(){var e=n(),t=j.channel;return W.mostRecentLoginStep=z.PROVIDER_NOT_LISTED_TVE_STEP,l(z.PAGENAME_PROPERTY,e),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.CHANNEL_CONTEXT]=i(t),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_PROVIDER_NOT_LISTED_ACTIVITY,c(z.TVE_PROVIDER_NOT_LISTED_ACTIVITY,e),ut}function L(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(z.PAGENAME_PROPERTY,r),xt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),Gt(t.method)?(W.mostRecentLoginStep=z.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,t.method),H[z.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(W.mostRecentLoginStep=z.SOCIAL_LOGIN_SELECTED_TVE_STEP.replace(/{METHOD}/,z.NO_TVE_SOCIAL_METHOD),H[z.TVE_SOCIAL_METHOD_CONTEXT]=z.NO_TVE_SOCIAL_METHOD),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.CHANNEL_CONTEXT]=i(a),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,c(z.TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY,r),ut}function M(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(z.PAGENAME_PROPERTY,r),xt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),Gt(t.method)?(W.mostRecentLoginStep=z.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,t.method),H[z.TVE_SOCIAL_METHOD_CONTEXT]=t.method):(W.mostRecentLoginStep=z.SOCIAL_LOGIN_SUCCEEDED_TVE_STEP.replace(/{METHOD}/,z.NO_TVE_SOCIAL_METHOD),H[z.TVE_SOCIAL_METHOD_CONTEXT]=z.NO_TVE_SOCIAL_METHOD),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.CHANNEL_CONTEXT]=i(a),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TVE_USER_STATUS_CONTEXT]=z.ELVIS_AUTHENTICATED_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,c(z.TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY,r),ut}function w(e){var t=e.getData()||{},a=t.channel||j.channel,r=n(t.pageName);return l(z.PAGENAME_PROPERTY,r),W.mostRecentLoginStep=z.SOCIAL_LOGIN_EXPIRED_TVE_STEP,xt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.CHANNEL_CONTEXT]=i(a),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TVE_USER_STATUS_CONTEXT]=z.ELVIS_EXPIRED_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,c(z.TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY,r),ut}function k(e){var t=e.getData()||{},a=n(j.pageName);return l(z.PAGENAME_PROPERTY,a),W.mostRecentLoginStep=z.SOCIAL_LOGIN_LOCKED_TVE_STEP,xt(t.mvpd)&&(W.providerName=t.mvpd.displayName||t.mvpd.id),H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.CHANNEL_CONTEXT]=i(j.channel),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TVE_USER_STATUS_CONTEXT]=z.ELVIS_LOCKED_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.ACTIVITY_CONTEXT]=z.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,c(z.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,a),ut}function V(){var e=n(j.pageName);return l(z.PAGENAME_PROPERTY,e),W.mostRecentLoginStep=z.TWENTY_FOUR_HOUR_SELECTED_TVE_STEP,H[z.CHANNEL_CONTEXT]=i(j.channel),H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_MVPD_CONTEXT]=W.providerName||z.NO_TVE_PROVIDER,H[z.ACTIVITY_CONTEXT]=z.TVE_TWENTY_FOUR_HOUR_PREVIEW_SELECTED_ACTIVITY,H[z.UUID_CONTEXT]=ni.read(z.UUID_CONTEXT)||z.NO_UUID,c(z.TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY,e),ut}function U(){return W.mostRecentLoginStep=z.TWENTY_FOUR_HOUR_LOGIN_TVE_STEP,Gt(W.providerName)?H[z.TVE_MVPD_CONTEXT]=z.TVE_TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,W.providerName):H[z.TVE_MVPD_CONTEXT]=z.NO_TVE_PROVIDER,H[z.ACTIVITY_CONTEXT]=z.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TVE_USER_STATUS_CONTEXT]=z.TWENTY_FOUR_HOUR_LOGGED_IN_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(z.TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY),ut}function x(){return W.mostRecentLoginStep=z.TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP,Gt(W.providerName)?H[z.TVE_MVPD_CONTEXT]=z.TVE_TWENTY_FOUR_HOUR_MVPD.replace(/{PROVIDER}/,W.providerName):H[z.TVE_MVPD_CONTEXT]=z.NO_TVE_PROVIDER,H[z.ACTIVITY_CONTEXT]=z.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY,H[z.FRANCHISE_CONTEXT]=j.franchise||z.NO_FRANCHISE,H[z.TVE_STEP_OF_LOGIN_FLOW]=W.mostRecentLoginStep,H[z.TVE_USER_STATUS_CONTEXT]=z.TWENTY_FOUR_HOUR_EXPIRED_USER,H[z.TIMESTAMP_CONTEXT]=BentoNowUtility.getDateInISOFormat(),c(z.TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY),ut}function F(e){var t=e.getData().status;H[z.AD_BLOCK_STATUS]=t.toString(),c(z.AD_BLOCK_STATUS)}var B=it+"OmniturePageReceiver - ",Y={},H=ct,G=[],K=_t,q={},W={},j={},X=ct,z=zn,Q=ht,J=["franchise","category","channel","pageName"],Z=pt,$=pt;return q[I]=_,q.clearInstancValuesAndSetupAppmeasurement=p,s(),q}function A(){function t(e){return a=window._sp_||{},e=e||pt,Qt(a.isAdBlocking)?(a.isAdBlocking(function(t){return e(!!t)}),ut):(s++,l>=s?(Lt(i,"SourcePoint library is not fully instantiated, checking back after a few seconds."),void setTimeout(t.bind(this,e),1e3*d)):(Mt(i,"isAdBlocking method not found!"),s=0,e(_t)))}function n(){return t(function(t){Jt(t)&&e[Oe](),Zt(t===c)&&(e[tt](t),c=t,Lt(it+"AD Blocking Cookie toggled to ",t.toString()))}),!o&&Qt(a.pageChange)?(a.pageChange(),ut):(o=_t,_t)}var i=it+"SourcePointPageReceiver - ",a=window._sp_||{},r={},o=ut,s=0,l=5,d=2,c=ct,u="getAdBlockingStatus";return r[Re]=n,r[u]=t,r}e.version="1.12.1";var v="onPlayerFeedLoaded",I="onConfigReady",S="onPlayerConfigReady",y="onMetadata",C="onPlayStart",P="onResumePlay",R="onPause",D="onSeekStart",b="onPlayEnd",N="onPlayheadUpdate",O="onPlayIndexChanged",L="onFullScreenChange",M="onPlaylistComplete",w="onUiStateChange",k="onVolumeChange",V="onDestroy",U="onAdError",x="onAdTimeout",F="onIsTimeForAnAd",B="onAdLoaded",Y="onAdPodPlayStart",H="onAdPodPlayEnd",G="onAdPlayStart",K="onAdPlayEnd",q="onAdMetadata",W="onAdUnPause",j="onAdPause",X="onAdClick",z="onAdPlayheadUpdate",Q="onAdBridgeReady",J="onAdBridgeMultiLoaded",Z="onAdRenderer",$="onAdRequested",ee="onAdRequestCompleted",te="onAdBreakTimeout",ne="onAdStop",ie="onAdManagerDestroyed",ae="onAdBreakReady",re="onAdBreakNotAvailable",oe="onAdSkipped",se="onAdPlayRequest",le="onPageEvent",de="onAAMDataReady",ce="onVMNUUID",ue="onDemdexSegment",_e="onADMSTrackingServer",pe="onUserSegment",he="onADMSVisitorID",ge="onReplay",fe="onBufferStall",Ee="onPlayerResize",me="onWindowResize",Te="onImaJsSdkLoaded",Ae="onImaJsSdkLoadError",ve="onAdsManagerReady",Ie="onContentResumeRequested",Se="onAdBufferStart",ye="onAdBufferStop",Ce="onReportAdError",Pe="onDestroyPage",Re="onNewPage",De="onShare",be="onFavorite",Ne="onSearch",Oe="onAdBlocking",Le="onSearchConversion",Me="onDeepLink",we="setCustomReportingNamespace",ke="onCustomData",Ve="sendMegabeaconData",Ue="onTVEWelcome",xe="onTVEError",Fe="onTVEStatusCheck",Be="onTVELogin",Ye="onTVEProviderSelected",He="onTVEProviderNotListed",Ge="onTVEElvisSelected",Ke="onTVEElvisLogin",qe="onTVEElvisExpired",We="onTVEElvisLocked",je="onTVEFreePreviewSelected",Xe="onTVEFreePreviewLogin",ze="onTVEFreePreviewExpired",Qe="onTVEProviderDisplay",Je="placeAds",Ze="refreshAds",$e="destroyAds",et="onReportAdSkipped",tt="onAdBlockingStatusUpdate",nt="onPlayerSeamlessMode",it="[Bento] ",at="object",rt="function",ot="string",st="number",lt="boolean",dt="undefined",ct=null,ut=!0,_t=!1,pt=function(){},ht="",gt="/",ft="&",Et=",",mt="#",Tt=".",At="?",vt="=",It=":",St=";",yt=" ",Ct="+",Pt="|",Rt="-",Dt="{}",bt="x",Nt=new RegExp("^w+\\d*\\.","gim"),Ot=function(){return e.Config&&e.Config.debugMode},Lt=function(){return Ot()&&console.log.apply(console,arguments)},Mt=function(){return Ot()&&console.warn.apply(console,arguments)},wt=function(){return Ot()&&console.error.apply(console,arguments)},kt=function(e){return e===ct},Vt=function(e){return typeof e===at},Ut=function(e){return Vt(e)&&0===Object.keys(e).length},xt=function(e){return typeof e===at&&e!==ct},Ft=function(e){return typeof e===dt},Bt=function(e){return!Ft.apply(this,arguments)},Yt=function(e){return typeof e===ot},Ht=function(e,t){return typeof e===ot&&-1!==e.indexOf(t)},Gt=function(e){return typeof e===ot&&e!==ht},Kt=function(e,t){return Gt(e)?e:t},qt=function(e){return typeof e===st&&e===e},Wt=function(e){return typeof e===lt},jt=function(e){return Array.isArray(e)},Xt=function(e){return 0===e.length},zt=function(e,t){return jt(e)&&-1!==e.indexOf(t)},Qt=function(e){return typeof e===rt},Jt=function(e){return e===ut||"true"===e},Zt=function(e){return e===_t||"false"===e},$t=function(e){return e instanceof RegExp},en=function(e){return e instanceof HTMLElement},tn=function(e,t){return Bt(e)?e:t},nn=Qt(Date.now)?Date.now:function(){return(new Date).getTime()},an=function(){return!Ft(window.performance)&&window.performance.now()||ct},rn=function(){return e.Config&&(Jt(e.Config.enableSecureMode)||Ft(e.Config.enableSecureMode))},on=function(){return rn()?"https://":"http://"},sn=on()+"btg.mtvnservices.com/aria/miso/miso.1.4.19.swf",ln=_t,dn=_t,cn=_t,un=_t,_n=_t,pn=_t,hn=_t,gn=document.msHidden&&"msvisibilitychange"||document.webkitHidden&&"webkitvisibilitychange"||"visibilitychange",fn="com.br,co.uk,co.hu,co.il,com.tr,com.pl,com.ru,co.kr,com.au,co.nz,com.tw",En="Network Player",mn=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return ut}catch(e){return navigator.mimeTypes&&!Ft(navigator.mimeTypes["application/x-shockwave-flash"])&&!Ft(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)&&ut}return _t},Tn=function(t){return t&&t.isMobilePlatform?_t:e.Config.useHTML5VideoAdsOnDesktop||e.Config.useHTML5VideoAdsOnDesktopSafari&&un?_t:mn()?ut:_t},An=(typeof navigator===at&&navigator.userAgent&&/Android|iPhone|iPad|iPod|IEMobile|Opera Mini|BlackBerry/i.test(navigator.userAgent),function(){var e=document.msHidden&&"msHidden"||document.webkitHidden&&"webkitHidden"||"hidden";return Wt(document[e])?!document[e]:vn()}),vn=function(){return Qt(window.document.hasFocus)?window.document.hasFocus():ut},In="0px",Sn="px",yn="absolute",Cn="visible",Pn="hidden",Rn=".pjs.bento-hide-gui .edge-gui, .edge-player.bento-hide-gui .pjs-gui { display: none; }",Dn=".edge-player .edge-gui-ad-metadata { display: none; }",bn="bento-hide-gui",Nn="fw-div-bento-position",On=".fw-div-bento-position { position: absolute; z-index: 0; height: 100%; width: 100%; display: block; }",Ln=".edge-player-ads-element { height: 100% !important; width: 100% !important; }",Mn=".bento-disable-clicks { pointer-events: none; }",wn="bento-disable-clicks",pn=_t,kn=window.location!==window.parent.location?document.referrer:window.top.document.location.href,Vn=function(){return window.location.pathname||gt},Un=function(){return window.location.search||At},xn=function(){return document.cookie},Fn=function(e){document.cookie=e},Bn=function(){return document.referrer},Yn=function(){return document.title},Hn=function(){return window.location.host.replace(Nt,ht)},Gn=function(){return document.readyState};e.AdVars={VIDEO_PLAYED_TIME:"mtvn_btg_videoPlayedTime",LAST_PLAYTIME_CODE:"mtvn_btg_lastPlayTimeCode",AD_BRIDGE_ID:"_BENTO_AD_BRIDGE-ima-ad",AD_PLACE_HOLDER_ID:"fw_placeholder",AD_BRIDGE_FAILURE_EVENT:"event101",AD_REQUEST_FAILURE_EVENT:"event102",AD_SWF_NOTLOADED_EVENT:"event103",BROWSER_DISRUPTS_FLASH_PLAYBACK:"event130",NO_AD_ID:"NO_AD_ID",NO_AD_TYPE:"NO_AD_TYPE",NO_CREATIVE_ID:"NO_CREATIVE_ID",NO_CREATIVE_DURATION:"NO_CREATIVE_DURATION",NO_POD_DURATION:"NO_POD_DURATION",NO_POD_ID:"NO_POD_ID",NO_AD_INDEX:"NO_AD_INDEX",NO_AD_COUNT:"NO_AD_COUNT",PLAYER_AD_INDEX_PLACEHOLDER:"<%= currentAdIndex %>",PLAYER_AD_COUNT_PLACEHOLDER:"<%= adCount %>"},e.AppMeasureVars={URL_LIMIT:1024,DEFAULT_ITEM_INDEX:0,VISITOR_NAMESPACE:"mtvn",TRAFFIC_VAR_LIMIT:75,MIN_DURATION:30,MAX_DURATION:120,NETWORK_PATH:"video/net/",SYNDICATED_PATH:"video/syn/",VIRAL_PATH:"video/syn/",VIDEOAD_TITLE:"VIDEO_AD|",VIDEOITEM_EVENT:"event15",ADITEM_EVENT:"event29",PLAYLIST_START:"event24",BUFFER_EVENT:"event25",PLAYLIST_DURATION:"event26",PLAYLIST_LENGTH:"event28",SINGLECLIP_EVENT:"event50",PLAYLIST_EVENT:"event49",FRANCHISE_TITLE:"prop35",EVENTS:"events",PRODUCTS:"products",SEMICOLONS:";;;;",PLAYLIST_ITEM:"PLAYLIST",SINGLECLIP_ITEM:"SINGLECLIP",MEDIA_NAME:"eVar33,prop50",MEDIA_TIMEPLAYED:"event78",MEDIA_COMPLETE:"event76",MEDIA_SEGMENTVIEW:"event77",MEDIA_SEGMENTEVAR:"eVar56",MEDIA_SEGMENTEVAR_DEMDEX:"evar57eventsproductspagenamehier",MEDIA_PLAYLIST_COMPLETE:"event89",DURATION_EVENT:"event46",AD_START_EVENT:"event71",AD_END_EVENT:"event72",AD_BUMPER_START_EVENT:"event31",AD_BUMPER_END_EVENT:"event32",AD_TIME_SPENT:"event73",AD_POD_ID:"eVar38,prop54",AD_CREATIVE_ID:"eVar37,prop53",AD_POD_ITEMS:"eVar39,prop55",AD_VIDEO_TITLE:"Ad Play",LIVE_BEACON_FREQ:180,LIVE_FREQ_MAX:180,LIVE_FREQ_MIN:60,LIVE_DURATION:86400,LIVE_EVENT_START_PLAYHEAD:432e4,VMN_UUID_COOKIE:"vmn_uuid",USER_SEG_CATEGORY:"User Segment;",DEFAULT_TRACK_SECONDS:60,LOCKED:"Locked",UNLOCKED:"Unlocked",TRACKED98:"tracked98",TRACKED50:"tracked50",TRACKED:"tracked",DEFAULT_VARS:{pageName:"pageName",eVar26:"franchise",eVar27:"mtvnOwner",eVar28:"mediaCategory",eVar29:"artistName",eVar30:"applicationOrigin",eVar31:"applicationName",eVar32:"applicationContext",eVar33:"videoTitle",eVar34:"playlistTitle",eVar48:"tveAuthStatus",eVar56:"segmentName",eVar66:"playlistId",events:"events",products:"products",prop35:"mediaTitle",prop36:"franchise",prop38:"mtvnOwner",prop43:"playlistTitle",prop45:"mediaCategory",prop46:"artistName",prop47:"applicationOrigin",prop48:"applicationName",prop49:"applicationContext",prop50:"videoTitle",prop1:"agreement",prop3:"agreementId",prop30:"guid",eVar57:"vmnUUID",prop31:"userSegment",prop66:"playlistId",eVar71:"linearPubDate",eVar72:"episodeN",eVar73:"seasonN",prop59:"linearPubDate",prop60:"episodeN",prop61:"seasonN"},DEFAULT_AD_VARS:{eVar37:"creativeId",prop53:"creativeId",eVar38:"podId",prop54:"podId",eVar39:"currentAdIndex",prop55:"currentAdIndex"},DEFAULT_NETWORK_PLAYER_NAME:"NETWORK_PLAYER",DEFAULT_VIRAL_PLAYER_NAME:"VIRAL_PLAYER",DEFAULT_PARTNER_PLAYER_NAME:"PARTNER_PLAYER",NO_VID_TITLE:"NO_VID_TITLE",POD_START_EVENT:"event70",POD_COMPLETE_EVENT:"event75",NO_APPLICATION_NAME:"NAME_UNSET",NO_APPLICATION_CONTEXT:"CONTEXT_UNSET",NO_APPLICATION_ORIGIN:"ORIGIN_UNSET",TVE_AUTH_USER:"TVE Authenticated User",GUEST_USER:"Guest User",TVE_GUEST_TO_AUTH:"event42",TVE_AUTH_TO_GUEST:"event43",TVE_USER_AUTH_CHECK_SUCCESS:"event56",AD_PLAY_REQUEST_TIMEOUT:"event106",AD_BREAK_START_TIMEOUT:"event107",AD_STARTED_TIMEOUT:"event108",INTRA_AD_TIMEOUT:"event109",AGGREGATE_TIMEOUT:"event110",BENTO_CONFIG_NOT_AVAILABLE:"event111",HEART_BEAT_TRACKING_SERVER:"mtv.hb.omtrdc.net",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",FULL_EPISODE_START_ACTIVITY:"fepStart",CLIP_START_ACTIVITY:"clipStart",SEGMENT_START_ACTIVITY:"segmentStart",SEGMENT_END_ACTIVITY:"segmentComplete",EPISODE_END_ACTIVITY:"fepComplete",CLIP_END_ACTIVITY:"clipComplete",ACTIVITY_CONTEXT_VARIABLE:"v.activity",MID_CONTEXT_VARIABLE:"v.mid",SEAMLESS_CONTEXT_VARIABLE:"v.seamlessEnabled",STREAM_TYPE_VOD:"VOD",STREAM_TYPE_LIVE:"LIVE"},e.ComscoreVars={BEACON_URL:"//beacon.securestudies.com/scripts/beacon.dll",BEACON_TYPEID:"1",VIDEOAD_TITLE:"VIDEO_AD",VIDEOAD_GENREID:"01",CONTENT_GENREID:"03",RND_KEY:"rn",PARAM_LIMIT:512,URL_LIMIT:2080},e.DemdexVars={DEMDEX_URL:function(){return on()+"mtvn.demdex.net/"}},e.ErrorCode={INFO:30,WARN:40,ERROR:50},e.FreewheelVars={URL:function(){return on()+"140cc.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;"},URL_INT:function(){return on()+"2ab7f.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;"},URL_INT_TEST:"//293a7.v.fwmrm.net/ad/g/1?nw={0}&prof={0}:{1}&flag=+sltp+exvt+slcb+unka+unks;",LAST_GUID_PLAYED:"mtvn_btg_lastGUIDPlayed",LAST_PLAYLIST_URI_PLAYED:"mtvn_btg_lastPlaylistURIPlayed",MINTIME_BTW_ADS:10,QC_DEMO_VALUE:"vmn_btg_qcdemotargetting",FRONT_BUMPER_KEY:"_fw_front_bumper",END_BUMPER_KEY:"_fw_end_bumper",ARA_KEY:"_fw_ara",FSS_KEY:"_fss",FSS_VALUE:"_search",DEMDEX_SEGMENT:"mtvn_demdex_segment",VMN_UUID:"vmnUUID",DEF_CLIP_TIME:180,NETWORK_ID:82125,NETWORK_ID_TEST:82124,NETWORK_ID_INTL:174975,NETWORK_ID_INTL_TEST:168871,PROFILE_ID:"EdgeHTML5",PROFILE_ID_AS3:"EdgeAS3",PROFILE_ID_HTLM5_DESKTOP:"EdgeHTML5Desktop",DEF_MIN_TIME_FOR_ADS:0,DEF_SITE_SECTION:"viacom_default",DEF_MOB_SITE_SECTION:"viacom_default_mob",INTL_DEFAULT_ASSET_ID:41349526,MOB_SID_SUFFIX:"_mob",TAB_SID_SUFFIX:"_tab",INIT_AD_INDEX:1,PLAYLIST_KEY:"playlist",VPAID_AD:"VPAID",AUTHENTICATING_ENTITY:"_fw_ae",AUTHORIZATION_REQUIRED:"_vmn_ar",DEBUG_MODE:"fwdebug",OVERRIDE_NETWORK_ID:"fwid",OVERRIDE_PROFILE_ID:"fwprof",OVERRIDE_SSID:"fwssid",OVERRIDE_MGID:"fwcaid",TSLA:"tsla",ENTIRE_URL:"_fw_h_referer",AD_SERVER_AS3:function(){return on()+"140cc.v.fwmrm.net/"},INTL_AD_SERVER_AS3:function(){return on()+"2ab7f.v.fwmrm.net/"},FW_BRIDGE_ID:"freewheelBridge",DISPLAY_BASE:"video-player",PREROLL:"preRoll",MIDROLL:"midRoll",POSTROLL:"postRoll",OVERLAY:"overlay",VPAID_CLICK_DIV:"sauron_stage",FW_CUSTOMER_VISITOR_ID:"customVisitorId",VMN_UUID_COOKIE:"vmn_uuid",FW_DID_IDFA:"_fw_did_idfa",FW_DID_GOOGLE_ADVERTISING_ID:"_fw_did_google_advertising_id",FW_DESIRED_BITRATE_KEY:"desiredBitrate",FW_TEN_MINUTES_IN_SEC:600,FW_BRIDGE_PLACEHOLDER_ID:"fw_placeholder",FW_PRELOAD_AD_SLOT_BEFORE_TIME:10,FW_BANDWIDTH_KEY:"fw_bandwidth",FW_MINIMUM_BITRATE:600,FW_MAXIMUM_BITRATE_MOBILE:2e3,FW_MAXIMUM_BITRATE_DESKTOP:2500,FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:1638,FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS:1536,FW_PRELOAD_BITRATE_RANGE_0_800:4,FW_PRELOAD_BITRATE_RANGE_800_1000:3,FW_PRELOAD_BITRATE_RANGE_1000_5000:5,FW_PRELOAD_BITRATE_RANGE_GT_5000:10,FW_FLASH_DISABLED_EVENT:"event104",FW_AD_BRIDGE_MULTI_LOADED_EVENT:"event105",FW_DEMDEX_FW_SEGMENT:"demdexFW",VIDEO_ID_KEY:"vid"},e.IMAVars={SDK_URL:"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js",CONTAINER_ID:"-ima-ad",VIDEO_TAG_URL:"//pubads.g.doubleclick.net/gampad/ads?",ENVIRONMENT:"env=vp",DFP_SCHEMA:"gdfp_req=1",PRODUCTION_NETWORK_ID:1125,TEST_NETWORK_ID:271659723,CMS_ID_KEY:"cmsid=",AD_UNIT_KEY:"iu=",CORRELATOR_KEY:"correlator=",VIDEO_ID_KEY:"vid",DESCRIPTION_URL_KEY:"description_url=",AD_SIZE:"sz="+(e&&e.Config&&e.Config.imaAdSize?e.Config.imaAdSize:"640x480")+"|",CUST_PARAMS_KEY:"cust_params=",VMAP_FORMAT:"output=xml_vmap1",POSITION_START:"unviewed_position_start=1",FOLLOW_NETWORK_RULES:"ad_rule=1",REQUEST_MODE:"impl=s",PLAYER_SIZE:"640x360",LANGUAGE_EN:"h1=en",URL_KEY_MACRO:"url=[referrer_url]",CORRELATOR_MACRO:"[timestamp]",AD_SERVER_GOOGLE_IMA:"doubleclick",AD_SERVER_FREEWHEEL:"freewheel",NO_ADS_SUPPORT:"vad=n",AUTHORIZATION_REQUIRED:"_vmn_ar",AUTHENTICATING_ENTITY:"_fw_ae",DEFAULT_MOAT_PARTNER_CODE:"viacomjsint517483624015",OVERRIDE_AD_UNIT_ID:"imaiu",OVERRIDE_CMS_ID:"imacmsid",OVERRIDE_CUST_PARAMS:"vtestmode",OVERRIDE_VIDEO_ID:"imavid",CHILD_DIRECTED_TREATMENT:"tfcd=1",EXCLUSION_CATEGORIES:"excl_cat=",FRANCHISE:"franchise",LAST_ITEM_FRANCHISE:"mtvn_btg_lastItemFranchise"},e.MessageVars={VMN_UUID:"uuid",DEMDEX_SEGMENT:"demdexfwsegment",ADMS_TRACKING_SERVER:"trackingserver",USER_SEGMENT:"usersegment",ADMS_VISITOR_ID:"visitorid"};var Kn={CLIP_TYPE:"content",LOAD_CLIP:3,LOAD_AD:15,PROGRESS:49,STOP:7,END:57},qn={BASE_URL:function(){return(rn()?"https://sb":"//b")+".scorecardresearch.com/p"},TYPEID:"2",MAX_DURATION:600,CLIP_SHORT:"vc11",CLIP_LONG:"vc12",CLIP_LIVE:"vc13",AD_PREROLL:"va11",AD_MIDROLL:"va12",AD_POSTROLL:"va13",AD_LIVE:"va21",AD_OTHER:"va00",LOCKED:1,UNLOCKED:0,LIVE_DURATION:86400};e.VideoVars={CONTENT_TYPE:"rss.group.category.contentType",DESCRIPTION:"rss.description",DURATION:"rss.duration",FRANCHISE:"rss.group.category.franchise",GUID:"rss.guid",INDEX:"index",IS_LIVE:"isLive",LINK:"rss.link",MEDIA_CATEGORY:"rss.group.category.contentType",PLAY_LIST_REP_TITLE:"rss.group.category.playlistRepTitle",PLAY_LIST_TITLE:"rss.group.category.playlistTitle",PLAY_LIST_URI:"rss.group.category.playlistURI",REPORTABLE:"rss.group.category.reportable",SEO_HTML_TEXT:"rss.group.category.seoHTMLText",THUMPNAIL_URL:"rss.image.url",TITLE:"rss.title",VIDEO_TITLE:"rss.group.category.videoTitle",ARTIST_NAME:"rss.group.category.artist",MTVN_OWNER:"rss.group.category.mtvnOwner",ITEM_TITLE:"rss.title"};var Wn={SECURE_SUBDOMAIN:"https://sb",STANDARD_SUBDOMAIN:"http://b",DESTINATION:".scorecardresearch.com/beacon.js?",C1:"2",C2:"6036034",DEFAULT_C3:"",C4:encodeURIComponent(kn),C5:"20000",DEFAULT_C6:"",DEFAULT_C15:""},jn={LIBRARY_SRC:"www.googletagservices.com/tag/js/gpt.js",AD_DEFINITION:".bento-ad",AD_UNIT_DEFINITION:"data-ad-unit",AD_SIZES_DEFINITION:"data-valid-sizes",AD_TARGETING_DEFINITION:"data-targeting-values",AD_EXCLUSIONS_DEFINITION:"data-exclusion-categories",AD_REFRESH_DEFINITION:"data-refresh-rate",DESKTOP_AD_DEFINITION:"_web",MOBILE_AD_DEFINITION:"_mob",INDEX_ELEMENT_KEY:"element",AD_ID_TEMPLATE:"gpt-ad-{{ now }}-{{ index }}",AD_UNIT_PATH_TEMPLATE:"/{{ networkID }}/{{ adUnit }}",PUBAD_EVENT_SLOT_RENDERED:"slotRenderEnded",PUBAD_EVENT_IMPRESSION:"impressionViewable",INDEX_PAGE_ADUNIT_SUFFIX:"home",MAPPINGS:"mappings",KEY_VALUES:"key-values",AD_UNIT:"ad-unit",METADATA:"metadata",EXCLUSION_CATEGORIES:"exclusion-categories",IS_MAIN:"is_main",SETTINGS:"settings",SETTINGS_DISABLE_AUTO_SLOTS:"disableAutoSlots",INACTIVE:"inactive",WAIT_MESSAGE:"Waiting on googletag.apiReady ..",TEST_MODE_TARGETING_VALUES:"testmode"},Xn={DEFAULT_TOPIC:"vnm_bento",DESTINATION:on()+"mb.mtv.com/data/collect/v1/?__t="},zn={VISITOR_NAMESPACE:"mtvn",LINK_TYPE:"o",YES:"y",NO:"n",SUCCESS:"s",FAILED:"f",VIACOM_CONTEXT_NAMESPACE:"v.",CONTEXT_VALUE_TRUE:"T",CONTEXT_VALUE_FALSE:"F",NOT_APPLICABLE:"N/A",LEGACY_UUID_COOKIE:"vmn_uuid",MARKETING_CLOUD_ORG_ID:"ED7001AC512D2ABD0A490D4C@AdobeOrg",THIRD_PARTY_SUB_DOMAIN:".sc.omtrdc.net",THIRD_PARTY_COOKIE:"v.tpc",LAST_PAGENAME_CONTEXT:"v.prevPagename",UUID_CONTEXT:"v.uuid",CATEGORY_CONTEXT:"v.pageCat",CHANNEL_CONTEXT:"v.channel",ACTIVITY_CONTEXT:"v.activity",PAGE_VIEW_CONTEXT:"v.pv",SITE_ID_CONTEXT:"v.siteID",FRANCHISE_CONTEXT:"v.pageFranchise",THIRD_PARTY_CONTEXT:"v.ckieBlock",REPEAT_USER_CONTEXT:"v.newRepeat",TIMESTAMP_CONTEXT:"v.TimeStamp",DAY_OF_WEEK_CONTEXT:"v.dayW",HOUR_OF_DAY_CONTEXT:"v.hourD",SEARCH_TERM_CONTEXT:"v.searchTerm",SEARCH_RESULT_CONTEXT:"v.searchResult",SEARCH_DID_YOU_MEAN_CONTEXT:"v.searchDYM",SEARCH_TYPEAHEAD_CONTEXT:"v.searchTA",SEARCH_CONVERSION_CONTEXT:"v.searchConversion",AD_BLOCK_STATUS:"v.adBlock",TVE_MVPD_CONTEXT:"v.tveMVPD",TVE_ERROR_CODE_CONTEXT:"v.tveErrCode",TVE_USER_STATUS_CONTEXT:"v.tveUsrStat",TVE_SOCIAL_METHOD_CONTEXT:"v.socMethod",TVE_STEP_OF_LOGIN_FLOW:"v.tveStep",PAGENAME_PROPERTY:"pageName",LINK_NAME_PROPERTY:"eventName",AUTHENTICATED_TVE_USER:"TVE authenticated user",UNAUTHENTICATED_TVE_USER:"Guest user",ELVIS_AUTHENTICATED_USER:"TVE sfps authenticated user",WELCOME_SCREEN_TVE_STEP:"TVE:OverlayFlow:Start",LOGIN_START_TVE_STEP:"TVE:Settings:MVPD Selector",PROVIDER_SELECTED_TVE_STEP:"TVE:settings:MVPD Auth-Request",ERROR_TVE_STEP:"TVE:settings:Error",SUCCESSFUL_LOGIN_TVE_STEP:"TVE:settings:Successful login",PROVIDER_NOT_LISTED_TVE_STEP:"TVE:settings:Not available",SOCIAL_LOGIN_SELECTED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}",SOCIAL_LOGIN_SUCCEEDED_TVE_STEP:"TVE:settings:auth provider pick:{METHOD}:Successful login",SOCIAL_LOGIN_EXPIRED_TVE_STEP:"TVE:settings:auth provider access expiration",SOCIAL_LOGIN_LOCKED_TVE_STEP:"TVE:[Settings]:auth provider:locked",TWENTY_FOUR_HOUR_SELECTED_TVE_STEP:"TVE:settings:MVPD Auth-Request",TWENTY_FOUR_HOUR_LOGIN_TVE_STEP:"TVE:[Settings]:fps:Successful Sign-in",TWENTY_FOUR_HOUR_EXPIRED_TVE_STEP:"TVE:[Settings]:auth provider access expiration",SEARCH_ACTIVITY:"searchResult",SEARCH_CONVERSION_ACTIVITY:"searchConversion",TVE_AUTH_CHECK_ACTIVITY:"userAuthcheck",TVE_ERROR_ACTIVITY:"tveError",TVE_WELCOME_SCREEN_ACTIVITY:"tveWelcome",TVE_LOGIN_START_ACTIVITY:"tveAuthStart",TVE_LOGIN_COMPLETE_ACTIVITY:"tveSignComplete",TVE_PROVIDER_SELECTED_ACTIVITY:"tveMVPDPick",TVE_PROVIDER_NOT_LISTED_ACTIVITY:"tveMVPDnotListed",TVE_SOCIAL_LOGIN_SELECTED_ACTIVITY:"tveElvisSocialPick",TVE_SOCIAL_LOGIN_SUCCEEDED_ACTIVITY:"tveElvisSignComplete",TVE_SOCIAL_LOGIN_EXPIRED_ACTIVITY:"tveElvisExp",TVE_SOCIAL_LOGIN_LOCKED_ACTIVITY:"tveElvisLock",TVE_TWENTY_FOUR_HOUR_PREVIEW_SELECTED_ACTIVITY:"tveFPSAuthstart",TVE_TWENTY_FOUR_HOUR_PREVIEW_LOGIN_ACTIVITY:"tveFPSSignComplete",TVE_TWENTY_FOUR_HOUR_PREVIEW_EXPIRED_ACTIVITY:"tveFPSExp",PAGE_VIEW_ACTIVITY:"pageview",PAGE_EVENT_ACTIVITY:"pageEvent",GENERIC_NOT_SET:"NOT_SET",NO_FRANCHISE:"NO_FRANCHISE",NO_CATEGORY:"NO_CATEGORY",NO_CHANNEL:"NO_CHANNEL",NO_UUID:"NO_UUID",NO_PREV_PAGENAME:"NO_PREVIOUS_PAGENAME",NO_SEARCH_TERM:"NO_SEARCH_TERM",NO_SEARCH_DID_YOU_MEAN:"NO_SEARCH_DYM",NO_SEARCH_TYPEAHEAD:"NO_SEARCH_TA",NO_TVE_ERROR_CODE:"NO_TVE_ERROR_CODE",NO_TVE_PROVIDER:"none-selected",NO_TVE_PREVIOUS_STEP:"NO_STEP_DATA_RECORDED",NO_TVE_SOCIAL_METHOD:"NO_SOCIAL_METHOD",LEGACY_DAY_OF_WEEK_VAR:"eVar45",LEGACY_DAY_OF_WEEK_PROP:"prop33",LEGACY_TIME_VAR:"eVar46",LEGACY_TIME_PROP:"prop34",LEGACY_CHANNEL_VAR:"eVar49"},Qn={LOADED_COMPONENT:"TVE:componentLoaded",ERROR:"TVE:errorHappened",CHECKED_STATUS:"TVE:checkStatusCompleted",LOGGED_IN:"TVE:loginCompleted",LOGGED_OUT:"TVE:logoutCompleted",SELECTED_PROVIDER:"TVE:providerSelected",PROVIDER_DISPLAY:"TVE:signInPageCompleted",PROVIDER_NOT_LISTED_BUTTON_CLICK:"TVE:providerNotListedButtonSelected",START_WATCHING_BUTTON_CLICK:"TVE:startWatchingNowButtonClicked",LEARN_MORE_CLICK:"TVE:learnMoreButtonClicked",SPECIAL_PREVIEW_SELECTED:"TVE:specialPreviewPickedMethod",SPECIAL_PREVIEW_LOGGED_IN:"TVE:specialPreviewSucceedLoginForMethod",SPECIAL_PREVIEW_EXPIRED:"TVE:specialPreviewExpiredWithProvider",SPECIAL_PREVIEW_LOCKED:"TVE:specialPreviewLockedWithProvider",FREE_PREVIEW_SELECTED:"TVE:freePreviewWasStarted",FREE_PREVIEW_LOGGED_IN:"TVE:freePreviewLoginCompleted",FREE_PREVIEW_EXPIRED:"TVE:freePreviewExpired"},Jn=new t,Zn=new n,$n=function(){var t=[],n=ct,i=it+"BentoApi ",a=function(e){t[e]||t.push(e)},r=function(e,t){for(var i=n&&n.feed&&n.feed.items?n.feed.items:[],a=ct,r=ct,o=0,s=i.length;s>o;o++)if(i[o].rss&&i[o].rss.guid===e){a=i[o].rss;break}if(a&&a.group&&a.group.category){r=a.group.category;for(var l in r)if(l===t)return"eventType"!==l||Gt(r[l])?r[l]:"NO-EVENT"}return _t},o=function(e,t){var n=t.replace(/\ |\:|\+|\{|\}|^\s|\s$/g,""),a="";if(e.hasOwnProperty(n)&&e[n])return e[n];var o=e["v.mgid"]||e.guid;return(a=r(o,n))?a:(""!==n&&Mt(i+"The value "+n+" for omnitureCustomFields was not found in the feed."),t.search(/^{[\s\S]+}$/)?t:"")},s=function(e,t,n,i,r){var s="",l="v.";if(n.substring(0,l.length),i.indexOf(Ct)>-1)for(var d=i.split(Ct),c=0,u=d.length;u>c;c++)s+=o(e,d[c]);else s=o(e,i);s&&(t.hasOwnProperty(n)&&!Jt(r)||(t[n]=s,a(n)))};return{getMappedObject:function(i,r){var o,l={},d=e.AppMeasureVars.DEFAULT_VARS;if((n=r).omnitureHeartbeatMeasureDisabled){for(o in d)if(d.hasOwnProperty(o)){var c=d[o];i.hasOwnProperty(c)&&i[c]&&(l[o]=ci.stripToken(i[c]),a(o))}}else for(o in i)i.hasOwnProperty(o)&&(l[o]=i[o],a(o));if(Vt(r.omnitureCustomFields)){var u=r.omnitureCustomFields;for(o in u)u.hasOwnProperty(o)&&s(i,l,o,u[o],!1)}if(Vt(r.omniturePropertyOverrides)){var _=r.omniturePropertyOverrides;for(o in _)_.hasOwnProperty(o)&&s(i,l,_[o],o,!0)}return l.trackVars=t.join(Et),t=[],l}}}(),ei=new i,ti={isMobile:function(){var e=this.getUserAgent();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},hasUserAgentValue:function(e){return!!this.getUserAgent().match(e)},getPlatform:function(){return window.navigator.platform},isBrowser:function(e){switch(e){case"Chrome":return!!window.chrome;case"Firefox":return"undefined"!=typeof InstallTrigger;case"Safari":return/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||window.safari.pushNotification).toString();case"IE":return!!document.documentMode;case"Edge":return!this.isBrowser("IE")&&!!window.StyleMedia}},getUserAgent:function(){return window.navigator.userAgent}};!function(){function e(){var e=Array.prototype.slice.apply(arguments),t=e.pop(),n=this;return Xt(e)&&(e.push.apply(e,Object.keys(this)),ei.removeValue(e,"by")),e.forEach(function(e){if(Yt(e)){var i=ei.getOrCreateArray(n,e);ei.removeValue(i,t)}}),this}function t(e,t,n){var i,a=e+"__KEY",r=e+"__VALUE",o=ei.getOrCreateArray(this.by,a),s=ei.getOrCreateArray(this.by,r);return ei.pushIfAbsent(o,t),i=o.indexOf(t),Bt(n)&&(s[i]=n),s[i]}function n(e,t){var n=e+"__KEY",i=e+"__VALUE",a=ei.getOrCreateArray(this.by,n),r=ei.getOrCreateArray(this.by,i),o=a.indexOf(t);a.splice(o,1),r.splice(o,1)}function i(){var e=Array.prototype.slice.apply(arguments),t=e.pop(),n=this;return e.forEach(function(e){var i=ei.getOrCreateArray(n,e);ei.pushIfAbsent(i,t)}),ei.pushIfAbsent(this.everyInstance,t),this.by.last.catalog=t,this}a.prototype.catalog=i,a.prototype.expunge=e,a.prototype.byIndex=t,a.prototype.unIndex=n}();var ni={read:function(e){var t=xn().split(St),n=ct;e+=vt;for(var i=0,a=t.length;a>i;i++){for(var r=t[i];r.charAt(0)===yt;)r=r.substring(1,r.length);0===r.indexOf(e)&&(n=unescape(r.substring(e.length,r.length)))}return n},set:function(e,t,n,i,a){var r,o=e+vt+escape(t);return n&&((r=new Date).setTime(r.getTime()+60*n*60*1e3),o+=St+"expires"+vt+r.toGMTString()),a||(a=ni.getCookieAutoDomain()),"localhost"!==a&&(o+=St+"domain"+vt+a),o+=St+"path"+vt+(i||gt),Fn(o),o},remove:function(e,t,n,i){var a=e+vt;n||(n=ni.getCookieAutoDomain()),"localhost"===n||i||(a+=St+"domain"+vt+n),a+=St+"path"+vt+(t||gt),Fn(a+=St+"expires"+vt+"Thu, 01-Jan-1970 00:00:01 GMT")},getCookieAutoDomain:function(){var e=document.domain.split(Tt),t=e.length,n=t>2?e[t-2]+"."+e[t-1]:document.domain;return t>=3&&null!==fn.match(n)&&(n=e[t-3]+"."+e[t-2]+"."+e[t-1]),n},setLocalStorage:function(e,t){try{window.localStorage?window.localStorage.setItem(e,t):ni.set(e,t)}catch(n){ni.set(e,t)}},getLocalStorage:function(e){try{return window.localStorage?window.localStorage.getItem(e):ni.read(e)}catch(t){return ni.read(e)}}};BentoNowUtility=new r;var ii=new o,ai=function(e,t){var n=function(e){if(typeof e===rt)try{e=new e}catch(e){}return e};if(e=n(e),t=n(t),e!==t&&typeof e===at&&typeof t===at)for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);return e},ri=function(){function e(e,n){var i=ct,a="",r="";if(Ft(window.XMLHttpRequest))return wt(t+"XMLHttpRequest is not supported by this browser."),_t;if(Ft(n)||!Gt(n.url))return wt(t+"No URL parameter passed to request, request has failed."),_t;if(i=new XMLHttpRequest,a=n.url,r=n.data,i.open(e,a),Gt(n.contentType)&&i.setRequestHeader("Content-Type",n.contentType),!Yt(r))try{r=JSON.stringify(r)}catch(e){wt(t,"Failed to convert data into string, was it a valid JSON object?",e)}return i.send(r),ut}var t=it+"BentoHttpRequestUtility ";return{sendPOSTRequest:function(t){return e("POST",t)},sendGETRequest:function(t){return e("GET",t)},sendImageBeaconRequest:function(e){var n=ct,i="";if(Lt(t,"Sending image beacon."),!xt(e)||!Gt(e.url))return wt(t+"No URL parameter passed to request, request has failed."),ct;Jt(e.appendRandomString)&&(e.url+=gt+Math.round(1e9*Math.random())),xt(e.params)&&(i=li.toString(e.params),e.url+=(e.url.indexOf(At)>-1?ft:At)+i);try{return n=new Image(0,0),n.src=e.url,n}catch(e){return wt(t,"Error encountered when setting up image beacon : ",e),ct}}}}(),oi=new s,si={random:function(e,t){return t||(t=e,e=0),Math.floor(Math.random()*(t-e+1)+e)},roundOff:function(e){return e=qt(e)?e:0,Math.round(e)}};!function(t){var n=function(t){if(typeof t===at&&JSON&&t.data){var n=e.MessageVars,i=(new e.Notifier).notify,a=ct;try{a=JSON.parse(t.data)}catch(e){return}if(!kt(a)&&a.hasOwnProperty("type"))switch(a.type){case n.VMN_UUID:i(ce,a);break;case n.DEMDEX_SEGMENT:i(ue,a);break;case n.ADMS_TRACKING_SERVER:i(_e,a);break;case n.USER_SEGMENT:i(pe,a);break;case n.ADMS_VISITOR_ID:i(he,a)}}};typeof t.addEventListener!==dt?t.addEventListener("message",n,!1):typeof t.attachEvent!==dt&&t.attachEvent("onmessage",n)}(window),e.MessageUtil=function(){var e=it+"MessageUtil ",t=typeof window.parent===at&&typeof window.parent.postMessage===rt&&window.parent!==self;return{postMessage:function(n,i){if(t&&n){var a={type:n};typeof i!==dt&&(a.value=i),a=JSON.stringify(a),Lt(e+"postMessage","Posting message "+n+" to window!"),window.parent.postMessage(a,"*")}else Lt(e+"postMessage","Cannot post message, not inside of an iframe.")}}}();var li={toString:function(e,t){if(!xt(e))return ct;t||(t=ft);var n=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&n.push(i+vt+e[i]);return n.sort(),n.join(t)},getValueFor:function(e,t){return e.hasOwnProperty(t)?e[t]||0===e[t]?e[t]:-1:ct},getMemberIfExist:function(e,t,n){for(var i=t.split("."),a=0,r=i.length;r>a;a++){var o=i[a];if(!(!kt(e)&&Vt(e)&&o in e))return n;e=e[o]}return e},doesMemberExist:function(e,t){return li.getMemberIfExist(e,t,ct)===ct?_t:ut},isEmpty:function(e){return Object.keys(e).length>0?_t:ut},isValidJSON:function(e){var t=ct;if(Gt(e))try{if(t=JSON.parse(e),xt(t))return ut}catch(e){return _t}else if(xt(e))try{if(t=JSON.parse(JSON.stringify(e)),xt(t))return ut}catch(e){return _t}return _t}},di=function(e){var t=_t,n=ct,i=function(e){},a=-1,r=[];return e===ct||typeof e!==at||typeof e.delegate!==at||typeof e.delegate.onQueueItem!==rt?ct:(typeof(n=e.delegate).onQueueError===rt&&(i=n.onQueueError),typeof n.maxCount===st&&n.maxCount>0&&(a=n.maxCount),{add:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),_t):(r.push(arguments),r.length)},addPriority:function(){return a>0&&r.length>=a?(i(new Error("maxCount exceeded: "+r.length)),_t):(r.unshift(arguments),r.length)},start:function(){Lt(it+"Queue.start running: "+t),t||(t=ut,this.run())},run:function(){for(Lt(it+"Queue.run queue.length: "+r.length);t;)r.length>0?n.onQueueItem.apply(n,r.shift()):this.stop()},stop:function(){t=_t},isRunning:function(){return t},count:function(){return r.length},clear:function(){this.stop(),r=[]}})};e.Storage=function(){function e(e){var t=window.localStorage.getItem(s),n=Gt(t)&&t||Dt;try{d=JSON.parse(n)}catch(t){return d=ni.getLocalStorage(e),Mt(o,"Conversion of localStorage to object has failed."),Mt(o,"Falling back to standard localStorage methods."),d}return e?d[e]?d[e]:ni.getLocalStorage(e)||ct:d}function t(t,n){var i=ct,a="";if(Ft(t)||Ft(n))return wt(o+"saveToLocalStorage must be called with a name and value."),_t;i=e(),xt(i)||(i={}),i[t]=n;try{a=JSON.stringify(i),window.localStorage.setItem(s,a)}catch(e){return Mt(o,"Conversion of storage object to string has failed."),_t}return a}function n(){return window.localStorage.setItem(s,Dt),Dt}function i(e){for(var t=s+vt,n=xn().split(St),i="",a=Dt;i=n.pop();)if(i=i.replace(/\s/g,""),0===(i=i.replace(/\\/g,"")).indexOf(t)){a=i.substring(t.length,i.length),a=(a=decodeURIComponent(a.replace(new RegExp(t,"g"),""))).replace(/^['"](.*)"$/,"$1");break}try{l=JSON.parse(a)}catch(t){return l=ni.read(e),Mt(o,"Conversion of cookieString to object has failed, falling back to standard cookie methods."),l}return e?l[e]?l[e]:ni.read(e)||ct:l}function a(e,t){var n,a=ct,r=s+vt;if(Ft(e)||Ft(t))return wt(o+"saveToLocalStorage must be called with a name and value."),_t;a=i(),xt(a)||(a={}),a[e]=t;try{r+=encodeURIComponent(JSON.stringify(a))}catch(e){return Mt(o,"Conversion of cookie object to string has failed."),_t}return"localhost"!==(n=ni.getCookieAutoDomain())&&(r+=St+"domain"+vt+n),r+=St+"path"+vt+gt,Fn(r),r}function r(){var e=s+vt+Dt;return Fn(e),e}var o=it+"Storage - ",s="BentoStorage",l={},d={};return{getLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),e}catch(e){return Mt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),i}}(),saveToLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),t}catch(e){return Mt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),a}}(),resetLocalStorage:function(){try{return window.localStorage.setItem("bentoTestItem","test"),window.localStorage.removeItem("bentoTestItem"),n}catch(e){return Mt(o,"localStorage is not enabled for this browser - localStorage methods have been translated to cookie methods."),r}}(),getCookieContents:i,saveToCookie:a,resetCookieContents:r}}();var ci=new l,ui=function(){var e="style",t="head";return{generateStyleTag:function(n,i){if(Gt(n)){var a=document.createElement(e);return a.innerHTML=n,Gt(i)?document.querySelector(i).appendChild(a):document.getElementsByTagName(t)[0].appendChild(a),ut}return _t}}}(),_i=function(e){function t(){s?s.call(e):l||clearInterval(r)}var n=_t,i=0,a=0,r=ct,o=qt((e=e||{}).interval)?e.interval:1e3,s=Qt(e.timerFunc)?e.timerFunc:pt,l=e.isLoop;return{start:function(){return n||(n=ut,i=nn(),r=setInterval(t,o)),i},stop:function(){var e=0;return n?(e=nn(),i=e-i,a+=i,n=_t,clearInterval(r),e):i},reset:function(){return i=a=0,clearInterval(r),i},isRunning:function(){return n},getElapsedSeconds:function(){return Math.floor(a/1e3)},getElapsedMilliSeconds:function(){return a}}},pi=new d;e.BentoApi=function(t){function n(){return pn.stop(),Ln?(Lt(dt+"adSdkFailSafeTimer - Ad Request Failed"),void zn({error:e.AdVars.AD_REQUEST_FAILURE_EVENT,type:"AD_SDK_ERROR"})):Jt(On)||pn.getElapsedSeconds()>10?(pn.reset(),Ne(),ln.onAdPodPlayEnd(),void(Tn(on)&&(Yt?(Lt(dt+"adSdkFailSafeTimer - Ad Bridge Failure"),zn({error:e.AdVars.AD_BRIDGE_FAILURE_EVENT,type:"AD_SDK_ERROR"})):(Lt(dt+"adSdkFailSafeTimer - Ad Bridge SWF Not loaded"),zn({error:e.AdVars.AD_SWF_NOTLOADED_EVENT,type:"AD_SDK_ERROR"}),On=ut)))):void pn.start()}function i(){return fn.stop(),cn?ut:fn.getElapsedSeconds()>An?(Lt(dt+"adFailSafeTimer - ad play request exceeded timeout. Moving to content"),fn.reset(),c(et,ct)):void fn.start()}function a(){Zt(vn)&&gt&&(Lt(dt+"clearing 10 second timer for SDK response"),pn.stop(),pn.reset(),On=_t,vn=ut)}function r(){Lt(dt+"clearing the timer for ad play start"),fn.stop(),fn.reset()}function o(){Ln=ut,Ke()}function s(t,n){return Jt(e.Config[t])?(on.adServer===n&&Lt(dt+"PMT ad server does not match the one in Bento Config. Using the ad server configured in Bento"),ut):void 0}function l(){return s("imaEnabled","freewheel")}function d(){return s("freewheelEnabled","doubleclick")}function c(e,t,n){return Lt(dt+"addToQueue hasConfig: "+wt+" event ",e,t),Jt(n)?Dt.addPriority({event:e,data:t}):Dt.add({event:e,data:t}),wt&&(Dt.stop(),Dt.start()),Dt.count()}function u(e){function t(t){c(e,t)}return t}function _(){var t=-1;if(Wt&&Wt.getBandwidthAvg&&(t=Wt.getBandwidthAvg()),!Ft(t)&&-1!==t){var n={value:t,time:(new Date).getTime()};Lt(dt+"getPlayerBandwidth bandwidthFromPlayer : ",t),ni.setLocalStorage(e.FreewheelVars.FW_BANDWIDTH_KEY,JSON.stringify(n))}}function p(){var e=Math.floor(+Wt.playhead),t=Math.floor(+Wt.absolutePlayhead);return qt(e)&&qt(t)||Mt(dt+"getPlayheadObject: playhead or fullEpPlayhead is not a number"),qt(e)&&(Vn=e),qt(t)&&(Un=t),{playhead:Vn,fullEpPlayhead:Un}}function g(e,t){return{active:e?e.active:t,width:Xt.offsetWidth,height:Xt.offsetHeight,top:Xt.offsetTop,left:Xt.offsetLeft,isFullScreen:t||Kt}}function f(e){var t=e.slice(0),n=ct;for(E();n=t.pop();)n.requirementsMet()&&(Qt(n.callback)&&n.callback(),ln[n.apiName]=new n.ReceiverConstructor(ln),zt.addReceiver(ln[n.apiName]));c(S,on,ut)}function E(){for(var t=In.slice(0),n=ct,i=ct;n=t.pop();)xt(i=ln[n.apiName])&&(i[V]&&i[V](e.Intent(V,p())),ln[n.apiName]=ct);zt.clearReceivers()}function m(t){Jt(t)&&pe()&&Ke({errorObj:{code:"AD-BLOCKER-ENABLED",level:e.ErrorCode.WARN,message:"Ad blocker enabled. Skipping all ad breaks"}}),Jt(t)&&bn===In&&(bn=yn,f(bn),gt=_t,Lt(dt+"Receivers remapped due to ad blocking")),ue("adBlockerStatus",t),Lt(dt+"Notifying player of ad blocker status.")}function T(){return bn=Sn,f(bn),Lt(dt+"Receivers remapped due to seamless mode."),c(nt)}function A(e){var t="on";"off"===e&&(t=e);var n={READY:_e,RESIZE:u(Ee),STATE_CHANGE:me,PLAYHEAD_UPDATE:Pe,FULL_SCREEN_CHANGE:De,INDEX_CHANGE:be,METADATA:Le,MEDIA_START:Me,MEDIA_END:we,PLAYLIST_COMPLETE:Wn,UI_STATE_CHANGE:ke,VOLUME_CHANGE:Ve,REPLAY_REQUEST:Ue,BUFFERING_WAITING:Re,BENTO_WAITING_FOR_AD_BREAK:He,BENTO_PAUSE_REQUESTED:Xe,BENTO_RESUME_REQUESTED:je,BENTO_AD_BREAK_TIMEOUT:Ne,PLAYER_DESTROY:Oe,SEAMLESS_MODE:T,BENTO_AD_CLICKED:Qe};if((lt=window.EdgePlayer&&window.EdgePlayer.Events)&&Wt[t])for(var i in n)lt[i]&&Wt[t](lt[i],n[i])}function I(){A()}function ne(){A("off")}function le(){return Ot?_t:(Wt.ready&&_e(),e.supports=e.supports||{},e.supports.edgeAdTimeoutFailoverEvent=ut,Lt(dt+"init()"),Dt=new di({delegate:ln}),I(),void(Ot=ut))}function ce(e,t){return Wt&&Wt.bento&&Wt.bento[e]?(jt(t)?Wt.bento[e].apply(ln,t):Ft(t)?Wt.bento[e].apply(ln):Wt.bento[e].apply(ln,[t]),Lt(dt+"playerAPI("+e+")",t),ut):(Lt(dt+"playerAPI()  "+e+"does not exist"),_t)}function ue(e,t){return Wt.ready?ce(e,t):(bt.push({event:e,data:t}),_t)}function _e(){for(var e=ct;e=bt.shift();)ce(e.event,e.data);ue("ready",an())}function pe(){return gt}function he(){return ht}function me(e){var t=p();switch(Lt(dt+"onPlayerStateChange "+e.data+" playhead: "+Wt.playhead+" absolutePlayhead: "+Wt.absolutePlayhead,t),e.data){case"play":case"playing":if(pe())ft&&je(e),ft=_t;else{if(!Et)return;Tt?It&&(vt=ut):(Tt=ut,At=ut),It=_t}St=_t,Hn=_t;break;case"paused":pe()?(ft=ut,Xe()):(!It&&Tt&&Gn(t),It=ut);break;case"seeking":It&&(Hn=ut),pe()||It||!Tt||(It=ut,Ct=ut,qn(t))}}function Pe(e){var t=Math.floor(e.target.playhead);if(wn&&nn.isMonolithicContent){var n=ln.getCuePoints(),i=Math.floor(e.target.absolutePlayhead);i>=Math.floor(n[Mn].time)&&(Ye(p()),At=ut),Mn=ln.getMonolithicIndex(i)}if(St=_t,Tt&&(!It||!Wt.isBuffering)&&Pt!==t){Pt=t;var a=p();Be(a),At?(At=_t,xe(a)):(vt||It&&!Hn)&&(vt=_t,It=_t,Kn(a))}}function Re(e){St||c(fe,p()),It=ut,St=ut}function De(e){c(L,g(ct,e.data))}function be(e){Lt(dt+"onIndexChange itemIndex",e.data),nn.isPlaylistMode&&(Yt=_t),un=e.data,c(O,{itemIndex:e.data})}function Ne(e){Lt(dt+"onAdBreakTimeout");var t=window.EdgePlayer;gt=_t,t&&t.Timeouts&&e&&e.data&&zn({phase:e.data.phase,type:"AD_TIMEOUT_FAILOVER"}),c(te,ct)}function Oe(n){Lt(dt+"playerWillBeDestroyed",n),a(),E(),ne(),e.removePlayer(t)}function Le(e){Vt(e)&&Vt(e.data)&&(e&&e.data&&(_n=JSON.parse(JSON.stringify(e.data))),!kt(_n)&&_n.index>-1&&on.feed&&(Lt(dt+"onMetadata()",_n),on.feed.items[_n.index].mediaGen=_n.mediaGen,Ht=Ze(on,_n.index),Ht.itemIndex=Ht.itemIndex||Ht.index,c(y,Ht)))}function Me(e){Lt(dt+"onMediaStart()"),Et=ut}function we(e){Et&&(Lt(dt+"onMediaEnd()",Pt),Ye(p())),kn=_t,Et=_t,Tt=_t,It=_t}function ke(e){c(w,g(e.data))}function Ve(e){c(k,{volumeLevel:e.data})}function Ue(e){Yt=_t,_(),c(ge)}function xe(e){_(),c(C,e)}function Fe(){Lt(dt+"onImaJsSdkLoadError"),Ke(),c(Ae)}function Be(e){$t(N,e)}function Ye(e){_(),c(b,e)}function He(t){var n=window.EdgePlayer&&window.EdgePlayer.supports&&window.EdgePlayer.supports.persistAdTerminated,i=_t;if(sn=e.Config||{},i=li.isEmpty(sn)?ut:_t,Lt(dt+"onIsTimeForAnAd ",t,Nt,n,i),!kt(nn)&&nn.isMonolithicContent&&0!==Wt.absolutePlayhead&&(Ye(p()),Tt=_t),Gt(xn)&&(Bn.messageText=xn),Jt(i)&&t&&t.data&&0===t.data.currentIndex&&zn({error:e.AppMeasureVars.BENTO_CONFIG_NOT_AVAILABLE,type:"REPORT-BENTO-CONFIG"}),n&&(Jt(i)||Zt(Nt)))ue("adBreakStarted",Bn),gt=ut,Ke(Jt(i)?{errorObj:{code:"BENTO-CONFIG-NOT-AVAILABLE",level:e.ErrorCode.WARN,message:"Bento config not available"}}:{errorObj:{code:"ADS-DISABLED",level:e.ErrorCode.WARN,message:"Ads are disabled"}});else{if(en=ut,ue("adBreakStarted",Bn),Jt(on.useQuickTimePlayerOnIphone)||at(),gt=ut,On)return void ln.onAdBreakTerminated({errorObj:{code:"MISO-SWF-BLOCKED",level:e.ErrorCode.WARN,message:"Ad-bridge SWF is blocked"}});Lt(dt+"adSdkFailSafeTimer - START"),vn=_t,pn.start(),c(F,t)}}function Ge(e){return a(),gt=_t,tt(),ue("adBreakTerminated",e.errorObj),ut}function Ke(e){wn=ut,tt(),pe()&&xt(e)&&Ge(e),ue("skipAllAdRequests"),gt=_t}function qe(){gt=_t,tt(),ue("adBreakSkipped")}function We(e){ue("adManifestRequest",[e,an()]),c($,e)}function je(e){c(W,e),ue("adResumed")}function Xe(e){c(j,e),ue("adPaused")}function ze(e){$t(z,e)}function Qe(){return ue("adPaused"),c(X,ct)}function Je(e){for(var t=0,n=0,i=e.length;i>n;n++)t+=+e[n].duration;return t}function Ze(t,n){var i=(t=t||{}).feed||{},a=i.items||[],r=a[n]||{};return r.playlistLength=a.length,r.playlistDuration=Je(a),r.title=i.title,r.isFullEpisode=ci.isDefined(t.contentType)&&"episode"===t.contentType,r.isMonolithicContent=r.isFullEpisode&&1===r.playlistLength&&Bt(ln.getCuePoints()),r.feedWithQueryParams=t.feedWithQueryParams,r.hasPlaylist=r.playlistLength>1||r.isMonolithicContent,r.isPlaylistMode=r.isFullEpisode===_t&&r.hasPlaylist,e.MetadataVO.fromRSSMetadata(r)}function $e(){var t=e.IMAVars.NO_ADS_SUPPORT,n=on.embedVars,i=n&&n.custParams;return(i?-1===i.indexOf(t):ut)?void ln.setAdsStatus(ut):(ui.generateStyleTag(Dn),ln.setAdsStatus(_t))}function tt(){xt(Wt.adsElement)&&Bt(Wt.adsElement.style)&&(Wt.adsElement.style.visibility=Pn);var e=rt();e&&e.classList&&e.classList.remove&&e.classList.remove(Nn)}function at(){xt(Wt.adsElement)&&Bt(Wt.adsElement.style)&&(Wt.adsElement.style.visibility=Cn)}function rt(){return Bt(Wt.imaPlaceholder)?Wt.imaPlaceholder:void 0}function ot(e){Yn=e.persist,xn=ci.lengthLimiter(e.adMessage,1024),xn=ci.sanitize(xn)}function st(t){return-1!==t.indexOf(mt+mt)?(Fn=ci.lengthLimiter(t,1024),Fn=ci.sanitize(Fn,ct,mt),Fn=Fn.replace(mt+mt,e.AdVars.PLAYER_AD_COUNT_PLACEHOLDER),Fn=Fn.replace(mt,e.AdVars.PLAYER_AD_INDEX_PLACEHOLDER),void(Fn=Fn.concat(yt+Rt+yt))):void Mt(dt+"Incorrect ad count message syntax passed. Please pass # for ad index and ## for ad count. Example: Ad # of ##")}var lt,dt=it+"BentoApi ",ht=_t,gt=_t,ft=_t,Et=_t,Tt=_t,At=_t,vt=_t,It=_t,St=_t,Ct=_t,Pt=-1,Dt=ct,bt=[],Nt=_t,Ot=_t,wt=_t,Ut=ct,Yt=_t,Ht=ct,Kt=_t,Wt=t||{},Xt=Wt&&Wt.$el&&Wt.$el[0]?Wt.$el[0]:ct,zt=new e.Notifier,$t=zt.notify,en=_t,tn=ct,nn=ct,rn=ct,on={},sn=e.Config||{},ln=this,dn=_t,cn=_t,un=Wt.currentMetadata&&Wt.currentMetadata.index?Wt.currentMetadata.index:Wt.config&&Wt.config.startIndex?Wt.config.startIndex:0,_n=ct,pn=new _i({timerFunc:n,interval:1e3}),hn={start:pt,stop:pt,reset:pt,getElapsedSeconds:pt},gn=new _i({timerFunc:i,interval:1e3}),fn=Jt(on.failSafeTimerDisabled)?hn:gn,En=6,mn=17,An=En,vn=_t,In=[{ReceiverConstructor:e.GoogleIMA,apiName:"googleIMA",requirementsMet:l,callback:$e},{ReceiverConstructor:e.Freewheel,apiName:"freewheel",requirementsMet:d,callback:$e},{ReceiverConstructor:e.HeartBeatMeasure,apiName:"heartBeatMeasure",requirementsMet:function(){return on.omnitureEnabled&&!on.omnitureHeartbeatMeasureDisabled},callback:function(){Qt(window.addHeartbeatAnalyticsLibrary)&&(window.addHeartbeatAnalyticsLibrary(),Ft(window.AppMeasurement)&&window.addAppMeasurementLibrary())}},{ReceiverConstructor:e.AppMediaMeasure,apiName:"appMediaMeasure",requirementsMet:function(){return on.omnitureEnabled&&on.omnitureHeartbeatMeasureDisabled},callback:function(){Qt(window.addLegacyVideoReportingLibrary)&&(window.addLegacyVideoReportingLibrary(),Ft(window.AppMeasurement)&&window.addAppMeasurementLibrary())}},{ReceiverConstructor:h,apiName:"streamSense",requirementsMet:function(){return on.comScoreEnabled},callback:function(){Qt(window.addStreamSenseLibrary)&&window.addStreamSenseLibrary()}},{ReceiverConstructor:Ti,apiName:"nielsen",requirementsMet:function(){return on.nielsenReporterEnabled},callback:function(){Qt(window.addNielsenLibrary)&&window.addNielsenLibrary()}},{ReceiverConstructor:e.Demdex,apiName:"demdex",requirementsMet:function(){return on.demdexEnabled}},{ReceiverConstructor:e.PlayerReceiver,apiName:"playerReceiver",requirementsMet:function(){return ut}},{ReceiverConstructor:mi,apiName:"legacyBeacons",requirementsMet:function(){return ut}}],Sn=In.slice(2,4),yn=In.slice(2),bn=In,On=_t,Ln=_t,Mn=0,wn=_t,kn=_t,Vn=0,Un=0,xn="",Fn="",Bn={},Yn=_t,Hn=_t;this.getMetadata=function(){var e;try{e=JSON.parse(JSON.stringify(Ht))}catch(e){}return e};var Gn=u(R),Kn=u(P),qn=u(D),Wn=u(M),jn=u(Te),Xn=u(Z),zn=u(Ce);return this.getMonolithicIndex=function(e){var t=ln.getCuePoints();if(e>=0&&e<Math.floor(t[0].time))return 0;for(var n=0;n<t.length;n++)if(n===t.length-1||Math.floor(t[n].time)<=e&&e<Math.floor(t[n+1].time))return n+1},this.getMonolithicSegDuration=function(e){var t=ln.getMonolithicIndex(Math.floor(Wt.absolutePlayhead)),n=ln.getCuePoints();return t>0?Bt(n[t])?n[t].time-n[t-1].time:rn-n[t-1].time:n[t].time},this.onQueueItem=function(e){$t(e.event,e.data)},this.onPlayerConfigReady=function(t){return Vt(t)?(wt=ut,on=t,sn=e.Config||{},Tn(Wt)||!l()||!Ft(window.google)&&xt(window.google.ima)||Jn.loadImaJsSdk(),d()&&window.addFreewheelLibrary(),Wt&&on.feed&&(on.isMobilePlatform=Wt.isMobilePlatform,tn=on.feed,nn=Ze(on,un),rn=nn.playlistDuration),f(bn),ui.generateStyleTag(Rn),void(Tn(on)&&Jn.loadAdBridgeSwf(Xt,Wt.id,ln.googleIMA?"ima":"freewheel"))):_t},this.getCuePoints=function(){if(Bt(on)&&Bt(on.feed)){var e=on.feed.items[0],t=e.group||e.rss.group;if(Bt(t)&&Bt(t.category)&&Bt(t.category.adCuePoints))return t.category.adCuePoints}},this.onPlayerFeedLoaded=function(t){e.getAdBlockingStatus(function(e){m.apply(ln,[e])}),$t(v,t)},this.onAdsManagerReady=u(ve),this.onAdRequested=We,this.onAdRequestCompleted=function(t){var n=e.QoeVO(t);Lt(dt+"onAdRequestCompleted adManifestMetadata: ",n),ue("adManifestReady",an()),c(ee,n)},this.onAdSkipped=function(e,t){return Lt(dt+"onAdSkipped adId: ",e),r(),fn.start(),ue("adSkipped",[e,t]),c(oe,e)},this.onAdPlayRequest=u(se),this.onAdPodPlayStart=function(e){a(),fn.start(),_(),c(Y,e)},this.onAdPodPlayEnd=function(e){a(),r(),gt=_t,c(H,e),en&&(en=_t,tt(),ue("adBreakEnded"))},this.onAdPlayStart=function(e){r(),ht=ut,dn?dn=_t:((on.requiresCoppaCompliance||Yn)&&(Ut.messageText="Advertisement",Ut.staticAdMessageEnabled=!0,Ut.hideAdMessage=!1,Gt(Fn)||(Ut.adCount=0)),Gt(xn)&&(Ut.messageText=xn),Gt(Fn)&&(Ut.countdownTextWithPosition=Fn),ue("adStarted",Ut),ue("adResumed"),at()),c(G,e)},this.onAdPlayEnd=function(e){fn.start(),ht=_t,ue("adEnded",Ut),c(K,e)},this.onAdMetadata=function(e){c(q,Ut=e)},this.setAdsStatus=function(e){Nt=e},this.onAdBridgeReady=function(){return Yt?(pe()&&Ge({errorObj:{code:"AD-BRIDGE-LOADED-TWICE",level:e.ErrorCode.ERROR,message:"Ad Bridge loaded twice"}}),Ke(),c(J,ct),Yt=_t,_t):(Yt=ut,c(Q))},this.getPlayerContainer=function(){return Xt},this.getPlayerId=function(){return Wt.id},this.getPlayer=function(){return Wt},this.getPlayerConfig=function(){return on},this.getPlayerElement=function(){return Wt.adsElement||Wt.element},this.getPlaylistMetadata=function(){return tn},this.getFirstItemData=function(){return nn},this.getIsLive=function(){return Wt&&Wt.isLive?Wt.isLive():ct},this.onTrueXChoiceCardStart=function(e){dn=ut,An=mn,ue("adStarted",e)},this.onTrueXChoiceCardEnd=function(e){dn=_t,cn=ut,ue("adEnded",e),c(K,e),An=En},this.getCurrentItemIndex=function(){return un},this.getCurrentVideoId=function(){return nn.isFullEpisode===ut?nn.imaVideoId:tn.items[un].rss.guid.split(":").slice(-1)[0]},this.preloadContent=function(e){Jt(kn)||(kn=ut,ue("preloadContent"))},this.sendAdPlayRequest=function(e){ue("adPlayRequest",e)},this.getPlayerVolume=function(){return Wt.volume()},this.getReceivers=function(){return bn},this.adBreakNotAvailable=u(re),this.onAdError=u(U),this.onAdBreakReady=u(ae),this.onContentResumeRequested=u(Ie),this.onAAMDataReady=u(de),this.onAdTimeout=u(x),this.onAdManagerDestroyed=u(ie),this.onAdBreakNotAvailable=u(re),this.onAdLoaded=u(B),this.onAdBufferStart=u(Se),this.onAdBufferStop=u(ye),this.onAdRenderer=Xn,this.onAdPlayheadUpdate=ze,this.onAdClick=Qe,this.onImaJsSdkLoaded=jn,this.onImaJsSdkLoadError=Fe,this.onAdBreakTerminated=Ge,this.onReportAdError=zn,this.onAdBlocking=m,this.isInAdBreak=pe,this.isInAdPlay=he,this.onAdRequestFailed=o,this.clearSdkResponseFailSafeTimer=a,this.clearAdPlayFailSafeTimer=r,this.onSkipAllAdRequests=Ke,this.onAdBreakSkipped=qe,this.getImaPlaceholder=rt,this.onSetCustomAdMessage=ot,this.onSetCustomAdCountMessage=st,this.onAdUnPause=je,this.onAdPause=Xe,le(),this},e.InitializeEnvironment=function(e){function t(e){var t=e||window.navigator.userAgent;t=t.replace(/\;|\(|\)|\,/gi,"");var a={browser:"",device:"Desktop",os:""};/Chrome/.test(t)?(a.browser="Chrome",ln=ut):/Firefox/.test(t)?(a.browser="Firefox",dn=ut):/MSIE/.test(t)?(a.browser="MSIE",cn=ut):/Safari/.test(t)?(a.browser="Safari",un=ut):/Opera/.test(t)&&(a.browser="Opera"),/Windows/.test(t)?a.os="Windows":/Macintosh/.test(t)?a.os="Macintosh":/Linux/.test(t)?a.os="Linux":/Unix/.test(t)&&(a.os="Unix"),/iPad/.test(t)?(a.device="iPad",_n=ut):/iPod/.test(t)?(a.device="iPod",_n=ut):/iPhone/.test(t)&&!/iPod/.test(t)?(a.device="iPhone",pn=ut,_n=ut):_n=_t,(hn=/Android/i.test(t))&&(a.device="Android"),IS_DESKTOP="Desktop"===a.device;var r=ni.read(n);if(a.isMobile=_t,a.isTablet=_t,Gt(r)){var o=ci.toObject(r,Et,It);Gt(o.m)&&1==+o.m||/^m\./.test(location.hostname)?a.isMobile=ut:Gt(o.t)&&1==+o.t&&(a.isTablet=ut)}return i=a,a}var n="btg_device",i=ct;return{userAgent:t(e),getPlatform:function(){return i.device},getCnamedDomain:function(e){var t=e||location.hostname,n="",i=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.match(i)){var a=i.exec(t);n="sc"+Tt+t.substr(a.index)}else n="sc"+Tt+t;return n},getRootDomain:function(){var e=location.hostname,t=new RegExp(/[A-z0-9\-]*\.\bco\...\b|[A-z0-9\-]*\.uol\.\bcom\...\b|[A-z0-9\-]*\.\bcom\...\b|[A-z0-9\-]*\.\bcom\b|[A-z0-9\-]*\.\borg\b|[A-z0-9\-]*\...$/);if(t.test(e)){var n=t.exec(e);return e.substr(n.index)}return e},getBrowser:function(){return i.browser},isIOS:function(){return _n}}},e.Environment=e.InitializeEnvironment(),e.Intent=function(e,t){var n=e,i=t||{};return{getName:function(){return n},getData:function(){var e={};for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}}},e.Notifier=function(){function t(t,n,i){t[n].apply(t,[e.Intent(n,i)])}function n(e,t){for(var n=_t,a=0,r=i.length;r>a;a++)if(i[a]===e){n=ut,t&&i.splice(a,1);break}return n}var i=[];return{addReceiver:function(e){return e===ct||typeof e!==at||n(e)?_t:(i.push(e),ut)},removeReceiver:function(e){return e===ct||typeof e!==at?_t:(typeof e.onRemove===rt&&e.onRemove(),n(e,ut))},count:function(){return i.length},notify:function(e,n){typeof e===ot&&e.match(/playhead/gi)||Lt(it+"Notifier notify",e,n);for(var a=0,r=i.length;r>a;a++){var o=i[a];typeof o===at&&typeof o[e]===rt&&t(o,e,n)}return ut},clearReceivers:function(){for(var e in i)i[e]=ct;i=[]}}};var hi=new c;e.AdMetadataVO={fromIMADataAndContentInfo:function(t,n,i){function a(e){var t=-1;return e.adPodInfo&&e.adPodInfo.totalAds&&(t=e.adPodInfo.totalAds),t&&t>-1?t:_.NO_AD_COUNT}function r(e){var t=_t;return e.adSystem&&"GDFP"!==e.adSystem&&(t=ut),t}function o(e){var t=_t;return(e.adWrapperSystems&&"AdSense/AdX"===e.adWrapperSystems[0]||e.adSystem&&"AdSense"===e.adSystem)&&(t=ut),t}function s(e,t){var n=-1;return e.duration&&(n=t?1e3*e.duration:e.duration),n&&n>-1?n:_.NO_CREATIVE_DURATION}function l(e){var t=0;return e.creativeId?t=e.creativeId:e.adId&&(t=e.adId),t||_.NO_CREATIVE_ID}function d(e){var t="";return e.adQueryId&&(t=e.adQueryId),t||_.NO_POD_ID}function c(e){var t=_t;return e.vpaid&&(t=e.vpaid),t}var u=JSON.parse(JSON.stringify(t)),_=e.AdVars;return u.isClickable=_t,u.hideAdMessage=_t,u.disableAdGuiOnPlay=_t,u.customClick=_t,u.isVast=!0,u.creativeRenditionId=null,u.desiredBitrateKbps=null,u.actualBitrateKbps=null,u.minBitrateKbps=null,u.maxBitrateKbps=null,u.renditionsCount=0,u.adType=n.inferredAdType,u.isThirdParty=r(t),u.currentAdIndex=n.adCount,u.adCount=a(t),u.isAdXAd=o(t),u.durationMs=s(t,!0),u.creativeDuration=s(t),u.creativeId=l(t),u.podId=d(t),u.isVpaid=c(t),u.currentItemIndex=n.currentIndex,u}},e.AdRenditionVO={getAdRenditionVO:function(t,n){function i(){var e=d;if(t.offsetWidth){if(c||!n.isMobilePlatform&&(s.useHTML5VideoAdsOnDesktop||s.useHTML5VideoAdsOnDesktopSafari))return e=t.offsetWidth>=760?l.FW_MAXIMUM_BITRATE_DESKTOP_BY_DIMENSIONS:l.FW_MINIMUM_BITRATE;switch(ut){case p&&_:e=l.FW_BITRATE_MOBILE_WIFI_BY_DIMENSIONS;break;default:e=l.FW_MINIMUM_BITRATE}return e}return d}function a(){var e=d,t=(new Date).getTime(),n=0,i=0,a=0;if(i+=g.value,n+=g.time,a=n&&(t-n)/1e3,!n||!i||a>l.FW_TEN_MINUTES_IN_SEC)return ni.setLocalStorage(l.FW_BANDWIDTH_KEY,""),d;switch(e=.6*i,ut){case u&&!_&&e>=l.FW_MAXIMUM_BITRATE_MOBILE:e=l.FW_MAXIMUM_BITRATE_MOBILE;break;case u&&_&&e>=l.FW_MAXIMUM_BITRATE_DESKTOP:e=l.FW_MAXIMUM_BITRATE_DESKTOP;break;case!u&&e<l.FW_MINIMUM_BITRATE:e=l.FW_MINIMUM_BITRATE;break;case!u&&e>l.FW_MAXIMUM_BITRATE_DESKTOP:e=l.FW_MAXIMUM_BITRATE_DESKTOP}return e}function r(e){var t=l.FW_PRELOAD_AD_SLOT_BEFORE_TIME,n=s.preloadBitrateRange0To800?s.preloadBitrateRange0To800:l.FW_PRELOAD_BITRATE_RANGE_0_800,i=s.preloadBitrateRange800To1000?s.preloadBitrateRange800To1000:l.FW_PRELOAD_BITRATE_RANGE_800_1000,a=s.preloadBitrateRange1000To5000?s.preloadBitrateRange1000To5000:l.FW_PRELOAD_BITRATE_RANGE_1000_5000;switch(ut){case 800>=e:t=n;break;case e>1e3:t=a;break;default:t=i}return t}function o(){f=l.FW_MINIMUM_BITRATE,h=ni.getLocalStorage(l.FW_BANDWIDTH_KEY),_=t.offsetWidth&&t.offsetWidth>1280;try{g=JSON.parse(h)}catch(e){g=_t}return f=xt(g)?a():i(),{desiredBitrateValue:f,preloadAdBeforeTime:r(f)}}var s=e.Config||{},l=e.FreewheelVars,d=s.defaultBandwidth?s.defaultBandwidth:l.FW_MINIMUM_BITRATE,c=Tn(n),u=!c,_=_t,p=n.networkConnectionType&&"mobile"!==n.networkConnectionType,h=0,g=ct,f=0;return o()}},e.AdSlotVOCollection=new a,e.AdSlotVOCollection.by[jn.INDEX_ELEMENT_KEY]=[],Object.defineProperty(p,"count",{value:1,writable:ut,enumerable:_t,configurable:_t}),function(){function t(){return xt(window.headertag)||xt(window.googletag)?xt(window.headertag)&&!Zt(window.headertag.apiReady)?window.headertag:window.googletag:(wt(m,"Page ad libraries are no longer available!"),b)}function n(t){var n,i,a,r=this.adUnit,o=(e.Config.adNetworkId||ht).toString().replace(T,ht).replace(A,ht);switch(ut){case Zt(e.Config.adDeviceTarget):n=ht;break;case Gt(e.Config.adDeviceTarget):n=e.Config.adDeviceTarget;break;case IS_DESKTOP:n=jn.DESKTOP_AD_DEFINITION;break;default:n=jn.MOBILE_AD_DEFINITION}return Yt(t)?this.adUnit=t:this.adUnit=e.Config.adUnitDefault||ht,Gt(this.adUnit)||wt(m,"setAdUnit has failed"),this.adUnit[0]===gt&&(this.adUnit=this.adUnit.slice(1)),Ht(this.adUnit,gt)?(a=this.adUnit.indexOf(gt),i=this.adUnit.slice(0,a)+n+this.adUnit.slice(a)):i=this.adUnit+n,this.adUnitPath=jn.AD_UNIT_PATH_TEMPLATE.replace(R,o).replace(D,i),e.AdSlotVOCollection.expunge(r,this).catalog(this.adUnit,this),this}function i(e){var t=this.element;switch(ut){case Gt(e):this.validSizes=E(e);break;case jt(e):this.validSizes.push.apply(this.validSizes,e);break;case Xt(this.validSizes)&&en(t):this.validSizes=[t.clientWidth,t.clientHeight]}return this}function a(e){var t,n,i=ci.queryStringToObject(kn);if(Yt(e)&&(e=ci.toObject(e,y,S)),xt(e)){e=JSON.parse(JSON.stringify(e));for(t in e)n=e[t],Ht(n,Et)&&(e[t]=n.split(v),ei.filterDuplicates(e[t]));delete e[ht],this.targetingValues=e}if(qt(this.targetingValues.slot)||(this.targetingValues.slot=p.count++),i.hasOwnProperty(jn.TEST_MODE_TARGETING_VALUES)&&(this.targetingValues.testmode=encodeURIComponent(i[jn.TEST_MODE_TARGETING_VALUES])),Ft(this.targetingValues.sizes)&&jt(this.validSizes)){if(2===this.validSizes.length&&qt(this.validSizes[0]))return this.targetingValues.sizes=this.validSizes[0]+bt+this.validSizes[1],this;this.targetingValues.sizes=this.validSizes.map(function e(t){return jt(t)&&t.map(e).join(bt)||t}).join(Et)}return this}function r(t){var n=0;return kt(this.targetRefreshRate)?(n=+t,qt(n)&&-1!==n||(n=e.Config.adRefreshRate||0),n>0&&3e4>n&&(Lt(m,"RefreshAds < 30sec not allowed, attempted:",n),n=3e4),n>3e5&&Mt(m,"Did you mean to refresh over 5 minutes ?",n),this.targetRefreshRate=n,f(this),this):this}function o(e){var t=this.element;switch(ut){case Yt(e):this.element=document.querySelector(e);break;case en(e):this.element=e}return t!==this.element&&en(this.element)&&h(this),this}function s(e){switch(ut){case Gt(e):this.id=e;break;case!Gt(this.id):this.id=jn.AD_ID_TEMPLATE.replace(C,nn()).replace(P,this.instanceIndex)}return en(this.element)||(this.element=document.querySelector(mt+this.id),en(this.element)&&h(this)),en(this.element)&&this.element.setAttribute("id",this.id),this}function l(e){return Gt(e)?(this.exclusionCategories=e.split(Et),ei.removeValue(this.exclusionCategories,ht),this):this}function d(){var e,t,n=this;return xt(this.GPTSlot)?this:(this.GPTSlot=jn.WAIT_MESSAGE,window.googletag.cmd.push(function(){if(n.GPTSlot=window.googletag.defineSlot(n.adUnitPath,n.validSizes,n.id),!xt(n.GPTSlot))return Mt(m,"GPT library failed to generate a slot - Invalid or repeat properties provided.");n.GPTSlot.addService(window.googletag.pubads());for(e in n.targetingValues)n.GPTSlot.setTargeting(e,n.targetingValues[e]);for(;t=n.exclusionCategories.shift();)n.GPTSlot.setCategoryExclusion(t)}),this)}function c(n){var i=this;return ii.isElementVisible(this.element)&&vn()&&An()||n?(window.googletag.cmd.push(function(){Zt(i.isDisplayed)&&(t().display(i.id),i.isDisplayed=ut),e.AdSlotVOCollection.expunge(jn.INACTIVE,i),t().pubads().refresh([i.GPTSlot])}),this):this}function u(){var t=this;return window.googletag.cmd.push(function(){e.AdSlotVOCollection.expunge(t),e.AdSlotVOCollection.unIndex(jn.INDEX_ELEMENT_KEY,t.element),t.element.remove(),window.googletag.destroySlots([t.GPTSlot])}),this}function _(){return this.setAdUnit().setValidSizes().setTargetingValues().setTargetRefreshRate().setExclusionCategories().setElement().setId().defineGPTSlot()}function h(t){var n=t.element,i=n.getAttribute("id"),a=n.getAttribute(jn.AD_UNIT_DEFINITION),r=n.getAttribute(jn.AD_SIZES_DEFINITION),o=n.getAttribute(jn.AD_TARGETING_DEFINITION),s=n.getAttribute(jn.AD_EXCLUSIONS_DEFINITION),l=n.getAttribute(jn.AD_REFRESH_DEFINITION);Gt(t.id)||kt(i)||t.setId(i),Gt(t.adUnit)||kt(a)||t.setAdUnit(a),Xt(t.validSizes)&&!kt(r)&&t.setValidSizes(r),Gt(t.exclusionCategories)||kt(s)||t.setExclusionCategories(s),Ut(t.targetingValues)&&!kt(o)&&t.setTargetingValues(o),kt(l)||t.setTargetRefreshRate(l),e.AdSlotVOCollection.byIndex(jn.INDEX_ELEMENT_KEY,n,t)}function g(){this.AdSlotVO.refresh()}function f(e){qt(e.refreshTimer)&&(e.refreshTimer.stop(),delete e.refreshTimer),e.targetRefreshRate>0&&(e.refreshTimer=_i({interval:e.targetRefreshRate,timerFunc:g,AdSlotVO:e,isLoop:ut}),e.refreshTimer.start())}function E(e){var t,n,i=e.split(v),a=[];if(ei.filterDuplicates(i),t=i.length,!Gt(e))return _t;for(;t--;)n=i[t].split(I),n[0]=+n[0],n[1]=+n[1],a.unshift(n);return 1===a.length&&(a=a[0]),a}var m=it+"AdSlotVO - ",T=/[^0-9.]/g,A=/\//g,v=/\s*,\s*/g,I=/\s*\x\s*/g,S=/\s*[\:|\=]\s*/g,y=/\s*;\s*/g,C=/{{ now }}/,P=/{{ index }}/,R=/{{ networkID }}/,D=/{{ adUnit }}/,b={display:pt,pubads:function(){return this.refresh=pt,this}};p.prototype.setAdUnit=n,p.prototype.setValidSizes=i,p.prototype.setTargetingValues=a,p.prototype.setTargetRefreshRate=r,p.prototype.setExclusionCategories=l,p.prototype.setElement=o,p.prototype.setId=s,p.prototype.defineGPTSlot=d,p.prototype.validate=_,p.prototype.refresh=c,p.prototype.destroy=u}(),e.AppMediaMeasureVO=function(){var t=it+"Bento.AppMediaMeasureVO - ";return{fromMetadata:function(n,i,a,r,o,s){var l=e.AppMeasureVars,d=li.getMemberIfExist,c=e.VideoVars,u=function(e){return ci.addComma(ci.getFormattedUserSegment(e))},_=function(e){return{contentType:e.contentType,description:d(e,c.DESCRIPTION,""),duration:Math.round(d(e,c.DURATION,0)),franchise:e.franchise,guid:e.guid,index:d(e,c.INDEX,0),isLive:d(e,c.IS_LIVE,_t),link:d(e,c.LINK,""),mediaCategory:e.contentType,mediaDescription:d(e,c.DESCRIPTION,""),playlistLength:e.playlistLength,isFullEpisode:e.isFullEpisode,playlistDuration:e.playlistDuration,playlistId:e.playlistId,playlistTitle:e.playlistTitle,playlistUri:e.playlistId,reportable:d(e,c.REPORTABLE,ut),seoHTMLText:d(e,c.SEO_HTML_TEXT,""),thumbnailUrl:d(e,c.THUMPNAIL_URL,""),title:d(e,c.TITLE,""),videoTitle:e.videoTitle,videoId:e.videoId,hasPlaylist:e.playlistLength>1?ut:_t,artistName:e.artistName,mtvnOwner:e.owner,linearPubDate:e.linearPubDate,seasonN:e.seasonN,episodeN:e.episodeN}}(n),p=u(r);return _.itemIndex=qt(_.index)?_.index:l.DEFAULT_ITEM_INDEX,_.itemDuration=_.isLive?l.LIVE_DURATION:_.duration,_.pageName=Gt(i.omniturePathContext)?i.omniturePathContext+_.videoTitle:_.videoTitle,_.clipType=Jt(_.hasPlaylist)?l.PLAYLIST_EVENT:l.SINGLECLIP_EVENT,_.segmentName=[_.itemIndex+1,_.videoTitle].join(It),_.applicationName=Gt(i.applicationName)?i.applicationName:l.NO_APPLICATION_NAME,_.applicationContext=Gt(i.applicationContext)?i.applicationContext:l.NO_APPLICATION_CONTEXT,_.applicationOrigin=Gt(i.applicationOrigin)?i.applicationOrigin:l.NO_APPLICATION_ORIGIN,_.vmnUUID=o,_.userSegment=r,_.playlistDuration=Jt(_.isLive)?l.LIVE_DURATION:Math.round(_.playlistDuration),_.tveAuthStatus="",_.mediaTitle=[_.videoId,_.franchise,Jt(_.hasPlaylist)?l.PLAYLIST_ITEM:l.SINGLECLIP_ITEM].join(It),Jt(_.hasPlaylist)&&Zt(a)&&0===_.itemIndex?(_.hasPlaylistStarted=ut,_.events=[l.PLAYLIST_START,l.BUFFER_EVENT,l.PLAYLIST_DURATION,l.PLAYLIST_LENGTH,l.PLAYLIST_EVENT].join(Et),_.products=p+l.SEMICOLONS+[l.BUFFER_EVENT+vt+s,l.PLAYLIST_DURATION+vt+_.playlistDuration,l.PLAYLIST_LENGTH+vt+_.playlistLength].join(Pt),_.tveAuthStatus=i.tve&&Jt(i.tve.tveAuthRequired)?l.LOCKED:l.UNLOCKED):(_.hasPlaylistStarted=a,_.events=[l.BUFFER_EVENT,_.clipType].join(Et),_.products=p+l.SEMICOLONS+(l.BUFFER_EVENT+vt+s),Zt(_.hasPlaylist)&&(_.isLive===_t&&(_.events=ci.appendWithComma(_.events,l.DURATION_EVENT),_.products+=Pt+(l.DURATION_EVENT+vt+Math.floor(_.itemDuration))),_.tveAuthStatus=i.tve&&Jt(i.tve.tveAuthRequired)?l.LOCKED:l.UNLOCKED)),Lt(t+"AppMediaMeasureVO.fromMetadata"),_},fromMetadataForAd:function(e){return{mediaCategory:e.contentType,videoTitle:e.videoTitle,playlistTitle:e.playlistTitle,franchise:e.franchise,guid:e.guid,playlistId:e.playlistId}}}}();var gi=e.ContentVO=function(e){this.length=e?e.length:0,this.reset()};gi.prototype={reset:function(){return this.viewed=[],this.ended=[],this.index=0,this},setCurrent:function(e){var t;return this.index=t=e.indexPlaying||e.currentIndex||this.index,this.ended[t]=tn(e.hasContentEnd,this.ended[t]),this.viewed[t]=tn(e.hasBeenViewed,this.viewed[t]),this},hasEnded:function(){return this.ended[this.index]},hasBeenViewed:function(){return this.viewed[this.index]},isLast:function(){return this.index===this.length-1},shouldPlayPostRollAd:function(){return this.isLast()&&this.hasEnded()},shouldPlayAd:function(){return!this.hasBeenViewed()||this.shouldPlayPostRollAd()}},gi.getPlaylistLength=function(e){return Math.max(e.items&&e.items.length,1)},e.FreewheelAdMetadataVO={fromAdMetadata:function(t,n,i,a){function r(e){var t=0;return xt(e)&&Qt(e.getAdId)?t=e.getAdId():xt(e)&&!Ft(e.adId)&&(t=e.adId),t||T.NO_AD_ID}function o(e){var t=-1;return kt(m)?xt(e)&&!Ft(e.podDuration)&&(t=e.podDuration):t=m.getTotalDuration(ut),t&&t>-1?t:T.NO_POD_DURATION}function s(e){var t=ct;return kt(m)?xt(e)&&!Ft(e.adType)&&(t=e.adType):t=m.getTimePositionClass(),t||T.NO_AD_TYPE}function l(e){var t=_t;return xt(e)&&Qt(e.getEventCallbackUrls)&&(t=e.getEventCallbackUrls(E.EVENT_AD_CLICK,E.EVENT_TYPE_CLICK).length>0),(xt(e)&&_(e)||IS_DESKTOP)&&(t=_t),t}function d(e){var t=-1;return xt(e)&&Qt(e.getActiveCreativeRendition)&&Qt(e.getActiveCreativeRendition().getDuration)?t=e.getActiveCreativeRendition().getDuration(ut):xt(e)&&!Ft(e.duration)&&(t=e.duration),t&&t>-1?t:T.NO_CREATIVE_DURATION}function c(e){var t=0;return xt(e)&&!Ft(e._creativeId)?t=e._creativeId:xt(e)&&!Ft(e.creativeId)&&(t=e.creativeId),t||T.NO_CREATIVE_ID}function u(e){var t="";return kt(m)?xt(e)&&!Ft(e.podId)&&(t=e.podId):t=m.getCustomId(),t||T.NO_POD_ID}function _(e){var t=_t;return xt(e)&&Qt(e.getActiveCreativeRendition)&&Qt(e.getActiveCreativeRendition().getCreativeApi)?t=e.getActiveCreativeRendition().getCreativeApi()===f.VPAID_AD:xt(e)&&!Ft(e.creativeAPI)&&(t=e.creativeAPI===f.VPAID_AD),t}function p(e){var t=_t;return e&&e.isBumper?t=ut:e&&e.getSoAdUnit&&(e.getSoAdUnit()===f.FRONT_BUMPER_KEY||e.getSoAdUnit()===f.END_BUMPER_KEY)&&(t=ut),t}function h(e){var t=_t,n=ct,i=ct;if(e&&e.podHasBumper)t=ut;else if(m&&m.getAdInstances&&(n=m.getAdInstances()))for(var a=0;a<n.length;a++)if((i=n[a])&&i.getSoAdUnit&&(i.getSoAdUnit()===f.FRONT_BUMPER_KEY||i.getSoAdUnit()===f.END_BUMPER_KEY)){t=ut;break}return t}function g(t,n){var a=0;return i?a=i:xt(t)&&!Ft(t.adCount)&&(a=t.adCount),e.Config&&e.Config.showAdCounterMessage===_t&&n&&(a=0),a}var f=e.FreewheelVars,E=tv.freewheel.SDK,m=xt(t)&&Qt(t.getSlot)?t.getSlot():ct,T=e.AdVars,A=h(t);return{adId:r(t),duration:o(t),adType:s(t),isClickable:l(t),creativeDuration:d(t),creativeId:c(t),podId:u(t),isVpaid:_(t),currentAdIndex:a||(xt(t)&&!Ft(t.currentAdIndex)?t.currentAdIndex:0),currentItemIndex:xt(n)&&!Ft(n.currentIndex)?n.currentIndex:0,hideAdMessage:_(t),disableAdGuiOnPlay:_(t),isBumper:p(t),podHasBumper:A,adCount:g(t,A)}}},e.FreewheelVO={fromConfigAndMetadata:function(t){var n=t.playerContainer||{},i=t.playerConfig||{},a=t.currentMetadata||{},r=t.playlistMetadata,o=t.itemIndex,s=it+"FreewheelVO ",l=e.FreewheelVars,d=kn||i.ref||"",c=function(){var e=JSON.parse(JSON.stringify(a));if(e.hasPlaylist===ut){var t=r.items[o];e.duration=t.duration,e.guid=t.rss.guid,e.index=o,e.rss=t.rss,e.src=t.src}return e}(),u=c.isFullEpisode,_=c.playlistLength,p=i&&"intl"===i.group,h=function(){return i.requiresCoppaCompliance},g=function(){var e=p?l.NETWORK_ID_INTL:l.NETWORK_ID;return i&&i.freewheelNetworkID&&(e=i.freewheelNetworkID),e},f=function(){var e,t=g(),n=i.embedVars;return i.isMobilePlatform?(e=t+It+l.PROFILE_ID,n&&n.freewheelHTML5ProfileId&&(e=n.freewheelHTML5ProfileId)):Tn(i)?(e=t+It+l.PROFILE_ID_AS3,n&&n.freewheelFlashProfileId&&(e=n.freewheelFlashProfileId)):(e=t+It+l.PROFILE_ID_HTLM5_DESKTOP,n&&n.freewheelFlashProfileId&&(e=n.freewheelFlashProfileId)),e},E=function(){var e=l.DEF_CLIP_TIME,t=c.playlistDuration,n=i.useActualDuration===_t?_t:ut;return p?0:null!==(e=n?u?t:+c.duration:u?l.DEF_CLIP_TIME*_:e)?e:l.DEF_CLIP_TIME},m=function(){var e=ct;return c&&(e=u?c.playlistId:c.guid),e},T=function(e){var n=[],a=i.useActualDuration===_t?_t:ut,o=0,s=t.adCuePoints;if(_=Bt(s)?s.length+1:_,u)for(var d=0;_>d;d++)r&&(e||a)?s?d<s.length&&(n[d]=s[d].time-o,o=s[d].time):n[d]=r.items[d].duration:n[d]=d*l.DEF_CLIP_TIME;else e&&(n[0]=+c.duration);return n},A=function(){for(var e=0,t=0;_>t;t++)if(r.items[t].rss.guid===c.guid){e=t;break}return e},v=function(e){if(!kt(i)&&Jt(i.freewheelSharedMGIDEnabled)&&"intl"!==i.group&&Gt(e)&&e.indexOf(":arc:")>=0){var t=e.split(":");if(Lt(s+"Enabling shared MGID."),5===t.length)return t[4]}return e},I=function(){var e=ct;return e=i.isMobilePlatform?Gt(i.freewheelSiteSection)?i.freewheelSiteSection:l.DEF_MOB_SITE_SECTION:Gt(i.freewheelFlashSiteSection)?i.freewheelFlashSiteSection:l.DEF_SITE_SECTION,!kt(i)&&Jt(i.freewheelSiteSectionPathParsing)?ci.trimSlashes(e):e},S=function(){return!kt(i)&&Jt(i.freewheelSiteSectionPathParsing)?ut:_t},y=function(){var e=pi.getMostRecentStatus(i),t=e.hash,n={};return Gt(t)?(n[l.AUTHENTICATING_ENTITY]=t,n[l.AUTHORIZATION_REQUIRED]=""+e.authRequired,n):(Lt(s+"Video/user parameters are not eligible for TVE custom parameter modification."),_t)},C=function(e){if(Gt(e.referrer)){var t=ci.queryStringToObject(e.referrer);Gt(t[l.DEBUG_MODE])&&Jt(t[l.DEBUG_MODE])&&(Gt(t[l.OVERRIDE_NETWORK_ID])&&(e.networkID=t[l.OVERRIDE_NETWORK_ID]),Gt(t[l.OVERRIDE_PROFILE_ID])&&(e.profileID=t[l.OVERRIDE_PROFILE_ID]),Gt(t[l.OVERRIDE_SSID])&&(e.siteSectionID=t[l.OVERRIDE_SSID]),Gt(t[l.OVERRIDE_MGID])&&(e.assetID=t[l.OVERRIDE_MGID])),Gt(t[l.VIDEO_ID_KEY])&&(e.assetID=t[l.VIDEO_ID_KEY])}},P=function(){var e=d,t=i.flashVars&&i.flashVars.fwKeyValues,n=(Gt(e)&&ci.queryStringToObject(e.toLowerCase()),{}),a=["id",l.DEBUG_MODE,l.OVERRIDE_NETWORK_ID,l.OVERRIDE_PROFILE_ID,l.OVERRIDE_SSID,l.OVERRIDE_MGID,l.ENTIRE_URL,l.TSLA];if(Vt(t)&&Object.keys(t).length>0)for(var r in t)-1===a.indexOf(r)&&(n[r]=t[r]);return n},R=function(){var e={};if(h()){var t=ni.getLocalStorage(l.LAST_GUID_PLAYED);t&&(e[l.ARA_KEY]=t)}return e},D=function(){var e=ni.getLocalStorage(l.FW_DEMDEX_FW_SEGMENT),t=[],n=[];if(e!==ct)for(var i=0,a=(t=e.split(",")).length;a>i;i++)if(t[i]){var r=t[i].split("=");n[i]=[r[0],r[1]]}return n},b=function(e){return{adServer:e.adServer,networkId:e.networkID,profileId:e.profileID,siteSectionId:e.siteSectionID,preloadAdManifest:!0}},N={networkID:g(),siteSectionID:I(),siteSectionParsing:S(),assetID:v(m()),profileID:f(),duration:E(),videoViewRandom:Math.round(1e9*Math.random()),adServer:p?l.INTL_AD_SERVER_AS3():l.AD_SERVER_AS3(),referrer:d,isFullEpisode:u,hasPlaylist:c.hasPlaylist,playlistID:v(c.playlistId),segmentsDuration:T(_t),segmentsActualDuration:T(ut),currentIndex:A(),flashVars:i.flashVars?i.flashVars:{},isKids:h(),tveKeyValues:y(),hostSellingKeyValues:R(),timeSinceLastAd:Zn.getTSLATime(i),extraFWKeyValues:P(),preloadAdSlotEnabled:e.Config&&e.Config.preloadAdSlotEnabled?e.Config.preloadAdSlotEnabled:_t,bandwidthEnabled:e.Config&&e.Config.bandwidthEnabled?e.Config.bandwidthEnabled:_t,failSafeTimerDisabled:i.failSafeTimerDisabled?i.failSafeTimerDisabled:_t,fwSegments:D(),adRenditionVO:e.AdRenditionVO.getAdRenditionVO(n,i),isIntl:p};return C(N),N.adRequestedData=b(N),N}},e.HeartbeatdataVO=function(){var t="HeartbeatdataVO - ";return{fromMetadata:function(e,n,i,a){var r={};return r=a?{vmnUUID:i,segmentName:e.segmentName,videoTitle:e.videoTitle,pageName:e.pageName}:{"v.mid":i,"v.segmentName":[e.itemIndex+1,e.videoTitle].join(It),"v.vidTitle":e.videoTitle,"v.vidEpTitle":e.playlistTitle,"v.pageName":Gt(n.omniturePathContext)?n.omniturePathContext+e.playlistTitle:e.playlistTitle,"v.mgid":e.guid},Lt(t+"HeartbeatdataVO.fromMetadata",r),r},fromHeartbeatMetadata:function(t,n,i,a,r,o,s,l){var d=e.AppMeasureVars;return{"v.activity":Jt(i)?"adStart":r?"liveStreamStart":Jt(t.hasPlaylist)||Jt(t.isFullEpisode)?d.FULL_EPISODE_START_ACTIVITY:d.CLIP_START_ACTIVITY,"v.episodeN":t.episodeN,"v.vidContentType":r?"Live Event":t.contentType,"v.epMGID":t.playlistId,"v.vidEpTitle":t.playlistTitle,"v.epCount":t.playlistLength,"v.epLength":r?d.LIVE_DURATION:Math.round(a),"v.mgid":t.guid,"v.vidTitle":t.videoTitle,"v.vidLength":s,"v.vidFranchise":t.franchise,"v.vidArtist":t.artistName,"v.seasonN":t.seasonN,"v.vidAppName":Gt(n.applicationName)?n.applicationName:d.NO_APPLICATION_NAME,"v.contentStatus":n.tve&&Jt(n.tve.tveAuthRequired)?d.LOCKED:d.UNLOCKED,"v.linearPubDate":t.linearPubDate,"v.vidOwner":t.owner,"v.vidCategory":r||Jt(t.isFullEpisode)||Jt(t.isPlaylistMode)?"":t.categories,adTotalDuration:o&&o.creativeDuration?Math.round(o.creativeDuration):"",adCreativeId:o&&o.creativeId?o.creativeId:"",adId:o&&o.adId?o.adId:"","v.epType":t.isMonolithicContent?"Monolithic":"","v.mid":l,"v.pageType":t.pageType,"v.pageURL":t.pageURL}}}}(),e.MetadataVO=function(){var e=function(){return{guid:"NO_MGID",videoTitle:"NO_VID_TITLE",videoId:"NO_VID",owner:"OWNER_UNSET",playlistTitle:"NO_PLAYLIST_TITLE",playlistId:"NO_PLAYLIST_URI",franchise:"NO_FRANCHISE",contentType:"NO_CONTENT_TYPE",artistName:"NO_ARTIST",linearPubDate:"NO_LINPUBDATE",seasonN:"NO_SEASONN",episodeN:"NO_EPISODEN",cdn:"NO_CDN",categories:"NO_VIDCAT",pageType:"NO_PAGETYPE",pageURL:"NO_PAGEURL"}};return{fromRSSMetadata:function(t){var n=e(),i=t||{};if(xt(i)&&xt(i.rss)){if(Gt(i.rss.guid)){n.guid=i.rss.guid;var a=n.guid.split(":");5===a.length&&(n.owner=a[3],n.videoId=a[4],n.imaVideoId=a[4])}if(Vt(i.rss.group)&&Vt(i.rss.group.category)&&(Gt(i.rss.group.category.playlistURI)&&(n.playlistId=i.rss.group.category.playlistURI,n.playlistVideoId=n.playlistId.match(/(?!.+:)[^:].+/)[0],n.imaVideoId=n.playlistVideoId),Gt(i.rss.group.category.playlistRepTitle)?n.playlistTitle=i.rss.group.category.playlistRepTitle:Gt(i.rss.group.category.playlistTitle)?n.playlistTitle=i.rss.group.category.playlistTitle:Gt(i.title)&&(n.playlistTitle=i.title),Gt(i.rss.group.category.videoTitle)?(n.videoTitle=i.rss.group.category.videoTitle,n.videoTitle=n.videoTitle+"_"+n.videoId):Gt(i.rss.title)&&(n.videoTitle=i.rss.title,n.videoTitle=n.videoTitle+"_"+n.videoId),Gt(i.rss.group.category.franchise)&&(n.franchise=i.rss.group.category.franchise),Gt(i.rss.group.category.mtvnOwner)&&(n.owner=i.rss.group.category.mtvnOwner),Gt(i.rss.group.category.contentType)&&(n.contentType=i.rss.group.category.contentType),Gt(i.rss.group.category.artist)&&(n.artistName=i.rss.group.category.artist),Gt(i.rss.group.category.mtvnOwner)&&(n.owner=i.rss.group.category.mtvnOwner),Gt(i.rss.group.category.linearPubDate)&&(n.linearPubDate=i.rss.group.category.linearPubDate),Gt(i.rss.group.category.seasonN)&&(n.seasonN=i.rss.group.category.seasonN),Gt(i.rss.group.category.episodeN)&&(n.episodeN=i.rss.group.category.episodeN),Gt(i.rss.group.category.categories)&&(n.categories=i.rss.group.category.categories),Gt(i.rss.group.category.pageType)&&(n.pageType=i.rss.group.category.pageType),Gt(i.rss.group.category.pageUrl)?n.pageURL=i.rss.group.category.pageUrl:n.pageURL=ci.lengthLimiter(kn,1024,At)),Vt(i.mediaGen)&&(Vt(i.mediaGen.rendition)&&Gt(i.mediaGen.rendition.cdn)&&(n.cdn=i.mediaGen.rendition.cdn),Vt(i.mediaGen)&&jt(i.mediaGen.beacons)&&jt(i.mediaGen.beacons[0])?n.beacons=i.mediaGen.beacons[0]:Vt(i.mediaGen)&&jt(i.mediaGen.beacons)&&(n.beacons=i.mediaGen.beacons)),Gt(i.feedWithQueryParams)){var r=ci.queryStringToObject(i.feedWithQueryParams);r.uuid&&(n.imaVideoId=r.uuid.match(/(?!.+:)[^:].+/)[0])}}for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i}}}();var fi=function(){var e=it+"NielsenVO - ";return{fromMetadata:function(t){var n=t.playlistTitle;t.hasPlaylist&&!t.isFullEpisode&&(n=t.playlistTitle+"_"+(t.itemIndex+1)+"_"+t.videoTitle);var i=t.isFullEpisode?t.playlistDuration:t.duration,a={videoType:t.videoType,videoTitle:t.hasPlaylist?n:t.videoTitle,videoId:t.isAd?t.adId:t.videoId,videoLength:Math.floor(t.isAd?t.adDuration:i),franchise:t.franchise?t.franchise:"",playlistURI:Vt(t.rss)&&t.rss.group.category.playlistURI?t.rss.group.category.playlistURI:"",dprEnabled:t.nielsenDprEnabled,censuscategory:n||""};return a.category=a.franchise,t.hasPlaylist&&t.playlistId&&t.isFullEpisode&&!t.isAd&&(a.videoId=/.+:uma:.+$/.test(t.playlistId)?t.playlistId.match(/\d+$/)[0]:t.playlistId),Lt(e+"fromMetadata",a),a}}}();e.QoeVO=function(t){var n={},i=[],a={},r="",o=ut,s=ct,l=function(t){var n=-1,i=_t,a=_t,r=_t,o=0,s=ct,l=ct,d=ct,c=ct,u=ct,_=ct,p=-1,h=ct;return t&&(h=t.getActiveCreativeRendition(),n=1e3*h.getDuration()||e.AdVars.NO_CREATIVE_DURATION,i="VPAID"===h.getCreativeApi(),a=null!=h.getWrapperType()&&h.getWrapperType().indexOf("vast")>=0,r=null!=h.getWrapperUrl(),o=t.getAdId()||e.AdVars.NO_AD_ID,p=t.getAllCreativeRenditions().length),{durationMs:n,isVpaid:i,isVast:a,isThirdParty:r,adId:o,creativeId:s,creativeRenditionId:l,desiredBitrateKbps:d,actualBitrateKbps:c,minBitrateKbps:u,maxBitrateKbps:_,renditionsCount:p}},d=function(e){var t=!1,n=!1,i=!1,a=[];if(e&&e.getAdInstances)for(var r=e.getAdInstances(),o=ct,s=ct,d=0;d<r.length;d++)o=r[d],(s=l(o)).isVpaid&&(t=!0),s.isVast&&(n=!0),s.isThirdParty&&(i=!0),a.push(s);else e&&(t=e.containsVPAID,n=e.containsVAST,i=e.containsThirdParty,a=e.ads);return{containsVpaid:t,containsVast:n,containsThirdParty:i,ads:a}};if(t&&t.length){s=tv.freewheel.SDK;for(var c=0,u=t.length;u>c;c++){var _=t[c];switch(_.getTimePositionClass()){case s.TIME_POSITION_CLASS_PREROLL:n=d(_);break;case s.TIME_POSITION_CLASS_MIDROLL:i.push(d(_));break;case s.TIME_POSITION_CLASS_POSTROLL:a=d(_)}_.getTimePositionClass()===ct&&_.getTimePosition()>0&&i.push(d(ct))}}else if(t)for(var p in t)if(t[p])switch(p){case"preroll":n=d(t[p]);break;case"midrolls":for(var h=t[p],g=0,f=h.length;f>g;g++)i.push(d(h[g]));break;case"postroll":a=d(t[p]);break;case"errorText":r=t[p];break;case"success":o=t[p]}return{preroll:n,midrolls:i,postroll:a,errorText:r,success:o}};var Ei=function(){var t=it+"StreamSenseVO - ";return{fromMetadata:function(e,n,i){var a="*null",r=qn,o=e.hasPlaylist?e.playlistTitle:e.videoTitle,s=1e3*(e.isAd?e.adDuration:i?r.LIVE_DURATION:e.duration),l=e.isAd?e.adId:e.videoId,d=ct;d=!Ft(n&&n.tve)&&n.tve.tveAuthRequired?r.LOCKED:r.UNLOCKED,s=0>s?0:si.roundOff(s);var c={ns_st_cn:e.partIndex,ns_st_ci:l,ns_st_pn:qt(e.index)?e.index+1:a,ns_st_tp:e.playlistLength>0?e.playlistLength:0,ns_st_cu:e.rss&&e.rss.link?e.rss.link:a,ns_st_cl:s,ns_st_pu:e.owner,ns_st_pr:e.franchise?e.franchise:a,ns_st_ep:o||a,ns_st_ad:e.isAd?"1":"0",ns_st_ct:e.clipTypeId};return e.isAd||(c.ns_st_sn=e.seasonN,c.ns_st_tdt=e.linearPubDate,c.ns_st_en=e.episodeN,c.ns_st_cdn=e.cdn,c.via_st_lock=d),c.c3=c.ns_st_ep,c.c4=c.ns_st_pu,c.c6=c.ns_st_pr,Lt(t+"fromMetadata",c),c},fromAdMetadata:function(n,i,a,r,o){var s=null;try{s=r.isMonolithicContent?JSON.parse(JSON.stringify(i.items[0])):JSON.parse(JSON.stringify(i.items[n.currentItemIndex]))}catch(e){Lt(t,e)}r&&r.title&&(s.title=r.title);var l=e.MetadataVO.fromRSSMetadata(s);l.playlistLength=1,l.index=0,l.hasPlaylist=i.items.length>1;var d=qn;if(l.adId=n.adId,l.adDuration=n.creativeDuration,l.partIndex=a,l.isAd=ut,o)l.clipTypeId=d.AD_LIVE;else if(Gt(n.adType)){var c="AD_"+n.adType.toUpperCase();l.clipTypeId=Gt(d[c])?d[c]:d.AD_OTHER}return Ei.fromMetadata(l)}}}();e.AppMediaMeasure=function(t){function n(){for(var e="";e=k.pop();)F[e]="";for(;e=U.pop();)F.Media[e]=""}function i(e){for(var t="",n=Object.keys(e);t=n.pop();)/(trackVars|trackEvents)/.test(t)?(U.push(t),F.Media[t]=e[t]):(k.push(t),F[t]=e[t]);return ut}function a(e,t){return n(),i(e),F.Media.track(t),ut}function r(t,a,r,o,s){return i(t),e.sendMegabeaconData({data:t}),F.Media.completeByCloseOffset=_t,F.Media.openAd(r,-1,o,t.videoTitle,a.adType,a.currentAdIndex),F.Media.play(r,0),n(),ut}function o(e){F.trackExternalLinks=_t,i(e),F.tl(e.lnk,e.linkType,e.linkName),n(),x.omnitureTrackExternalLinks===ut&&setTimeout(function(){F.trackExternalLinks=ut},0)}function s(){return(F=new AppMeasurement).loadModule("Media"),Gt(x.omnitureAccount)?(n(),F.setAccount(x.omnitureAccount),(_n||Jt(x.omnitureEnableFirstPartyCookie))&&(F.trackingServer=e.Environment.getCnamedDomain()),void(Jt(x.omnitureEnableVisitorNamespace)&&(F.visitorNamespace=e.AppMeasureVars.VISITOR_NAMESPACE))):_t}function l(e){var t=c();return n(),F.referrer=ci.lengthLimiter(Bn(),ce.URL_LIMIT,ft),F.pageURL=ci.lengthLimiter(document.URL,ce.URL_LIMIT,ft),F.debugTracking=Ot(),F.trackLocal=ut,F.setAccount(x.omnitureSuite),Gt(t)&&(F.trackingServer=t,rn()&&(F.ssl=ut,F.trackingServerSecure="s"+F.trackingServer)),F.trackingServer&&Gt(x.omnitureVisitorMigrationKey)&&Gt(x.omnitureVisitorMigrationServer)&&(F.visitorMigrationKey=x.omnitureVisitorMigrationKey,F.visitorMigrationServer=x.omnitureVisitorMigrationServer),Gt(x.omnitureCharacterSet)&&(F.charSet=x.omnitureCharacterSet),Gt(x.omnitureDataCenter)&&(F.dc=x.omnitureDataCenter),x.omnitureVisitorNamespace&&(F.visitorNamespace=ce.VISITOR_NAMESPACE),Gt(ae)&&(F.visitorID=ae),Jt(x.omnitureMediaTracking)&&(F.Media.autoTrack=_t,F.Media.trackWhilePlaying=ut,F.Media.trackUsingContextData=ut,e||(F.Media.contextDataMapping=Re)),x}function d(e,t){var n=new $n.getMappedObject(e,x,t);return n.events=e.events,n}function c(){var t=window.btg;return Lt(w+"getTrackingServer","Setting tracking server."),t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?(Lt(w+"getTrackingServer","Tracking server by Environment utility based on same-frame CODA configuration."),re=e.Environment.getCnamedDomain()):re===ct&&x&&x.omnitureTrackingServer?(Lt(w+"getTrackingServer","Tracking server by player configuration."),re=x.omnitureTrackingServer):(Lt(w+"getTrackingServer","Tracking server already set or being set by browser message event."),re)}function u(t,n){var i=t&&t.items&&t.items[n.currentItemIndex];if(xt(i)){i.title=Z.title;var a=e.MetadataVO.fromRSSMetadata(i),r=e.AppMediaMeasureVO.fromMetadataForAd(a);return{videoTitle:r.videoTitle,mediaCategory:r.mediaCategory,playlistTitle:r.playlistTitle,franchise:r.franchise,guid:r.guid,podId:n.adType,currentAdIndex:n.currentAdIndex,playlistId:r.playlistId}}return _t}function _(e,n){F.Media.monitor=function(i,a){oe=a.timePlayed,"CLOSE"===a.event?(le=e.itemIndex===e.playlistLength-1?_t:le,p(e.videoTitle,a.timePlayed,ut)):"MONITOR"===a.event&&(t.getIsLive()?h(e.videoTitle,a.timePlayed):g(e.videoTitle,a.timePlayed,a.percent,n))}}function p(t,n,i){var r=Jt(ie.hasPlaylist),o=ie.itemIndex===ie.playlistLength-1,s={};n=Math.floor(n),ge=Math.abs(Ee-n),Ee=n,!kt(B)&&ie.reportable&&0!==n&&(ne.events="",ne.products="",i&&(ne.events=ci.appendWithComma(ne.events,ce.MEDIA_COMPLETE),r&&o&&ue===Math.pow(2,ie.playlistLength)-1&&(ne.events=ci.appendWithComma(ne.events,ce.MEDIA_PLAYLIST_COMPLETE),ue=0)),s=d(ne,_t),a(s,t),e.sendMegabeaconData({data:s}),i&&(s.events=ci.appendWithComma(s.events,ce.MEDIA_TIMEPLAYED+vt+ge),m(s,_t),Ee=0,ge=0))}function h(e,t){Zt(x.omnitureLiveEventHeartbeatsDisabled)&&Math.floor(t/ie.liveEventBeaconFreq)>_e&&(_e++,p(e,t))}function g(t,n,i,a){for(var r=$.length,o=0;r>o;o++){var s=$[o];if(!s.fired&&i>=s.min&&i<=s.max){s.type===ce.TRACKED98?(Lt("sendHeartBeat milestone tracked98 reached. Invoke onPlayEnd."),a[b](new e.Intent(b,{playhead:oe}))):x.omnitureHeartbeatsDisabled||(Lt("sendHeartBeat trackEvents time: "+n),p(t,n)),Lt("sendHeartBeat fired milestone: "+s.type),$=$.slice(o+1);break}}}function f(e){if($=[],ie.itemDuration>=ce.MIN_DURATION&&ie.itemDuration<=ce.MAX_DURATION)$.push({type:ce.TRACKED50,min:50,max:75});else if(ie.itemDuration>=ce.MAX_DURATION)for(var t=e>=900&&1800>=e?10:e>1800&&3600>=e?5:e>3600&&7200>=e?3:e>7200&&10800>=e?2:e>10800?1:25,n=100/t,i=1;n>i;i++){var a=i*t,r=a+t,o=ce.TRACKED+a;r=100===r?98:r,$.push({type:o,min:a,max:r}),Lt("setMilestones added: "+o+"=>"+a+"-"+r)}$.push({type:ce.TRACKED98,min:98,max:100})}function E(){_e=0;var e=jt(x.omnitureLiveEventData)?x.omnitureLiveEventData:[],t=e.length,n=qt(x.omnitureLiveEventBeaconFreq)?x.omnitureLiveEventBeaconFreq:ce.LIVE_BEACON_FREQ;Lt("setLiveEventBeaconFreq beaconFreq: "+n);for(var i=0;t>i;i++){var a=Vt(e[i])?e[i]:{};if(!Ft(a.guid)&&a.guid===ie.guid&&qt(a.beaconFreq)){ie.liveEventBeaconFreq=a.beaconFreq,Lt("setLiveEventBeaconFreq guid match: "+a.guid+" beaconFreq:"+a.beaconFreq);break}}qt(ie.liveEventBeaconFreq)&&ie.liveEventBeaconFreq>=ce.LIVE_FREQ_MAX?ie.liveEventBeaconFreq=ce.LIVE_FREQ_MAX:qt(ie.liveEventBeaconFreq)&&ie.liveEventBeaconFreq<=ce.LIVE_FREQ_MIN?ie.liveEventBeaconFreq=ce.LIVE_FREQ_MIN:ie.liveEventBeaconFreq=n,Lt("setLiveEventBeaconFreq liveEventBeaconFreq: "+ie.liveEventBeaconFreq)}function m(e,n){var i=JSON.parse(JSON.stringify(e));Jt(n)&&(i.events=ci.appendWithComma(i.events,ce.VIDEOITEM_EVENT)),i.trackVars=ct,i.host=window.location.hostname,t[de](i)}function T(e,t){return Vt(e)&&Gt(t)?(e.events=ci.appendWithComma(e.events,t),e):e}function A(t,n,i){var a={};return i&&(a=i),a.events=t,a.linkType=a.linkType||"o",a.linkName=n,o(a),e.sendMegabeaconData({data:a}),a}function v(e){var t,n=window.EdgePlayer.Timeouts;switch(e){case n.AD_PLAY_REQUEST:t=ce.AD_PLAY_REQUEST_TIMEOUT;break;case n.AD_BREAK_START:t=ce.AD_BREAK_START_TIMEOUT;break;case n.AD_STARTED:t=ce.AD_STARTED_TIMEOUT;break;case n.INTRA_AD:t=ce.INTRA_AD_TIMEOUT;break;case n.AGGREGATE:t=ce.AGGREGATE_TIMEOUT}return t}function I(e){return e&&Vt(e)&&Vt(e.getData())?e.getData():{}}function L(e,t){return e&&Vt(e.getData())&&!Ft(e.getData()[t])?e.getData()[t]:ct}var M,w=it+"AppMediaMeasure ",k=[],U=[],x=ct,F=ct,B={},X=_t,z=0,Q="",J=t.getPlaylistMetadata(),Z=t.getFirstItemData(),$=[],ee="",te="",ne={},ie={},ae=ct,re=ct,oe=0,se=ct,le=_t,ce=e.AppMeasureVars,ue=0,_e=0,ge=0,Ee=0,me=_t,Te=_t,Ae=_t,ve=new _i,Ie={"a.media.ad.view":ce.AD_START_EVENT,"a.media.ad.complete":ce.AD_END_EVENT,"a.media.ad.name":ce.AD_CREATIVE_ID,"a.media.ad.timePlayed":ce.AD_TIME_SPENT,"a.media.ad.pod":ce.AD_POD_ID,"a.media.ad.podPosition":ce.AD_POD_ITEMS},Pe={"a.media.ad.view":ce.AD_BUMPER_START_EVENT,"a.media.ad.complete":ce.AD_BUMPER_END_EVENT,"a.media.ad.name":ce.AD_CREATIVE_ID,"a.media.ad.timePlayed":ce.AD_TIME_SPENT,"a.media.ad.pod":ce.AD_POD_ID,"a.media.ad.podPosition":ce.AD_POD_ITEMS},Re={"a.media.name":ce.MEDIA_NAME,"a.media.timePlayed":ce.MEDIA_TIMEPLAYED,"a.media.segmentView":ce.MEDIA_SEGMENTVIEW,"a.media.segment":ce.MEDIA_SEGMENTEVAR,"a.media.view":ce.VIDEOITEM_EVENT};return this[S]=function(t){var n={};return x=I(t),s(),"partner"===(n=JSON.parse(JSON.stringify(x))).type?(n.applicationName=x.partnerPlayerName||ce.DEFAULT_PARTNER_PLAYER_NAME,n.omnitureSuite=x.omniturePartnerAccount,n.omniturePathContext=ce.SYNDICATED_PATH):"normal"===n.type?(n.applicationName=x.viralPlayerName||ce.DEFAULT_VIRAL_PLAYER_NAME,n.omnitureSuite=x.omnitureViralAccount,n.omniturePathContext=ce.VIRAL_PATH):(n.applicationName=x.networkPlayerName||ce.DEFAULT_NETWORK_PLAYER_NAME,n.omnitureSuite=x.omnitureNetworkAccount,n.omniturePathContext=ce.NETWORK_PATH),Gt(Bn())?n.applicationContext=Bn().substring(0,400):n.applicationContext=Gt(x.ref)?x.ref:e.AppMeasureVars.NO_APPLICATION_CONTEXT,n.applicationOrigin=Gt(x.applicationOrigin)?x.applicationOrigin:e.AppMeasureVars.NO_APPLICATION_ORIGIN,x=n},this[y]=function(e){B=I(e)},this[q]=function(e){M=I(e)},this[C]=function(n){var a=I(n).playhead,r=0,o={};return xt(B)?(B=JSON.parse(JSON.stringify(B)),ai(B,Z),qt(a)?(xt(ie)&&!Ft(ie.itemIndex)&&ie.itemIndex!==B.index&&this[b](new e.Intent(b,{playhead:oe})),te=ni.read(ce.VMN_UUID_COOKIE),ve.stop(),r=ve.getElapsedMilliSeconds()/1e3,ve.reset(),ie=e.AppMediaMeasureVO.fromMetadata(B,x,le,ee,te,r),le=ie.hasPlaylistStarted,ie.reportable?(Jt(t.getIsLive())&&E(),se=ie.videoTitle,s(),l(_t),f(ie.itemDuration),_(ie,this),ne=e.HeartbeatdataVO.fromMetadata(ie,x,te,ut),o=d(ie,ut),Jt(Te)&&(o=T(o,e.AppMeasureVars.POD_COMPLETE_EVENT)),i(o),e.sendMegabeaconData({data:o}),F.Media.open(se,ie.itemDuration,x.applicationName),F.Media.play(se,a),ie.hasPlaylist&&(ue|=Math.pow(2,ie.itemIndex)),m(o,ut),me=_t,Te=_t,o):_t):(wt(w+"Invalid playhead supplied!"),_t)):(wt(w+"No metadata available for the play start event!"),_t)},this[P]=function(e){var t=L(e,"playhead");xt(ie)&&ie.reportable&&qt(t)&&F.Media.play(se,t)},this[R]=function(e){var t=L(e,"playhead");xt(ie)&&ie.reportable&&qt(t)&&F.Media.stop(se,t)},this[D]=function(e){var t=L(e,"playhead");xt(ie)&&ie.reportable&&qt(t)&&F.Media.stop(se,t)},this[b]=function(e){var t=L(e,"hasPlayerDestroyed"),n=L(e,"playhead");t&&(ve.stop(),ve.reset()),xt(ie)&&ie.reportable&&qt(n)&&(F.Media.stop(se,n),F.Media.close(se))},this[fe]=function(e){return Lt(w+"onBufferStall starts"),Ae?void 0:(this[R](e),ve.start())},this[N]=function(e){return ve.stop(),z=xt(ie)&&ie.reportable&&qt(e.getData().playhead)?e.getData().playhead:ct},this[pe]=function(e){return Lt("onUserSegment : "+L(e)),ut},this[he]=function(e){return ae=L(e,"value"),Lt(w+"onVisitorId : ",ae),ae},this[Y]=function(){return Lt(w+"AppMediaMeasure.onAdPodPlayStart"),xt(x)&&x.omnitureAdTracking&&l(ut),Ae=ut,ve.stop(),ut},this[H]=function(){return Lt(w+"onAdPodPlayEnd"),Jt(me)&&(Te=ut),Ae=_t,ut},this[O]=function(){X&&(me=_t,X=_t,F.Media.complete(Q,-1),F.Media.stop(Q,-1),Q="")},this[G]=function(){var t;if(xt(x)&&x.omnitureAdTracking&&(Lt(w+"onAdPlayStart"),!X&&xt(M))){M.isBumper?F.Media.contextDataMapping=Pe:F.Media.contextDataMapping=Ie;var n=u(J,M);me===_t?(t=d(n,_t),t=T(t,e.AppMeasureVars.POD_START_EVENT),me=ut):t={},t.videoTitle=n.videoTitle,Q=M.creativeId+"_"+Math.floor(1e4*Math.random()),r(t,M,Q,x.applicationName,-1),X=ut}return t},this[K]=function(){X=_t,F.Media.complete(Q,-1),F.Media.stop(Q,-1),Q=""},this[j]=function(){F.Media.stop(Q,-1)},this[W]=function(){F.Media.play(Q,0)},this[Se]=function(){F.Media.stop(Q,-1)},this[ye]=function(){F.Media.play(Q,0)},this[V]=function(){this[b](new e.Intent(b,{playhead:oe}))},this[Ce]=function(e){var t=I(e);switch(xt(x)&&x.omnitureAdTracking&&l(ut),t.type){case"AD_TIMEOUT_FAILOVER":A(v(t.phase),t.type);break;case"FW_ERROR":A(t.error,t.type);break;case"REPORT-BENTO-CONFIG":A(t.error,t.type,{eVar6:kn,eVar7:Z.guid,eVar8:"ERROR - No Profile"})}},this},e.Demdex=function(){return this[S]=function(t){e.MessageUtil.postMessage(e.MessageVars.DEMDEX_SEGMENT)},this[ue]=function(t){var n=t.getData();n.value&&ni.setLocalStorage(e.FreewheelVars.FW_DEMDEX_FW_SEGMENT,n.value)},this[de]=function(t){var n=t.getData(),i={},a={};"0"===ni.read("vmn_3pc")&&(a.d_dpuuid=ni.read("vmn_uuid"));for(var r in n)if(n.hasOwnProperty(r)){if(kt(n[r])||!Bt(n[r]))continue;var o=r.toLowerCase();a["c_"+(o.match(/^(prop\d{1,2})$/gi)?o.replace("prop","c"):o.match(/^(evar\d{1,2})$/gi)?o.replace("evar","v"):o.match(/^(hier\d{1,2})$/gi)?o.replace("hier","h"):o.match(/^(channel)$/gi)?o.replace("channel","ch"):r)]=encodeURIComponent(n[r])}return i.url=e.DemdexVars.DEMDEX_URL()+"event?",i.params=a,i.appendRandomString=ut,ri.sendImageBeaconRequest(i),i},this},e.Freewheel=function(t,n){function i(e){return m&&m[e]?m[e]:function(){}}function a(e){return e&&e.getData?e.getData():void 0}function r(e){var t=a(e);h=t.playhead?t.playhead:h}function o(){if(z=i("getAdPlayheadObj")(),Lt(d+"adPlayheadObj",z),K.stop(),!(Ft(z.adPlayhead)||kt(z.adPlayhead)||Zt(t.isInAdBreak()))){if(t.isInAdPlay()&&K.getElapsedSeconds()>2&&-1===z.adPlayhead)return Mt(d+"adPlayhead did not update after 2 seconds. Ending this ad pod!"),K.reset(),i("stopSlot")(),t.onAdPodPlayEnd(),void(m instanceof Ai&&e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_FLASH_PLAYBACK}));t.onAdPlayheadUpdate(z),K.start()}}function s(){return T?_t:(f=e.FreewheelVO.fromConfigAndMetadata({currentMetadata:_,playerConfig:c,playlistMetadata:p,itemIndex:g,playerContainer:U,adCuePoints:t.getCuePoints()}),m=Tn(c)?new Ai(f,t):new vi(f,t),i("init")(),void(T=ut))}function l(e){var t=(v.PREROLL,v.MIDROLL,v.POSTROLL,{preRoll:"preroll",midRoll:"midrolls",postRoll:"postroll"})[e];return I&&I[t]?I[t]:void 0}var d=it+"Freewheel ",c=ct,u=this,_=ct,p=ct,h=-1,g=0,f={},E=_t,m=n||ct,T=_t,A=_t,v=e.FreewheelVars,I=ct,y=0,D=0,M=ct,U=ct,x=_t,B=ct,K=new _i({timerFunc:o,interval:100}),q=ut,z={};return B=t.getPlayer(),_=t.getFirstItemData(),p=t.getPlaylistMetadata(),U=t.getPlayerContainer(),A=_.isPlaylistMode,c=B.config||{},this.getSkippedAdId=function(){var e=l(M),t=[];return e&&(t=e.ads||e[D]&&e[D].ads),t&&t[y]?t[y].adId:void 0},this[S]=function(e){c=a(e),g=t.getCurrentItemIndex(),T=_t,s()},this[F]=function(n){var r=p.items.length;E=_t;var o=a(n),s=Zn.isTimeSinceLastAdElapsed(c);M=Zn.getAdType(o.data,A,r),s?(m.playedTime&&(m.playedTime=0),ni.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME)===ct&&ni.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,0),_.isMonolithicContent&&(o.data.adBreakType?M=o.data.adBreakType:Mt(d+"Monolithic adBreakType is undefined. Falling back to inferredAdType")),i("isTimeForAnAd")(M,o.data)):(i("updateCurrentItemIndex")(M,o.data),t.onAdPodPlayEnd())},this[C]=function(e){q===_t&&(q=ut,U.classList.remove(bn)),r(e),x=_t,i("videoState")("PLAYING")},this[P]=function(e){r(e),i("videoState")("PLAYING")},this[R]=function(e){r(e),i("videoState")("PAUSED")},this[N]=function(e){r(e),Zn.persistVideoPlayedTime(),i("playheadUpdate")(h)},this[O]=function(e){var n=a(e);g=n.itemIndex?n.itemIndex:0,A&&(t.isInAdBreak()&&this[V](),T=_t,s(),i("resetAdBridge")(),t.isInAdBreak()&&t.onAdPodPlayEnd())},this[w]=function(e){Lt(d+"onUiScreenChange"),i("uiStateChange")(a(e))},this[Ee]=function(){Lt(d+"onPlayerResize"),i("onPlayerResize")()},this[L]=function(e){Lt(d+"onFullScreenChange"),t.isInAdBreak()&&i("uiStateChange")(a(e))},this[X]=function(){i("adClick")()},this[ee]=function(e){y=0,D=0,I=a(e),i("adRequestCompleted")(I)},this[te]=function(){E=ut,K.stop(),i("onAdBreakTimeout")(),i("stopSlot")()},this[J]=function(e){E=ut,K.stop(),i("onAdBridgeMultiLoaded")(e)},this[ge]=function(e){Zt(A)&&Zt(x)&&(x=ut,T=_t,s(),i("resetAdBridge")())},this[b]=function(e){var t=f.segmentsDuration.length;f.isFullEpisode&&f.currentIndex!==t-1?(Lt(d+"Setting the video play status to PAUSED for inbetween segments in FEP. ",f.currentIndex,t),i("videoState")("PAUSED")):(Lt(d+"Setting the video play status to completed. ",f.currentIndex,t),i("videoState")("COMPLETED")),i("closeOverlay")(a(e))},this[Y]=function(){var e=t.getPlayerVolume();m&&(i("slotStarted")(),K.start(),kt(e)||i("setVolume")(e))},this[H]=function(e){y=0,K.stop(),K.reset(),i("slotEnded")(a(e))},this[G]=function(){K.stop(),K.reset(),K.start(),y+=1,i("adPlayStart")()},this[j]=function(){i("adPause")(),K.stop()},this[W]=function(){i("adUnPause")(),K.start()},this[Q]=function(){i("adBridgeReady")()},this[Z]=function(e){var n=a(e);if(n.subType&&n.subType.match(/truex/))switch(n.subType){case"truex_choice_card_start":U.classList.add(bn),q=_t,t.onTrueXChoiceCardStart(n);break;case"truex_interact":t.clearAdPlayFailSafeTimer();break;case"truex_watch":q=ut,U.classList.remove(bn),t.onTrueXChoiceCardEnd(n)}E?i("stopSlot")():i("adRenderer")(n)},this[ce]=function(t){var n=a(t);Gt(n.value)&&ni.setLocalStorage(e.FreewheelVars.VMN_UUID,n.value)},this[k]=function(e){var t=a(e);Lt(d+"volumeChange",t),qt(t.volumeLevel)&&i("setVolume")(t.volumeLevel)},this[se]=function(e){var n=a(e);if(!I||!n.adType)return _t;var i=l(n.adType);n.adType===v.MIDROLL?(t.sendAdPlayRequest(i[D]||{}),D+=1):t.sendAdPlayRequest(i)},this[V]=function(){i("destroy")(),t.clearAdPlayFailSafeTimer(),K.reset(),K.stop()},this[et]=function(){t.onAdSkipped(u.getSkippedAdId(),{level:e.ErrorCode.WARN,message:d+"Receiver ad request timeout"}),i("stopSlot")()},this},e.GoogleIMA=function(t){function n(e){Lt(d+"setSegmentDuration",e);var n=e.items&&e.items.length?e.items.length:1,i=0,a=t.getCuePoints();if(Bt(a))for(var r=0;r<a.length;r++)g[r]=a[r].time;else if(n>0)for(var o=0;n>o;o++)i+=e.items[o].duration,g[o]=i;T=Math.floor(g[g.length-1]),Lt(d+"setSegmentDuration length: "+g.length)}function i(){A.stop();var n=r("getAdPlayheadObj",ut)();if(!(Ft(n.adPlayhead)||kt(n.adPlayhead)||Zt(t.isInAdBreak()))){if(t.isInAdPlay()&&A.getElapsedSeconds()>2&&-1===n.adPlayhead)return Mt(d+"adPlayhead did not update after 2 seconds. Ending this ad pod!"),A.reset(),r(ne)(),t.onAdPodPlayEnd(),void(l instanceof Ii&&e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_FLASH_PLAYBACK}));t.onAdPlayheadUpdate(n),A.start()}}function a(){c=t.getFirstItemData(),u=t.getPlaylistMetadata(),p=u?u.items.length:1,_=c.isPlaylistMode}function r(e,t){return function(n){return n&&n.getData&&(n=n.getData()),t||Lt(d+e),Qt(l[e])&&l[e](n)}}function o(){Gt(s.vpaidVersion)&&r("setVpaidVersion")(s.vpaidVersion),n(u),r("setSegmentDurations")(g)}var s,l,d=it+"GoogleIMA ",c=ct,u=ct,_=_t,p=1,h=_t,g=[],f=ct,E=_t,m=0,T=0,A=new _i({timerFunc:i,interval:100});return this.getAdController=function(){return l},this[Te]=r(Te),this[ve]=r(ve),this[w]=r(w),this[Q]=r(Q),this[x]=r(x),this[U]=r(U),this[y]=r(y),this[X]=r(X),this[B]=r(B),this[ie]=r(ie),this[ae]=r(ae),this[re]=r(re),this[Ie]=r(Ie),this[z]=r(z,ut),this[Ae]=function(){return Lt(d+"onImaJsSdkLoadError"),Qt(l[Ae])&&l[Ae]()},this[j]=function(){A.stop(),r(j)()},this[W]=function(){A.start(),r(W)()},this[V]=function(){A.stop(),A.reset()},this[S]=function(e){return Lt(d+"onPlayerConfigReady"),s=e.getData(),Tn(s)?(Lt(d+"Loading Bento IMAController (AS3)"),l=new Ii(t)):(Lt(d+"Loading Bento IMAController (JS)"),l=new Si(t)),o(),l},this[ge]=function(){o(),r(ge)()},this[L]=function(e){return t.isInAdBreak()?r(L)(e):void 0},this[N]=function(e){var t=e.getData();m=t.fullEpPlayhead,Zn.persistVideoPlayedTime(),r(N)(t)},this[C]=function(e){h=_t,r(C)(e)},this[F]=function(n){var i=Zn.isTimeSinceLastAdElapsed(s),a=T-m;if(Lt(d+"onIsTimeForAnAd hasOnIsTimeForAnAd isAdTime",h,i),E=_t,!i)return t[H](),ut;if(h)t[H]();else{var o=e.FreewheelVars,l=n.getData();if(l=l.data?l.data:{},l.inferredAdType=Zn.getAdType(l,_,p,a),c.isMonolithicContent&&(l.adBreakType?l.inferredAdType=l.adBreakType:Mt(d+"Monolithic adBreakType is undefined. Falling back to inferredAdType"),l.indexPlaying=0,0===l.currentIndex&&Bt(l.cuePointIndex)&&(l.indexPlaying=l.cuePointIndex+1)),l.inferredAdType!==o.POSTROLL&&l.hasContentEnd===ut)return t[H](),_t;h=ut,Lt(d+"onIsTimeForAnAd inferredAdType: "+l.inferredAdType),r(F)(l)}},this[O]=function(e){var n=e.getData();Lt(d+"onPlayIndexChanged",n),h=_t,_&&r("destroyAdManager")(),l.onPlayIndexChanged(n,_),t.isInAdBreak()&&_&&t.onAdPodPlayEnd()},this[v]=function(e){var t=e.getData();Lt(d+"onPlayerFeedLoaded",t),t.player.imaPlaceholder&&r("setImaPlaceholder")(t.player.imaPlaceholder),r(v)(e)},this[Ee]=function(){Tn(s)&&r(Ee)()},this[Y]=function(){A.start()},this[H]=function(){A.stop(),A.reset(),h=_t,r(H)()},this[G]=function(){return A.stop(),A.reset(),A.start(),E?_t:(f=t.getPlayerVolume(),kt(f)||r("setVolume")(f),void r(G)())},this[J]=function(e){A.stop()},this[k]=function(e){var t=e.getData();Vt(t)&&qt(t.volumeLevel)&&r("setVolume")(t.volumeLevel)},this[te]=function(){E=ut,A.stop(),r(te)(),r(ne)()},this[et]=function(){t.onAdSkipped(e.AdVars.NO_AD_ID,{level:e.ErrorCode.WARN,message:d+"Receiver ad request timeout"}),r(ne)()},a(),this},e.HeartBeatMeasure=function(t){function n(){function e(e){Lt(m+"AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())}for(var t=pt,n=Ce.length;n--;)t=Ce.shift(),t.target=ai(t.target,t.inheritsFrom),t.target.onError=e}function i(){var t=window.btg;return Lt(m+"getTrackingServer","Setting tracking server."),t&&t.config&&t.config.Omniture&&t.config.Omniture.enableFirstPartyCookie?(Lt(m+"getTrackingServer","Tracking server by Environment utility based on same-frame CODA configuration."),ae=e.Environment.getCnamedDomain()):ae===ct&&T&&T.omnitureTrackingServer?(Lt(m+"getTrackingServer","Tracking server by player configuration."),ae=T.omnitureTrackingServer):(Lt(m+"getTrackingServer","Tracking server already set or being set by browser message event."),ae)}function a(){Ee.prototype.getVideoInfo=function(){var e=new Q;return e.id=De.playlistId,e.name=De.playlistTitle,e.length=k?B.LIVE_DURATION:Math.round(le),e.streamType=k?B.STREAM_TYPE_LIVE:B.STREAM_TYPE_VOD,e.playerName=T.applicationName,e.playhead=x||0,e}}function r(){Ee.prototype.getAdBreakInfo=function(){var e=new J;return e.position=Pe,e.playerName=T.applicationName,e.startTime=x,e.name=I.adType.toUpperCase(),Le=ut,e}}function o(e){Ee.prototype.getChapterInfo=function(){var n=new $;return n.length=v.duration,n.startTime=x,n.position=L.isMonolithicContent?t.getMonolithicIndex(e)+1:v.itemIndex+1,n}}function s(){Ee.prototype.getAdInfo=function(){var e=new Z;return e.id=I.adId.toString(),e.length=I.creativeDuration,e.position=I.currentAdIndex,e.name=I.creativeId,e}}function l(e,t){return e.prototype[t]=Ae,e}function d(){var e=ct,t={};return t.cookieDomain=Hn(),t.trackingServer=i(),t.idSyncDisable3rdPartySyncing=T.requiresCoppaCompliance,A.setAccount(T.omnitureSuite),A.trackingServer=i(),rn()&&(A.ssl=ut,A.trackingServerSecure=t.trackingServerSecure="s"+A.trackingServer),e=Visitor.getInstance(B.MARKETING_CLOUD_ORG_ID,t),Me=e.getMarketingCloudVisitorID()||"NO_MID",A.visitor=e,A.referrer=ci.lengthLimiter(document.referrer,B.URL_LIMIT,ft),A.pageURL=ci.lengthLimiter(document.URL,B.URL_LIMIT,ft),A.debugTracking=Ot(),A.trackLocal=ut,A.trackingServer&&Gt(T.omnitureVisitorMigrationKey)&&Gt(T.omnitureVisitorMigrationServer)&&(A.visitorMigrationKey=T.omnitureVisitorMigrationKey,A.visitorMigrationServer=T.omnitureVisitorMigrationServer),Gt(T.omnitureCharacterSet)&&(A.charSet=T.omnitureCharacterSet),Gt(T.omnitureDataCenter)&&(A.dc=T.omnitureDataCenter),T.omnitureVisitorNamespace&&(A.visitorNamespace=B.MARKETING_CLOUD_ORG_ID),Gt(ie)&&(A.visitorID=ie),e}function c(t){var n=ADB.va.Heartbeat,i=ADB.va.HeartbeatConfig,a=ADB.va.plugins.videoplayer.VideoPlayerPlugin,r=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,o=ADB.va.plugins.aa.AdobeAnalyticsPlugin,s=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,l=ADB.va.plugins.ah.AdobeHeartbeatPlugin,d=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig,c=new a(new Ee),u=new r;u.debugLogging=_t,c.configure(u);var _=new o(A,new pe),p=new s;p.channel=T.originRef?decodeURIComponent(T.originRef):decodeURIComponent(T.ref),p.debugLogging=_t,_.configure(p);var h=new l(new me),g=new d(B.HEART_BEAT_TRACKING_SERVER,B.MARKETING_CLOUD_ORG_ID);rn()&&(g.ssl=ut),g.ovp=e.Environment.userAgent.browser,g.sdk=e.version,g.debugLogging=_t,h.configure(g);var f=new n(new Te,[c,_,h]),E=new i;return E.debugLogging=_t,f.configure(E),A.pageName=Gt(T.omniturePathContext)?T.omniturePathContext+t:t,{videoPlugin:c,aaPlugin:_}}function u(){ve=d(),Ie=p(),a(),re=c(L.playlistTitle),oe=re.videoPlugin,(se=re.aaPlugin).setVideoMetadata(Ie),oe.trackVideoLoad(),oe.trackPlay(),ce=ut}function _(n){return k?e.AppMeasureVars.LIVE_DURATION:Math.round(De.isMonolithicContent?t.getMonolithicSegDuration():n.duration)}function p(){var t=ct,n=ce?v:De,i=_(n);return t=e.HeartbeatdataVO.fromHeartbeatMetadata(n,T,_t,le,k,ct,i,Me),t=$n.getMappedObject(t,T),t.trackVars=ct,t[B.SEAMLESS_CONTEXT_VARIABLE]=""+ne,t}function h(e){var n={};try{n=JSON.parse(JSON.stringify(e))}catch(e){Mt(m+"Failed to parse data for AAM tracking!")}n.trackVars=ct,n.host=window.location.hostname,t[de](n)}function g(e,t,n){var i,a,r,o,s,l=ct,d="",c=ct,u="isCallSent";if(n=Ft(n)?v.playlistLength+1:n,l=Se[n]=Se[n]||{10:_t,20:_t,75:_t,95:_t,isCallSent:_t},d=Math.round(e/t*100)+"",Jt(l[u]))return _t;switch(s=30>t?5:3,i=[7,7+s],a=[17,17+s],r=[72,72+s],o=[92,92+s],ut){case d>=i[0]&&d<=i[1]:c=10;break;case d>=a[0]&&d<=a[1]:c=20;break;case d>=r[0]&&d<=r[1]:c=75;break;case d>=o[0]&&d<=o[1]:c=95}kt(c)||l[c]!==_t||(l[c]=ut);for(var _ in l)if(_!==u&&!l[_])return _t;return l[u]=ut,ut}function f(e){kt(se)||(v&&v.hasPlaylist&&(se.setChapterMetadata(ct),L.isMonolithicContent?x>=Math.floor(Ne)-1&&oe.trackChapterComplete():U>=v.duration-1&&oe.trackChapterComplete()),se.setVideoMetadata(ct),l(Ee,"getChapterInfo"))}function E(){if(!kt(oe)){var e=v&&v.isPlaylistMode&&v.itemIndex===v.playlistLength-1&&x>=Math.floor(v.duration-1);(x>=le-1||e)&&oe.trackComplete(),oe.trackVideoUnload(),l(Ee,"getVideoInfo"),ce=_t}}var m=it+"HeartbeatMeasure ",T=ct,A=ct,v=ct,I={},L=t.getFirstItemData(),w=t.getPlaylistMetadata(),k=ct,U=0,x=0,F=0,B=e.AppMeasureVars,H=ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,W=ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate,j=ADB.va.HeartbeatDelegate,X=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,Q=ADB.va.plugins.videoplayer.VideoInfo,J=ADB.va.plugins.videoplayer.AdBreakInfo,Z=ADB.va.plugins.videoplayer.AdInfo,$=ADB.va.plugins.videoplayer.ChapterInfo,ee=_t,te=_t,ne=_t,ie=ct,ae=ct,re=ct,oe=ct,se=ct,le=0,ce=_t,ue={},_e=0,pe=function(){},Ee=function(){},me=function(){},Te=function(){},Ae=function(){return ct},ve=ct,Ie=ct,Se=[],ye=t.getCuePoints(),Ce=[{target:pe.prototype,inheritsFrom:H.prototype},{target:Ee.prototype,inheritsFrom:X.prototype},{target:me.prototype,inheritsFrom:W.prototype},{target:Te.prototype,inheritsFrom:j.prototype}],Pe=0,Re=0,De=ct,be=_t,Ne=0,Oe=0,Le=_t,Me="";return this[S]=function(e){var t=ct;Lt(m+"onPlayerConfigReady"),Se=[],ce=_t,T=e.getData(),Pe=0,A=new AppMeasurement,n();try{t=JSON.parse(JSON.stringify(T))}catch(e){return Mt(m+"Failed to validate player config as JSON format, will not modify"),T}switch(T.type){case"partner":t.applicationName=T.partnerPlayerName||B.DEFAULT_PARTNER_PLAYER_NAME,t.omnitureSuite=T.omniturePartnerAccount,t.omniturePathContext=B.SYNDICATED_PATH;break;case"normal":t.applicationName=T.viralPlayerName||B.DEFAULT_VIRAL_PLAYER_NAME,t.omnitureSuite=T.omnitureViralAccount,t.omniturePathContext=B.VIRAL_PATH;break;default:t.applicationName=T.networkPlayerName||B.DEFAULT_NETWORK_PLAYER_NAME,t.omnitureSuite=T.omnitureNetworkAccount,t.omniturePathContext=B.NETWORK_PATH}t.applicationContext=Gt(T.ref)?T.ref:B.NO_APPLICATION_CONTEXT,t.applicationOrigin=Gt(T.applicationOrigin)?T.applicationOrigin:B.NO_APPLICATION_ORIGIN,T=t},this[q]=function(e){I=e.getData(),Lt(m+"onAdMetadata",I)},this[y]=function(e){v=e.getData(),Lt(m+"onMetadata",v)},this[ge]=function(){Se=[],_e=0,Pe=0,ce=_t},this[he]=function(e){return ie=xt(e.getData())&&e.getData().value||ct,Lt(m+"onAdmsVisitorId",ie),ie},this[O]=function(t){var n=t.getData(),i=n&&n.itemIndex?n.itemIndex:0,a=T.feed,r=w.items;return De=w.items[i],De.playlistLength=r.length,De.title=a.title,De.isFullEpisode=ci.isDefined(T.contentType)&&"episode"===T.contentType,De.hasPlaylist=De.playlistLength>1,De.isPlaylistMode=De.isFullEpisode===_t&&De.hasPlaylist,De=e.MetadataVO.fromRSSMetadata(De)},this[N]=function(e){var t=e.getData(),n=v.duration,i=v.index;U=t.playhead,x=t.fullEpPlayhead,k||(L.isMonolithicContent&&(n=Ne,(i=Oe)>0&&Bt(ye[i-1])&&(U-=ye[i-1].time)),g(U,n,i)&&(v.hasPlaylist?ue[B.ACTIVITY_CONTEXT_VARIABLE]=B.SEGMENT_END_ACTIVITY:ue[B.ACTIVITY_CONTEXT_VARIABLE]=B.CLIP_END_ACTIVITY,h(ue)),v.isFullEpisode&&g(x,le)&&(ue[B.ACTIVITY_CONTEXT_VARIABLE]=B.EPISODE_END_ACTIVITY,h(ue)))},this[z]=function(e){var t=e.getData();F=t.adPlayhead},this[C]=function(n){var i=ct,a=ct,r=n.getData();kt(k)&&(k=t.getIsLive()),be=ut,Ie=p(),L.isMonolithicContent&&(Oe=t.getMonolithicIndex(x),Ne=t.getMonolithicSegDuration()),Lt(m+"onPlaystart"),Zt(ce)?u():(oe.trackPlay(),se.setVideoMetadata(Ie)),a=e.HeartbeatdataVO.fromMetadata(v,T,Me),v.hasPlaylist&&(se.setChapterMetadata(Ie),o(r.fullEpPlayhead),oe.trackChapterStart()),Ie[B.SEAMLESS_CONTEXT_VARIABLE]=""+ne,(i=$n.getMappedObject(Ie,T))[B.ACTIVITY_CONTEXT_VARIABLE]===B.FULL_EPISODE_START_ACTIVITY&&_e++,v.hasPlaylist&&_e>1&&(i[B.ACTIVITY_CONTEXT_VARIABLE]=B.SEGMENT_START_ACTIVITY),h(i),ue=$n.getMappedObject(a,T)},this[R]=function(){Lt(m+"onPause"),oe.trackPause()},this[P]=function(e){Lt(m+"onResume"),Ee.prototype.getVideoInfo=function(){var e=new Q;return e.playhead=x,e.resumed=!0,e},ee&&(oe.trackSeekComplete(),ee=_t,Lt(m+"SeekComplete")),te&&(oe.trackBufferComplete(),te=_t,Lt(m+"BufferComplete")),oe.trackPlay()},this[D]=function(e){Lt(m+"SeekStart"),ee=ut,oe.trackSeekStart()},this[fe]=function(e){be&&(Lt(m+"BufferStart"),te=ut,oe.trackBufferStart())},this[b]=function(e){Lt(m+"onPlayEnd"),Re+=1,be=_t,v.isPlaylistMode&&v.playlistLength===Re&&(ue[B.ACTIVITY_CONTEXT_VARIABLE]=B.EPISODE_END_ACTIVITY,h(ue)),f()},this[V]=function(){f(),t.isInAdBreak()&&(l(Ee,"getAdBreakInfo"),l(Ee,"getAdInfo")),E()},this[G]=function(){var t=ct;Lt(m+"onAdPlayStart",I.currentAdIndex),Zt(ce)?u():(oe.trackPlay(),a()),t=e.HeartbeatdataVO.fromHeartbeatMetadata(De,T,ut,le,k,I,_(De),Me),(t=$n.getMappedObject(t,T)).trackVars=ct,Zt(Le)&&r(),kt(se)||(s(),se.setAdMetadata(t),oe.trackAdStart())},this[Y]=function(){Lt(m+"onAdPodPlayStart. Incrementing Ad Pod Start Count"),kt(k)&&(k=t.getIsLive()),Le=_t,Pe+=1},this[K]=function(){Lt(m+"onAdPlayEnd"),se.setAdMetadata(ct),oe.trackAdComplete(),I.currentAdIndex===I.adCount&&(oe.trackPause(),l(Ee,"getAdBreakInfo")),l(Ee,"getAdInfo")},this[M]=function(){E()},this[nt]=function(){ne=ut},De=L,le=L.playlistDuration,this};var mi=function(e){function t(e){if(c=[],u=[],e instanceof Array)for(var t=0,n=e.length;n>t;t++){var i=e[t];typeof i===at&&(!i.hasOwnProperty(s)||i[s]!==1/0&&i[s]!==d?(i.hasOwnProperty(s)&&Gt(i[s])&&i[s].indexOf(d)>-1&&(i[s]=i[s].replace(new RegExp(d+"|\\s+","g"),"")),c.push(i)):u.push(i))}}function n(e){for(var t={},n=0,i=e.length;i>n;n++){var a=e[n];for(var r in a)a.hasOwnProperty(r)&&(t[a.name]=a.value)}return t}function i(t){var i={},a=e.getPlayerConfig(),r=e.getMetadata();t.prop&&t.prop.length>0&&(i.params=n(t.prop)),r.ref=a.ref,Gt(t.url)?(i.url=ci.replaceTokens(t.url,r),Lt(o+"sendBeacon",i),ri.sendImageBeaconRequest(i)):Mt("One of the requests has failed due to the beacon not containing a URL property.")}function a(){if(c.length<=0)return ct;for(var e=0,t=c.length;t>e;e++){var n=c[e];typeof n===at&&(n.hasOwnProperty(s)&&n[s]<=_||n.hasOwnProperty(l)&&n[l]<_)&&(i(n),c[e]=_t)}}function r(){for(var e=0,t=u.length;t>e;e++)i(u[e])}var o=it+"LegacyBeacons ",s="startTime",l="elapsed",d="end",c=[],u=[],_=0;return this[C]=function(){var n=e.getMetadata();Lt(o+"LegacyBeacons onPlayStart"),n&&n.beacons&&t(n.beacons)},this[N]=function(e){_=e.getData().playhead,a()},this[b]=r,this[V]=r,this},Ti=function(t){function n(){Vt(NOLCMB)&&Qt(NOLCMB.ggInitialize)&&Gt(d.nielsenApplicationId)&&!u&&(c=new NOLCMB.ggInitialize({apid:d.nielsenApplicationId,sfcode:d.nielsenSFcode,apn:d.networkPlayerName?d.networkPlayerName:En}),u=typeof c===at&&typeof c.ggPM===rt),Lt(s+"initAppSDK",c,u)}function i(e,t,n){return u?("trackProgress"!==n&&Lt(s+n,e,t),void c.ggPM(e,t)):_t}function a(e){i(Kn.STOP,Math.floor(E),"trackStop")}function r(){i(Kn.END,Math.floor(E),"trackEnd")}function o(e){return g.isFullEpisode?e.getData().fullEpPlayhead:e.getData().playhead}var s=it+"Nielsen ",l=e.ContentVO,d={},c=ct,u=_t,_=ct,p=ct,h=ct,g={},f=0,E=0;return t&&t.getFirstItemData&&(g=t.getFirstItemData(),p=t.getPlaylistMetadata()),this[S]=function(e){d=e.getData(),Lt(s+"onPlayerConfigReady",d),n()},this[ge]=function(e){u=_t,n()},this[C]=function(e){var n=t.getMetadata()||{};h=t.getIsLive(),n.videoType=Kn.CLIP_TYPE,n.nielsenDprEnabled=d.nielsenDprEnabled,Lt(s+"onPlayStart",n),i(Kn.LOAD_CLIP,fi.fromMetadata(n),"trackPlay")},this[P]=o,this[R]=a,this[D]=a,this[fe]=a,this[K]=a,this[V]=function(e){a(e),r()},this[O]=function(e){var t=e.getData();f=t&&t.itemIndex?t.itemIndex:0},this[b]=function(e){a(e),p&&f+1===l.getPlaylistLength(p)&&r()},this[N]=function(e){var t;E=o(e),t=h?Math.floor((new Date).getTime()/1e3):E,i(Kn.PROGRESS,t,"trackProgress")},this[q]=function(t){var n=t.getData(),i={};if(xt(p)&&jt(p.items)){try{i=JSON.parse(JSON.stringify(p.items[n.currentItemIndex]))}catch(e){Lt(s+"onAdMetadata tmpMetadata not successfully parsed from playlistMetadata")}i.adId=n.adId,i.videoType=n.adType&&n.adType.toLowerCase(),i.nielsenDprEnabled=d.nielsenDprEnabled,i.adDuration=Math.floor(n.creativeDuration),i.isFullEpisode=g.isFullEpisode,i.hasPlaylist=g.hasPlaylist,i.playlistTitle=g.playlistTitle,i.title=g.title,i=e.MetadataVO.fromRSSMetadata(i),Lt(s+"onAdMetadata tmpMetadata",i),_=fi.fromMetadata(i)}},this[Y]=function(){E=0},this[G]=function(){i(Kn.LOAD_AD,_,"onAdPlayStart -> trackPlay")},this};e.PlayerReceiver=function(t){var n=ct,i=e.FreewheelVars,a=it+"PlayerReceiver - ";return this.hasPreloadDone=_t,this[q]=function(e){return Lt(a+"PlayerReceiver.onAdMetadata"),Vt(e)&&Vt(e.getData())?n=e.getData():ct},this[z]=function(e){var r=e.getData();return kt(n)||n.creativeDuration<6?this.hasPreloadDone:(this.hasPreloadDone===_t&&n.currentAdIndex===n.adCount&&n.creativeDuration-r.adPlayhead<=5&&n.adType!==i.POSTROLL&&(Lt(a+"CONTENT PRELOADING "),this.hasPreloadDone=ut,t.preloadContent()),this.hasPreloadDone)},this[H]=function(){return this.hasPreloadDone=_t,this.hasPreloadDone},this};var Ai=function(t,n){function i(e,t){return function(){return t||Lt(G+e),ue?Qt(ue[e])&&ue[e].apply(ue,arguments):null}}function a(){Lt(G+"stopCurrentSlot"),i("stopTemporalSlot")(te)}function r(){Lt(G+"setDisplayBaseDimensions"),Vt(ee)&&!kt(ee)&&(ne=ee.offsetWidth,ie=ee.offsetHeight,ae=ee.offsetTop,re=ee.offsetLeft)}function o(e){if(Vt(e))for(var t in e)Ft(e.length)?e.hasOwnProperty(t)&&Gt(t)&&ue.setKeyValue(t,e[t]):ue.setKeyValue(e[t][0],e[t][1])}function s(){if(!mn())return e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_FLASH_PLAYBACK}),void n.onSkipAllAdRequests({errorObj:{code:"FLASH-PLUGIN_DISABLED",level:e.ErrorCode.ERROR,message:"ImaAs3SDK - IMA flag set to indicate no ad playback throughout video."}});if(Lt(G+"playAd"),Y)return ut;if(te=ct,x===H.PREROLL)K.length>0?(te=K.shift().customID,n.onAdPlayRequest({adType:H.PREROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd();else if(x===H.POSTROLL)W.length>0?(te=W.shift().customID,n.onAdPlayRequest({adType:H.POSTROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd();else if(x===H.MIDROLL){var t=g();t?(te=t.customID,n.onAdPlayRequest({adType:H.MIDROLL}),i("playTemporalSlot")(te)):n.onAdPodPlayEnd()}else n.onAdPodPlayEnd()}function l(e){if(Lt(G+"adSlotRequestCompleted",ue),!e.success||!ue)return n.onAdRequestFailed(),n.onAdPodPlayEnd(),_t;for(var t=ue.getTemporalSlots(),i=0,a=t.length;a>i;i++){var r=t[i];switch(r.timePositionClass.toLowerCase()){case F.ADUNIT_PREROLL:K.push(r);break;case F.ADUNIT_MIDROLL:q.push(r);break;case F.ADUNIT_POSTROLL:W.push(r);break;case F.ADUNIT_OVERLAY:j.push(r)}}return X=!0,Q&&(Q=!1,s()),ut}function d(i){Lt(G+"adInstancePlayEvent",i);var a;return kt(F)?a:(Number(i.type)===F.RENDERER_EVENT_IMPRESSION?(a=e.FreewheelAdMetadataVO.fromAdMetadata(i,t),n.onAdMetadata(a),n.onAdPlayStart()):Number(i.type)===F.RENDERER_EVENT_IMPRESSION_END?n.onAdPlayEnd():Number(i.type)===F.RENDERER_EVENT_FAIL&&n.onAdSkipped(i.adId,{level:e.ErrorCode.WARN,message:i.errorMessage}),a)}function c(e,t,n,a){(ue=ue||document.getElementById(le))&&(n=n||0,a=a||0,ue.width=e,ue.height=t,ue.top=n,ue.left=a,(0===e&&0===t||e>0&&t>0)&&i("setVideoDisplaySize")(a,n,e,t,a,n,e,t))}function u(){ue&&ue.style&&(ue.style.visibility="hidden",c(1,1,-3e3,-3e3))}function _(){ue&&ue.style&&(c(ne,ie),ue.style.visibility="visible")}function p(n){var i=ni.getLocalStorage(e.AdVars.VIDEO_PLAYED_TIME),a=t.timeSinceLastAd;return kt(i)||qt(i)||(i=1e3*(parseInt(i,10)+n)),0>=(a=kt(a)||qt(a)?0:parseInt(a,10))||!qt(i)||0===i||i>a?ut:_t}function h(e){if(Lt(G+"preloadSlot"),e&&e>=t.segmentsActualDuration[t.currentIndex]-t.adRenditionVO.preloadAdBeforeTime&&e<t.segmentsActualDuration[t.currentIndex]){if(!p(t.segmentsActualDuration[t.currentIndex]-e))return ut;if(t.currentIndex<t.segmentsActualDuration.length-1&&q&&q.length>0){for(var n=0,i=q.length;i>n;n++)if(q[n]!==_t){Z=_t,ue.preloadSlot(q[n].customID);break}}else W&&W.length>0&&(Z=_t,ue.preloadSlot(W[0].customID))}return ut}function g(){Lt(G+"getMidrolls");for(var e=ct,n=0,i=q.length;i>n;n++)if(q[n]&&t.currentIndex>n){e=q[n],q[n]=!1;break}return e}function f(e){return e?Number(e).toString(16):null}function E(){if(Lt(G+"should init"),ue&&typeof ue.getConstants===rt){Lt(G+"init"),r(),$=_t,z=_t,J=!0,F=ue.getConstants(),ue.setServer(t.adServer),ue.setNetwork(t.networkID),ue.setProfile(t.profileID),ue.registerVideoDisplay(),ue.setVideoDisplaySize(0,0,ne,ie,0,0,ne,ie),ue.setSiteSection(t.siteSectionID),t.isIntl?ue.setVideoAsset(t.assetID,t.duration,t.referrer,!0,t.videoViewRandom,t.networkID,0,H.INTL_DEFAULT_ASSET_ID):ue.setVideoAsset(t.assetID,t.duration,t.referrer,!0,t.videoViewRandom,t.networkID),ue.addFlashEventListener(F.EVENT_REQUEST_COMPLETE,se+".onAdRequestCompleted"),ue.addFlashEventListener(F.EVENT_SLOT_ENDED,se+".onAdPodPlayEnd"),ue.addFlashEventListener(F.EVENT_SLOT_STARTED,se+".onAdPodPlayStart"),ue.addFlashEventListener(F.EVENT_RENDERER,se+".onAdRenderer"),ue.addFlashEventListener(F.EVENT_CUSTOM,se+".onAdRenderer");for(var e=1,i=t.segmentsDuration,a=i.length;a>e;e++)ue.addTemporalSlot("Midroll_"+e,F.ADUNIT_MIDROLL,i[e]);ue.setKeyValue(H.ENTIRE_URL,t.referrer),t.playlistID&&ue.setKeyValue(H.PLAYLIST_KEY,t.playlistID),o(t.tveKeyValues),o(t.hostSellingKeyValues),o(t.fwSegments);for(var s in t.extraFWKeyValues)t.extraFWKeyValues.hasOwnProperty(s)&&ue.setKeyValue(s,t.extraFWKeyValues[s]);ni.setLocalStorage(H.LAST_GUID_PLAYED,t.assetID),Jt(t.bandwidthEnabled)&&(Lt(G+"Bandwith setting to FW Ad request: ",t.adRenditionVO.desiredBitrateValue),ue.setParameter(H.FW_DESIRED_BITRATE_KEY,t.adRenditionVO.desiredBitrateValue,F.PARAMETER_OVERRIDE)),ue.submitRequest(),t.adRequestedData.sdkVersion=f(ue.getSDKVersion()),n.onAdRequested(t.adRequestedData)}else $=ut;return ut}function m(e,n){return Lt(G+"isTimeForAnAd","isFWReady",X),Y=_t,x=e,t.currentIndex=Bt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,X?s():(J||E(),Q=!0),ut}function T(e,n){return x=e,t.currentIndex=Bt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,ut}function A(e){return!t.preloadAdSlotEnabled||Z===_t||Ft(e)?ut:(h(e),ut)}function v(e){var t={PLAYING:"VIDEO_STATUS_PLAYING",PAUSED:"VIDEO_STATUS_PAUSED",COMPLETED:"VIDEO_STATUS_COMPLETED"},n=kt(F)?"":F[t[e]];i("setVideoPlayStatus")(n)}function I(e){return ne=e.width,ie=e.height,ae=e.top,re=e.left,oe=e.active,c(ne,ie),e}function S(){Jn.replaceAdBridgeWithPlaceholderDiv(le),Jn.loadAdBridgeSwf(ee,de,"freewheel")}function y(){Lt(G+"adBridgeReady"),B=ut,ue=document.getElementById(le),E()}function C(){Lt(G+"slotStarted"),r(),_()}function P(t){Lt(G+"slotEnded",t),t&&"slotEnded"===t.type&&ni.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),u(),Z=ut}function R(){n.isInAdBreak()&&(r(),c(ne,ie))}function D(e){return d(e)}function b(){Lt(G+"adPlayStart"),c(ne,ie)}function N(){i("pauseTemporalSlot")(te)}function O(){i("playTemporalSlot")(te)}function L(){return ce.adPlayhead=i("getAdPlayhead",ut)()||-1,ce.adPodPlayhead=i("getAdPodPlayhead",ut)()||-1,ce}function M(e){e*=100,i("setAdVolume")(e)}function w(){}function k(){return a(),ut}function V(){return Y=ut}function U(e){return Y=ut,ue&&ue.style&&(ue.style.display="none"),n.onReportAdError({error:H.FW_AD_BRIDGE_MULTI_LOADED_EVENT,type:"FW_ERROR"}),ut}var x,F=null,B=(t.failSafeTimerDisabled,_t),Y=_t,H=e.FreewheelVars,G=it+"FreewheelControllerAS3 ",K=[],q=[],W=[],j=[],X=_t,z=_t,Q=_t,J=_t,Z=ut,$=_t,ee=ct,te=ct,ne=0,ie=0,ae=0,re=0,oe=_t,se=ct,le=ct,de=n&&n.getPlayerId?n.getPlayerId():ct,ce={},ue=ct;return le=de+e.AdVars.AD_BRIDGE_ID,ee=n.getPlayerContainer(),se=de?"Bento.getPlayer('"+de+"')":"Bento",this.init=E,this.isTimeForAnAd=m,this.updateCurrentItemIndex=T,this.adRequestCompleted=l,this.playheadUpdate=A,this.videoState=v,this.uiStateChange=I,this.resetAdBridge=S,this.adBridgeReady=y,this.slotStarted=C,this.slotEnded=P,this.onPlayerResize=R,this.adRenderer=D,this.adPlayStart=b,this.adPause=N,this.adUnPause=O,this.setVolume=M,this.adClick=w,this.stopSlot=k,this.onAdBreakTimeout=V,this.onAdBridgeMultiLoaded=U,this.closeOverlay=pt,this.playedTime=pt,this.getAdPlayheadObj=L,this},vi=function(t,n){function i(){ye.vpaidHideDisabled!==ut&&(fe=document.getElementById(q.VPAID_CLICK_DIV))&&(fe=typeof fe.length!==dt?fe[0]:fe,fe.style.display="none")}function a(){me.stop();var e=me.getElapsedMilliSeconds();me.reset(),me.start(),1500>e&&e>0||fe&&Qt(fe.click)&&fe.click()}function r(e){if(K=e||K,!j)if(Se&&Se.classList&&Se.classList.add&&Se.appendChild&&Se.classList.add(Nn),K===q.PREROLL)X.length>0?(n.onAdPlayRequest({adType:q.PREROLL}),(he=X.shift()).play()):n.onAdPodPlayEnd();else if(K===q.POSTROLL)Q.length>0?(n.onAdPlayRequest({adType:q.POSTROLL}),(he=Q.shift()).play()):n.onAdPodPlayEnd();else if(K===q.MIDROLL){var t=g();t?(n.onAdPlayRequest({adType:q.MIDROLL}),(he=t).play()):n.onAdPodPlayEnd()}else K===q.OVERLAY?J.length>0&&J.shift().play():n.onAdPodPlayEnd()}function o(e){if(!e.success)return n.onAdRequestFailed(),n.onAdPodPlayEnd(),_t;var t=W.getTemporalSlots();n.onAdRequestCompleted(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];switch(o.getTimePositionClass()){case ie.TIME_POSITION_CLASS_PREROLL:X.push(o);break;case ie.TIME_POSITION_CLASS_MIDROLL:z.push(o);break;case ie.TIME_POSITION_CLASS_POSTROLL:Q.push(o);break;case ie.TIME_POSITION_CLASS_OVERLAY:J.push(o);break;default:Lt("error: invalid case statement")}o.getTimePositionClass()===ct&&o.getTimePosition()>0&&z.push(ct)}return z.length&&z.sort(d),Z=ut,$&&($=_t,r()),ut}function s(e){var t=e.slot.getAdInstances(_t);te=t.length,ae=e.slot.getCustomId(),e.slot.getTimePositionClass()===ie.TIME_POSITION_CLASS_OVERLAY?setTimeout(f,300):n.onAdPodPlayStart()}function l(t){ae=ct,he=ct,ne=1,t.slot.getTimePositionClass()!==ie.TIME_POSITION_CLASS_OVERLAY&&(ni.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),n.onAdPodPlayEnd()),Gt(Ee.getAttribute("src"))&&Ee.setAttribute("src",ht)}function d(e,t){return e===ct?-1:t===ct?1:e.getTimePosition()>t.getTimePosition()?1:(e.getTimePosition(),t.getTimePosition(),-1)}function c(n){var a=e.FreewheelAdMetadataVO.fromAdMetadata(n,t,te,ne++);return(ge=a.isVpaid)&&i(),a}function u(e){var t=e.adInstance.getSlot().getTimePositionClass();return t===ie.TIME_POSITION_CLASS_DISPLAY||t===ie.TIME_POSITION_CLASS_OVERLAY}function _(t){if(Lt(Te+"adEvent.subType = "+t.subType),t.subType===ie.EVENT_ERROR){var i=Te+"Controller ad request timeout";i=t.errorModule&&t.errorInfo?[t.errorModule,t.errorInfo].join(":"):i,n.onAdSkipped(t.adInstance._adId,{level:e.ErrorCode.WARN,message:i})}t.subType===ie.EVENT_AD_PAUSE&&n.onAdPause(),t.subType===ie.EVENT_AD_RESUME&&n.onAdUnPause(),t.subType===ie.EVENT_AD_EXPAND&&Ae.classList.add(bn),t.subType===ie.EVENT_AD_COLLAPSE&&Ae.classList.remove(bn),t.subType===ie.EVENT_AD_MUTE&&ge&&IS_DESKTOP&&(Ie=n.getPlayerVolume()||1,n.getPlayer().volume(0),Ee.muted=ut),t.subType===ie.EVENT_AD_UNMUTE&&ge&&IS_DESKTOP&&(Jt(Ee.muted)&&(Ee.muted=_t),n.getPlayer().volume(Ie))}function p(e){var t;switch(Lt(Te+"adInstancePlayEvent event.type = ",e.type),n.onAdRenderer(e),e.type){case ie.EVENT_AD_IMPRESSION:if(u(e))return;t=c(e.adInstance?e.adInstance:ct),pe=e.adInstance,t.isClickable&&Se.classList.add(wn),n.onAdMetadata(t),n.onAdPlayStart();break;case ie.EVENT_AD_IMPRESSION_END:if(u(e))return;pe=ct,ge=_t,n.onAdPlayEnd(),Ee.setAttribute("src",ht),IS_DESKTOP||W.setAdVolume(1),Se.classList.remove(wn);break;case ie.EVENT_AD_CLICK:n.onAdPause()}}function h(e){var i=_t;if(!n.isInAdBreak()){var a=0;if(J.length>0){var r=0,o=t.segmentsDuration;for(o.length;r<t.currentIndex;r++)a+=o[r]?o[r]:0;i=(a+=Math.floor(de))>=J[0].getTimePosition()}}return i}function g(){for(var e=ct,n=0,i=z.length;i>n;n++)if((z[n]||z[n]===ct)&&t.currentIndex>n){e=z[n],z[n]=_t;break}return e}function f(){ue=document.getElementById("_fw_ad_container_html_"+ae+"_"),_e=xt(ue)&&Qt(ue.getElementsByTagName)?ue.getElementsByTagName("iframe")[0]:ct,ue!==ct&&_e!==ct&&(oe=ce?oe-50:oe,ue.style.height=_e.style.height,ue.style.width=_e.style.width,_e.style.top=In,_e.style.left=In,ue.style.left=(re-_e.offsetWidth)/2+Sn,ue.style.top=oe+se-_e.offsetHeight+Sn,ue.style.position=yn)}function E(e){if(Vt(e)){for(var t in e)Ft(e.length)?e.hasOwnProperty(t)&&Gt(t)&&W.addKeyValue(t,e[t]):W.addKeyValue(e[t][0],e[t][1]);return W}}function m(){for(var e=["EVENT_REQUEST_COMPLETE","EVENT_SLOT_ENDED","EVENT_SLOT_STARTED","EVENT_AD_IMPRESSION","EVENT_AD_IMPRESSION_END","EVENT_AD_CLICK"],t=0,n=e.length;n>t;t++)W.removeEventListener(ie[e[t]])}function T(){ui.generateStyleTag(On),ui.generateStyleTag(Ln),ui.generateStyleTag(Mn),(Se=n.getImaPlaceholder())&&Se.classList&&Se.classList.add&&Se.appendChild&&(Se.classList.add(Nn),Se.appendChild(Ee))}function A(){ee=ut;var i=new ie.AdManager,a=ni.read(q.VMN_UUID_COOKIE),r=t.isIntl?q.URL_INT():q.URL();i.setNetwork(t.networkID),i.setServer(r.replace(/\{0\}/g,t.networkID).replace(/\{1\}/g,t.profileID)),(W=i.newContext()).setParameter(ie.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,_t,ie.PARAMETER_LEVEL_GLOBAL),T(),W.setContentVideoElement(Ee),W.setProfile(t.profileID),W.setSiteSection(t.siteSectionID,t.networkID),t.isIntl?W.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,ct,ct,t.videoViewRandom,ct,q.INTL_DEFAULT_ASSET_ID):W.setVideoAsset(t.assetID,parseInt(t.duration,10),t.networkID,ct,ct,t.videoViewRandom),t.referrer&&W.addKeyValue(q.ENTIRE_URL,t.referrer),t.playlistID&&W.addKeyValue(q.PLAYLIST_KEY,t.playlistID),t.siteSectionParsing&&W.addKeyValue(q.FSS_KEY,q.FSS_VALUE),a=Gt(a)?a:ni.getLocalStorage(q.VMN_UUID),Gt(a)&&(W.addKeyValue(q.FW_CUSTOMER_VISITOR_ID,a),_n?W.addKeyValue(q.FW_DID_IDFA,a):hn&&W.addKeyValue(q.FW_DID_GOOGLE_ADVERTISING_ID,a));for(var d in t.extraFWKeyValues)W.addKeyValue(d,t.extraFWKeyValues[d]);W.setParameter(ie.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,_t,ie.PARAMETER_LEVEL_GLOBAL),W.setParameter(ie.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT,ut,ie.PARAMETER_LEVEL_GLOBAL),W.setParameter(ie.PARAMETER_DISABLE_SAFARI_TRANSPORT,ut,ie.PARAMETER_LEVEL_GLOBAL),W.setParameter(ie.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION,"Desktop"===e.Environment.userAgent.device?ut:_t,ie.PARAMETER_LEVEL_GLOBAL),W.setParameter(ie.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,ye.useQuickTimePlayerOnIphone?ut:_t,ie.PARAMETER_LEVEL_GLOBAL),W.addEventListener(ie.EVENT_REQUEST_COMPLETE,function(e){o(e)}),W.addEventListener(ie.EVENT_SLOT_ENDED,function(e){l(e)}),W.addEventListener(ie.EVENT_SLOT_STARTED,function(e){s(e)}),W.addEventListener(ie.EVENT_AD_IMPRESSION,function(e){p(e)}),W.addEventListener(ie.EVENT_AD_IMPRESSION_END,function(e){p(e)}),W.addEventListener(ie.EVENT_AD_CLICK,function(e){p(e)}),W.addEventListener(ie.EVENT_AD,_);for(var c=1,u=t.segmentsDuration,h=u.length;h>c;c++)W.addTemporalSlot("Midroll_"+c,ie.ADUNIT_MIDROLL,u[c]);W.addKeyValue(q.ENTIRE_URL,t.referrer),t.playlistID&&W.addKeyValue(q.PLAYLIST_KEY,t.playlistID),E(t.tveKeyValues),E(t.hostSellingKeyValues),E(t.fwSegments),ie.setLogLevel(Ot()?ie.LOG_LEVEL_DEBUG:ie.LOG_LEVEL_QUIET),ni.setLocalStorage(q.LAST_GUID_PLAYED,t.assetID),Jt(t.bandwidthEnabled)&&(Lt(Te+"Bandwith setting to FW Ad request: ",t.adRenditionVO.desiredBitrateValue),W.setParameter(ie.PARAMETER_DESIRED_BITRATE,t.adRenditionVO.desiredBitrateValue,ie.PARAMETER_LEVEL_OVERRIDE)),W.submitRequest(6),t.adRequestedData.sdkVersion=ie.version,n.onAdRequested(t.adRequestedData)}function v(e,n){return j=_t,K=e,t.currentIndex=Bt(n.cuePointIndex)?n.cuePointIndex+1:n.currentIndex,Z?r():(ee||A(),$=ut),ut}function I(e,t){return ut}function S(e){return h(e)&&r(q.OVERLAY),ut}function y(e){return re=e.width,oe=e.height,se=e.top,le=e.left,ce=e.active,f(),e}function C(){W.setContentVideoElement(Ee)}function P(){if(ge)a();else if(pe)return pe.getRendererController().processEvent({name:ie.EVENT_AD_CLICK}),ut;return _t}function R(e){var t=ie[{PLAYING:"VIDEO_STATE_PLAYING",PAUSED:"VIDEO_STATE_PAUSED",COMPLETED:"VIDEO_STATE_COMPLETED"}[e]];W.setVideoState(t)}function D(){}function b(){}function N(){}function O(){}function L(){}function M(){Lt(Te+"FWControllerJS.adPause"),Ee&&Ee.pause&&Ee.pause()}function w(){Lt(Te+"FWControllerJS.adUnPause"),Ee&&Ee.play&&Ee.play()}function k(){var e=-1;return pe&&pe.getPlayheadTime&&(e=pe.getPlayheadTime()),e}function V(){var e=-1;if(pe&&pe.getSlot){var t=pe.getSlot();t&&t.getPlayheadTime&&(e=t.getPlayheadTime())}return e}function U(){return ve.adPlayhead=k(),ve.adPodPlayhead=V(),ve}function x(){}function F(e){W.setAdVolume(e)}function B(){if(ne=1,pe&&pe.getSlot){var e=pe.getSlot();e&&e.stop&&e.stop()}else he&&he.stop&&he.stop();return ut}function Y(){return j=ut,ne=1,j}function H(){ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}function G(){H(),me.stop(),me.reset(),m(),B(),W.dispose()}var K,q=e.FreewheelVars,W=(t.failSafeTimerDisabled,ct),j=_t,X=[],z=[],Q=[],J=[],Z=_t,$=_t,ee=_t,te=0,ne=1,ie=tv.freewheel.SDK,ae=ct,re=0,oe=0,se=0,le=0,de=0,ce=_t,ue=ct,_e=ct,pe=ct,he=ct,ge=_t,fe=ct,Ee=n.getPlayerElement(),me=new _i,Te=it+"FreewheelControllerJS ",Ae=ct,ve={},Ie=0,Se=ct,ye=n.getPlayerConfig();return Ae=n.getPlayerContainer(),this.init=A,this.isTimeForAnAd=v,this.updateCurrentItemIndex=I,this.playheadUpdate=S,this.uiStateChange=y,this.adClick=P,this.videoState=R,this.resetAdBridge=D,this.slotStarted=b,this.adPlayStart=N,this.slotEnded=O,this.adRenderer=L,this.adPause=M,this.adUnPause=w,this.getAdPlayhead=k,this.adRequestCompleted=x,this.getAdPodPlayhead=V,this.setVolume=F,this.stopSlot=B,this.onAdBreakTimeout=Y,this.closeOverlay=H,this.destroy=G,this.getAdPlayheadObj=U,this.onPlayerResize=C,this.playedTime=de,this},Ii=function(t){var n,i=it+"IMAControllerAS3 ",a=e.IMAVars,r=ct,o=ct,s={},l=1,d=_t,c=_t,u=_t,_=0,p=[],h=_t,g=_t,f=_t,E=ct,m=ct,T=ct,A=ct,v=ct,I={bitrate:0},S=ct,y=ct,C=ct,P=ct,R=_t,D={};r=t.getPlayer(),o=t.getPlayerContainer(),E=t.getPlayerId(),S=E+e.AdVars.AD_BRIDGE_ID,m=r.config||{},_=t.getCurrentItemIndex(),T=m.embedVars||{},A=t.getFirstItemData(),g=A.isPlaylistMode,C=t.getPlaylistMetadata(),y=new e.ContentVO({length:Math.max(C.items&&C.items.length,1)});var b=function(e,t,a){return(n=N())&&Qt(n[e])?(a||Lt(i+"Invoking adBridge."+e),Ft(t)||kt(t)?n[e]():n[e](t)):void 0},N=function(){return n&&n.nodeName&&n.nodeName.toLowerCase()===at?n:document.getElementById(S)},O=function(){o&&(S=Jn.loadAdBridgeSwf(o,E,"ima")),Lt(i+"cloneAdBridgeSwf adContainerId: "+S)},M=function(){n&&(n.style.visibility="hidden",n.style.pointerEvents="none")},k=function(){(n=N())&&(n.style.visibility="visible",n.style.pointerEvents="auto")},V=function(e){(n=N())&&(k(),n.style.position=yn,n.width=e.width,n.height=e.height,n.style.top=e.top,n.style.left=e.left,b("setDisplaySize",e))},Y=function(){s.videoId=t.getCurrentVideoId();var e=oi.getAdUrl({playerConfig:r.config,contentInfo:s,width:o.offsetWidth,height:o.offsetHeight,currentItemIndex:_});return Lt(i+"adTagUrl http:"+e),e},K=function(a,r){d=_t,a?(Lt(i+"Google IMA Sdk Finished. Suspending all ad breaks"),t.onSkipAllAdRequests({errorObj:{code:"NO-ADS-SUPPORT",level:e.ErrorCode.INFO,message:"ImaAs3SDK - noAdsSupport - IMA flag set to indicate no ad playback throughout video."}})):(Lt(i+"Google IMA Sdk Finished. Invoking onAdPodPlayEnd."),t.onAdPodPlayEnd()),M(),n=ct},q=function(n){return mn()||(e.onPageEvent({events:e.AdVars.BROWSER_DISRUPTS_FLASH_PLAYBACK}),t.onSkipAllAdRequests({errorObj:{code:"FLASH-PLUGIN_DISABLED",level:e.ErrorCode.ERROR,message:"ImaAs3SDK - IMA flag set to indicate no ad playback throughout video."}})),f?_t:(Lt(i+"playAdBreak requesting ad play"),y.shouldPlayAd()?(t.sendAdPlayRequest({}),b("playAdBreak",y.shouldPlayPostRollAd()),ut):_t)},z=function(){J(),d=_t,h=_t,u=_t,c=_t,l=1,k(),y.reset()},J=function(){Jn.replaceAdBridgeWithPlaceholderDiv(S),S=ct,n=ct,O()},Z=function(){var n=ct;return n=Y(),b("initImaSdk",n),Jt(e.Config.bandwidthEnabled)&&(v=e.AdRenditionVO.getAdRenditionVO(o,m))&&v.desiredBitrateValue&&(I.bitrate=v.desiredBitrateValue),b("setAdRenderingSetting",I),V({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:_t}),Gt(T.custParams)&&-1!==T.custParams.search(a.NO_ADS_SUPPORT)?(Lt(i+"onIsTimeForAnAd :","noAdsSupport flag detected, moving immediately to content while making request in background."),K(ut,"noAdsSupport")):void t.onAdRequested({adServer:"doubleclick",profileId:null,networkId:m.imaNetworkID||e.Config.imaNetworkID,siteSectionId:m.adLocationID||e.Config.imaAdUnit||"money_test",preloadAdManifest:!1})};return this[F]=function(e){if(f=_t,h)return K();for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);if(y.setCurrent(e),!e.inferredAdType)return Lt(i+"onIsTimeForAnAd ad type is false. Moving to content."),K();if("midRoll"===e.inferredAdType||"postRoll"===e.inferredAdType){if(Lt(i+"onIsTimeForAnAd attempt to play midroll ads"),!q("postroll"===e.inferredAdType))return K()}else if("preRoll"===e.inferredAdType){if(l>1)return Lt(i+"onIsTimeForAnAd preroll played previously. adCount: "+l),K();if(Lt(i+"onIsTimeForAnAd Play Preroll ads"),u||c){if(!q())return K()}else c=ut}},this[Q]=function(){Lt(i+"onAdBridgeReady",Ot()),Ot()&&(b("enableLog"),b("info")),R=ut,Z()},this[w]=function(e){Lt(i+"onUiStateChange",e)},this[L]=function(e){Lt(i+"onFullScreenChange",e),V(e)},this[Ee]=function(){t.isInAdBreak()&&V({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:_t})},this[j]=function(){Lt(i+"onAdPause"),b("pause")},this[W]=function(){Lt(i+"onAdUnPause",D.adRemainingTime),t.isInAdPlay()&&0===D.adRemainingTime&&t[H](),b("resume")},this[ne]=function(){Lt(i+"onAdStop"),b("stop")},this.setSegmentDurations=function(e){return Lt(i+"setSegmentDurations",e),p=e},this.onPlayStart=function(){Lt(i+"onPlayStart before splicing",p),b("onContentPlayheadUpdate",Math.ceil(p.splice(0,1)))},this[U]=function(a){Lt(i+"onAdError",a),"ADS_MANAGER_LOADED_ERROR"===(P=a).errorType&&t.onAdRequestFailed(),P.vastErrorCode>=300&&P.vastErrorCode<400?(t.isInAdBreak()?t.onAdBreakTerminated({errorObj:{code:P.errorType,level:e.ErrorCode.WARN,message:"ImaAs3SDK - "+P.errorMessage}}):t.onAdBreakSkipped(),M(),n=ct):K()},this[ie]=function(){Lt(i+"onAdManagerDestroyed"),h=ut,K()},this[x]=function(){Lt(i+"onAdsManagerTimeout"),this.onAdBreakTimeout(),K()},this[re]=function(){Lt(i+"onAdBreakNotAvailable"),d=_t,K()},this[B]=function(n){Lt(i+"onAdLoaded adData",n),e.Config.enableMoatTracking&&b("initMoatTracking"),s.adCount=l,s.currentAd=n,t.onAdMetadata(e.AdMetadataVO.fromIMADataAndContentInfo(n,s,g))},this[ae]=function(){Lt(i+"onAdBreakReady"),d=ut},this[G]=function(){Lt(i+"onAdPlayStart adCount:"+l+" currentItemIndex: "+_),l++,d=_t,y.setCurrent({hasBeenViewed:ut}),V({width:o.offsetWidth,height:o.offsetHeight,top:o.offsetTop,left:o.offsetLeft,isFullScreen:_t})},this.onAdPodPlayEnd=function(){M()},this[Ie]=function(){ni.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1)},this.setVpaidVersion=function(e){Lt(i+"setVpaidVersion "+e),b("setVpaidVersion",e)},this[ge]=function(){Lt(i+"onReplay"),z()},this[X]=function(){t.onAdPause()},this[ve]=function(){return Lt(i+"onAdsManagerReady"),t.onAdRequestCompleted(),c&&!q()?K():void(u=ut)},this.onPlayIndexChanged=function(e,t){Lt(i+"onPlayIndexChanged",e,t),_=e.itemIndex,Jt(t)&&(z(),g=ut)},this.setVolume=function(e){Qt(e.toFixed)&&(e=e.toFixed(2)),b("setVolume",e)},this.onAdBreakTimeout=function(){f=ut},this.getAdPlayheadObj=function(){return D.adPlayhead=b("getIMAAdPlayhead",ct,ut),D.adPodPlayhead=b("getIMAAdPodPlayhead",ct,ut),D.adRemainingTime=b("getIMAAdRemainingTime",ct,ut),D},this},Si=function(t){function n(e){l&&He.currentTime&&Math.floor(B[_e]-e)<=Se&&(Lt(f+"AdsManager requesting next ad break "+Se+" seconds ahead of next cue point"),ye=ut,l.requestNextAdBreak())}var i,a,r,o,s,l,d,c,u,_,p,h,g,f=it+"IMAControllerJS ",E=e.ContentVO,m=t.getPlayerContainer()||ct,T=t.getPlayer()||ct,A=t.getPlayerElement(),I=(t.getPlayerId()||ct)+e.AdVars.AD_BRIDGE_ID||ct,S=_t,y=_t,P=_t,R=_t,D=_t,b=_t,M={},k=1,V=-1,U=-1,x=-1,B=[],Y="div[id$='-ima-ad'], div[id$='-ima-ad'] > div:first-child {width: 100% !important; height: 100% !important;}",H="#%ADCONTAINER% iframe[src*='imasdk'] { height:0px; }",G=_t,K=_t,q=_t,z=_t,Q=_t,J=_t,Z=_t,$=0,ee=_t,te=ct,ie=T.config||{},ae=ie.embedVars||{},re=(t.getFirstItemData()||{}).isPlaylistMode||_t,oe=_t,se=ct,le=ct,de=_t,ce=ct,ue=T.learnMorePlaceholder||ct,_e=t.getCurrentItemIndex(),pe={},he=_t,fe={},Ee=3,me=2,ve=[],Ie=ct,Se=10,ye=_t,Ce=[],Pe=function(e,t,n,i){return e.style.position=yn,l&&l.resize(t,n,i?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e},Re=function(){z=_t,y=_t,P=_t,D=_t,K=_t,J=_t,He.setCurrentTime(0),le.reset()},De=function(n){return Lt(f+"onImaSdkFinished Google IMA Sdk Finished. Requesting onAdPodPlayEnd."),we(_t),P=_t,z=_t,Ce=[],k=1,n&&!b?(b=ut,t.onSkipAllAdRequests({errorObj:{code:"NO-ADS-SUPPORT",level:e.ErrorCode.INFO,message:"ImaJsSDK - noAdsSupport - IMA flag set to indicate no ad playback throughout video."}}),Lt(f+"onImaSdkFinished invoking onSkipAllAdRequests."),b):(R?Lt(f+"onImaSdkFinished onAdPodPlayEnd already invoked previously."):(Lt(f+"onImaSdkFinished invoking onAdPodPlayEnd once."),t.onAdPodPlayEnd(),R=ut),ut)},be=function(){return Lt(f+"createAdDisplayContainer"),typeof google!==at||typeof google.ima!==at||typeof google.ima.AdDisplayContainer!==rt?(Lt(f+"createAdDisplayContainer IMA SDK Not Ready"),De()):r||(i=m.offsetWidth,a=m.offsetHeight,kt(te)?(p=document.createElement("div"),p.id=I,p.name=I,p=Pe(p,i,a,!1),ui.generateStyleTag(H.replace(/%ADCONTAINER%/i,p.id)),m.appendChild(p)):p=te,we(ut),ti.isMobile()&&Ge(),G||(ui.generateStyleTag(Y),ui.generateStyleTag(Mn),G=ut),google.ima.settings.setDisableFlashAds(ut),r=new google.ima.AdDisplayContainer(p,A,ue))},Ne=function(){return Lt(f+"createAdsLoader"),typeof google!==at||typeof google.ima!==at||typeof google.ima.AdsLoader!==rt?(Lt(f+"createAdsLoader IMA SDK Not Ready"),De()):s||((s=new google.ima.AdsLoader(r)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Be,!1),s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Ue,!1),s)},Oe=function(){return m?(M.videoId=t.getCurrentVideoId(),u=oi.getAdUrl({playerConfig:T?T.config:ct,contentInfo:M,width:m.offsetWidth,height:m.offsetHeight,currentItemIndex:_e}),Lt(f+"createAdTagUrl",u),u):_t},Le=function(){return Lt(f+"createAdRequest"),Vt(google)&&Vt(google.ima)&&Qt(google.ima.AdsRequest)?(o=new google.ima.AdsRequest,o.adTagUrl=Oe(),o.linearAdSlotWidth=m.offsetWidth,o.linearAdSlotHeight=m.offsetHeight,Vt(s)?(s.getSettings().setAutoPlayAdBreaks(_t),s.requestAds(o)):Lt(f+"createAdRequest adsLoader is not an object"),Gt(ae.custParams)&&-1!==ae.custParams.search(e.IMAVars.NO_ADS_SUPPORT)?(Lt(f+"createAdRequest :","noAdsSupport flag detected, moving immediately to content while making request in background."),De(ut)):(t.onAdRequested({adServer:"doubleclick",profileId:null,networkId:ie.imaNetworkID||e.Config.imaNetworkID,siteSectionId:ie.adLocationID||e.Config.imaAdUnit||"money_test",preloadAdManifest:!1}),o?ut:_t)):(Lt(f+"createAdRequest IMA SDK Not Ready"),De())},Me=function(){return ee?_t:(Lt(f+"playAds",D,P,R,z),R=_t,D?(Lt(f+"playAds this request does not have an ad ready to play. Bail out."),_t):(l&&(!z||q)&&le.shouldPlayAd()&&(J===_t&&(l.init(m.offsetWidth,m.offsetHeight,google.ima.ViewMode.NORMAL),J=ut),z=ut,"postRoll"===se&&s.contentComplete(),Bt(se)&&("preRoll"===se||"postRoll"===se)||P?(Lt(f+"playAds invoking adsManager.start"),t.sendAdPlayRequest({}),we(ut),l.start()):Zt(P)?q=ut:z=_t),z))},we=function(e,t){var n=p;n&&(n.style.display=e?"block":"none",n.style.visibility=t?"visible":"hidden")},ke=function(){var e=l.getRemainingTime(),n=Math.floor(e);e===$||-1===e?Zt(Z)&&(Lt(f+"Ad started buffering"),Z=ut,t.onAdBufferStart()):($=e,Jt(Z)&&(Lt(f+"Ad finished buffering"),Z=_t,t.onAdBufferStop()),n!==x&&(x=n,V++,U++))},Ve=function(n){Lt(f+"onAdEvent",n.type,n);var i={},a={};switch(n.type){case google.ima.AdEvent.Type.LOADED:ie.viewabilityEnabled&&(i={partnerCode:Gt(ie.viewabilityAccountId)?ie.viewabilityAccountId:e.IMAVars.DEFAULT_MOAT_PARTNER_CODE,viewMode:oe?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL},initMoatTracking(l,i,p)),M.adCount=k,M.currentAd=n.getAd(),(a=e.AdMetadataVO.fromIMADataAndContentInfo(n.getAdData(),M,re)).imaMobileWeb=ut,de=a.isVpaid,he=a.isInnovidAd||_t,k++,(de||a.isAdXAd)&&(a.hideAdMessage=ut,a.disableAdGuiOnPlay=ut),IS_DESKTOP||de||(a.customClick=ut,a.isClickable=ut,p.classList.add(wn)),Ce.push(a),Zt(Z)&&(Z=ut,t.onAdBufferStart());break;case google.ima.AdEvent.Type.STARTED:t.onAdMetadata(Ce[0]),Ce.shift(),U=-1,Vt(l)&&Qt(l.getRemainingTime)&&(_=setInterval(ke,500)),we(ut,ut),le.setCurrent({hasBeenViewed:ut}),D=_t,t.onAdPlayStart();break;case google.ima.AdEvent.Type.PAUSED:ie.useQuickTimePlayerOnIphone&&we(_t),t.onAdPause();break;case google.ima.AdEvent.Type.RESUMED:we(ut,ut),t.onAdUnPause();break;case google.ima.AdEvent.Type.CLICK:(IS_DESKTOP||!IS_DESKTOP&&!vn())&&t.onAdPause();break;case google.ima.AdEvent.Type.LOG:var r=n.getAdData(),o="ImaJsSDK - Non-fatal error occurred";r.adError&&(o+=": "+r.adError.getMessage()),t.onAdSkipped(r.adId,{level:e.ErrorCode.INFO,message:o});break;case google.ima.AdEvent.Type.COMPLETE:P=_t,z=_t,t.onAdPlayEnd(),_&&clearInterval(_),p.classList.remove(wn);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:D=ut,De();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:R=_t,De();break;case google.ima.AdEvent.Type.AD_BREAK_READY:P=ut,q&&(Me(),q=_t)}},Ue=function(n){ce={errorType:n.getError().getType(),errorCode:n.getError().getErrorCode(),errorMessage:n.getError().getMessage()},Lt(f+"onAdError",ce,l),q=_t,t.isInAdBreak()?t.onAdBreakTerminated({errorObj:{code:ce.errorType,level:e.ErrorCode.ERROR,message:"ImaJsSDK - "+ce.errorMessage}}):t.onAdBreakSkipped(),Ye()&&(P=_t)},xe=function(){Lt(f+"onContentPauseRequested"),t.onAdPodPlayStart({})},Fe=function(){_&&clearInterval(_),P=_t,ni.setLocalStorage(e.AdVars.VIDEO_PLAYED_TIME,1),De()},Be=function(n){Lt(f+"onAdsManagerLoaded"),t.onAdRequestCompleted(),y=_t;var i=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED];if(d=new google.ima.AdsRenderingSettings,d.enablePreloading=ut,Jt(e.Config.bandwidthEnabled)?(c=e.AdRenditionVO.getAdRenditionVO(m,ie),Se=c.preloadAdBeforeTime,Lt(f+"Bandwidth setting to IMA Ad Manager and ad preload interval: ",c.desiredBitrateValue,Se),c&&c.desiredBitrateValue&&c.desiredBitrateValue>0&&(d.bitrate=c.desiredBitrateValue),l=n.getAdsManager(He,d)):l=n.getAdsManager(He),kt(l))t.onAdRequestFailed(),we(_t);else{l.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,Ue),l.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,xe),l.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,Fe);for(var a=0,r=i.length;r>a;a++)l.addEventListener(i[a],Ve,_t,this);Lt(f+"onAdsManagerLoaded initing adsManager",m);try{Lt(f+"onAdsManagerLoaded",q),q?(q=_t,Me()||De()):De(),y=ut}catch(e){Lt(f+"adError",e)}}},Ye=function(){return Vt(l)&&Qt(l.destroy)?(l.destroy(),y=_t,Ke(null)&&qe(),ut):_t},He=function(){return this.currentTime=0,{currentTime:this.currentTime,setCurrentTime:function(e){this.currentTime=e}}}(),Ge=function(){g=We.bind(this),h=je.bind(this),p.addEventListener("touchstart",h),p.addEventListener("touchmove",g)},Ke=function(e){if(kt(e)||Ft(e))return Ie;if(null===Ie)if(ve.length>=Ee){for(var t=ve[0],n=1;Ee>n;n++){if(t!==ve[n])return Ie=_t;t=ve[n]}ve=[],Ie=ut}else ve.push(Math.round(document.body.scrollTop));return Ie},qe=function(){xt(p)&&(p.removeEventListener("touchmove",g),p.removeEventListener("touchstart",h))},We=function(e){Ke(e)===ut?Xe(e):Ie===_t&&qe()},je=function(e){fe=e.changedTouches[0],ve=[]},Xe=function(e){var t=e.changedTouches[0];if(qt(fe.pageY)&&ve.length>me){ve=ve.sort();var n=fe.pageY-ve[me-1],i=document.body.scrollTop+n;window.scrollTo(0,i),ve=[]}else qt(t.pageY)&&ve.push(t.pageY)},ze=function(){return p},Qe=function(){le=new E({length:E.getPlaylistLength(t.getPlaylistMetadata())}),Re(),Oe()};return this[Te]=function(){Lt(f+"onImaJsSdkLoaded",A&&Q===_t),S=ut,A&&Q===_t&&(Q=ut,be(),Ne(),Le())},this[Ae]=function(){return Lt(f+"onImaJsSdkLoadError"),b=ut,ut},this[C]=function(){Lt(f+"onPlayStart segmentDurations",B),ye=_t},this[N]=function(e){var t=e.fullEpPlayhead;He.setCurrentTime(Math.ceil(t)),ye||n(t)},this[v]=function(e){Lt(f+"onPlayerFeedLoaded",e),window.google&&window.google.ima&&(S=ut),S&&Q===_t&&(Q=ut,be(),Ne(),Le())},this[O]=function(e,t){return Lt(f+"onPlayIndexChanged",e,t),_e=e.itemIndex,Jt(t)?(Re(),void(b||Le())):void He.setCurrentTime(Math.ceil(B[_e-1]))},this[w]=function(e){return Lt(f+"onUiStateChange",e),ut},this[L]=function(e){return Lt(f+"onFullScreenChange",e),i=e.width,a=e.height,oe=e.isFullScreen,Pe(p,e.width,e.height,e.isFullScreen)},this[F]=function(e){r&&r.initialize(),ee=_t,se=e.inferredAdType,Lt(f+"onIsTimeForAnAd",y,P,R),R=_t,le.setCurrent(e);for(var t in e)e.hasOwnProperty(t)&&(M[t]=e[t]);return y||"preRoll"!==se?(Lt(f+"onIsTimeForAnAd attempt to play ads"),Me()?void 0:De()):(q=ut,_t)},this[X]=function(){IS_DESKTOP&&l&&Qt(l.pause)&&l.pause()},this.setVolume=function(e){IS_DESKTOP&&l&&Qt(l.setVolume)&&(Qt(e.toFixed)&&(e=e.toFixed(2)),l.setVolume(e))},this[j]=function(){l&&Qt(l.pause)&&l.pause()},this[W]=function(){l&&Qt(l.resume)&&l.resume()},this[ne]=function(){l&&Qt(l.stop)&&l.stop()},this.setSegmentDurations=function(e){return B=e},this[ge]=function(){return Lt(f+"onReplay"),Re(),Ye(),Le(),P===_t&&K===_t},this.onAdRemainingTime=ke,this.onAdsManagerLoaded=Be,this.onAdBreakTimeout=function(){return ee=ut},this.onAdPodPlayEnd=function(){R||(we(_t),z=_t,P=_t,R=ut)},this.playAds=Me,this.createAdDisplayContainer=be,this.onImaSdkFinished=De,this.onAdEvent=Ve,this.destroyAdManager=Ye,this.getAdContainer=ze,this.hasAdScrollOverride=Ke,this.setImaPlaceholder=function(e){return te=e,te.id=I,te},this.getAdPlayheadObj=function(){return pe.adPlayhead=U,pe.adPodPlayhead=V,pe.adRemainingTime=x,pe},Qe(),this};e=ai(e,function(){function t(e,t,n){return Lt(it+"addToQueue hasConfig: "+D+" event ",e),Jt(n)?R.addPriority({event:e,data:t}):R.add({event:e,data:t}),D&&(R.stop(),R.start()),R.count()}function n(e){M.push({callbackObject:e.callbackObject,callback:e.callback,data:e.data})}function i(){"loading"!==Gn()?a():document.addEventListener("DOMContentLoaded",a)}function a(){if(!w){var e=ct;if(w=ut,M.length>0)for(;e=M.shift();)r(e.callback,e.callbackObject,e.data)}}function r(t,n,i){n=n||e,Qt(t)&&t.call(n,i)}function o(e){return y.addReceiver(O[e])}function s(e){y.removeReceiver(O[e]),delete O[e]}function l(e,t){if(Ut(b))return k.push({event:e,data:t});for(var n in b)b[n][e](t),S({event:e,data:t})}function d(){return w?void(Tn()&&Zt(N)&&(Lt(it+"onContentLoaded invoking adBridgeLoader.loadAdBridgeSwf"),Jn.preloadAdBridgeSwf(),N=ut)):n({callbackObject:null,callback:d})}function c(){var e=arguments[0],t=[],n=this;if(Qt(n[e])){for(var i=1;i<arguments.length;i++)t.push(arguments[i]);Lt(it+"Running command: "+e+" with args: ",t),n[e].apply(null,t)}}function p(e){var t=Object.keys(O),n=ct;if(!Qt(e))return _t;for(;n=t.shift();)e(n)}function h(){return w?Jt(e.Config.sourcePointEnabled)?Qt(window.initSourcePointLibrary)&&!xt(window._sp_)&&window.initSourcePointLibrary()||ut:void 0:n({callbackObject:null,callback:h})}function v(e){return w?_t:(n(e),ut)}function S(e){var t=window.EdgePlayer;t&&t.getPlayers&&Object.keys(b).length<t.getPlayers().length&&V.push(e)}var y=ct,C=pt,P="adsvr",R=ct,D=_t,b={},N=_t,O={demdex:ct,omnitureReceiver:ct,megabeaconReceiver:ct,comScoreReceiver:ct,tveReceiver:ct,sourcePointReceiver:ct,legacyAdapter:ct,dfpReceiver:ct},L={fw:{freewheelEnabled:ut,imaEnabled:_t},ima:{freewheelEnabled:_t,imaEnabled:ut}},M=[],w=_t,k=[],V=[];return{onConfig:function(n){return xt(n)?(e.Config=e.Config||{},e.Config=ai(n,e.Config),p(s),h(),e.Config.legacySupportEnabled&&(O.legacyAdapter=new u),e.Config.pageAdsEnabled&&(O.dfpReceiver=new f),e.Config.pageHeaderBiddingEnabled&&(O.headerBiddingReceiver=new E),e.Config.omnitureEnabled&&(window.addAppMeasurementLibrary(),O.omnitureReceiver=new T),e.Config.demdexEnabled&&(O.demdex=new e.Demdex),e.Config.megabeaconEnabled&&(O.megabeaconReceiver=new m),e.Config.comScoreEnabled&&(O.comScoreReceiver=new g),e.Config.tveReportingEnabled&&(O.tveReceiver=new _),e.Config.sourcePointEnabled&&(O.sourcePointReceiver=new A),p(o),t(I,e.Config,ut)):_t},setCustomReportingNamespace:function(e){return w?Gt(e)?t(we,{namespace:e}):_t:n({callback:this.setCustomReportingNamespace,data:e})},onSearch:function(i){return w?e.Config&&e.Config.unReleasedFeatureEnabled?t(Ne,i):_t:n({callback:this.onSearch,data:i})},onSearchConversion:function(i){return w?e.Config&&e.Config.unReleasedFeatureEnabled?t(Le,i):_t:n({callback:this.onSearchConversion,data:i})},sendMegabeaconData:function(e){return w?xt(e)&&xt(O.megabeaconReceiver)?xt(e.data)?t(Ve,e):(wt(it+" Malformed Object. Expecting data property in callObject"),_t):_t:n({callback:this.sendMegabeaconData,data:e})},onAdBlocking:function(){return w?(l("onAdBlocking",ut),t(Oe)):n({callback:this.onAdBlocking})},getAdBlockingStatus:function(e){if(!w)return n({callback:this.sendMegabeaconData,data:e});var t=O.sourcePointReceiver;return xt(t)&&Qt(t.getAdBlockingStatus)&&t.getAdBlockingStatus(e)||_t},onNewPage:function(e){return w?(pi.resetAuthRequirements(),t(Re,e)):n({callback:this.onNewPage,data:e})},onPageEvent:function(e){return w?t(le,e):n({callback:this.onPageEvent,data:e})},onCustomData:function(e,i){if(!w)return n({callback:this.onCustomData,data:[e,i]});var a="";if(xt(e)){for(a in e)e.hasOwnProperty(a)&&t(ke,{name:a,value:e[a]});return ut}return Gt(e)?(t(ke,{name:e,value:i}),ut):_t},placeAds:function(e){return w?kt(O.dfpReceiver)?_t:O.dfpReceiver[Je](e):n({callback:this.placeAds,data:e})},destroyAds:function(e){return w?kt(O.dfpReceiver)?_t:O.dfpReceiver[$e](e):n({callback:this.destroyAds,data:e})},refreshAds:function(e){return w?kt(O.dfpReceiver)?_t:O.dfpReceiver[Ze](e):n({callback:this.refreshAds,data:e})},onTVEWelcome:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Ue):_t:n({callback:this.onTVEWelcome})},onTVEError:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(xe,i):_t:n({callback:this.onTVEError,data:i})},onTVEStatusCheck:function(i){return w?(i=i||{},pi.storeMostRecentStatus(i),Jt(e.Config&&e.Config.tveReportingEnabled)?t(Fe,i):_t):n({callback:this.onTVEStatusCheck,data:i})},onTVELogin:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Be,i):_t:n({callback:this.onTVELogin,data:i})},onTVEProviderSelected:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Ye,i):_t:n({callback:this.onTVEProviderSelected,data:i})},onTVEProviderNotListed:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(He):_t:n({callback:this.onTVEProviderNotListed})},onTVEElvisSelected:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Ge,i):_t:n({callback:this.onTVEElvisSelected,data:i})},onTVEElvisLogin:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Ke,i):_t:n({callback:this.onTVEElvisLogin,data:i})},onTVEProviderDisplay:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Qe):_t:n({callback:this.onTVEProviderDisplay})},onTVEElvisExpired:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(qe,i):_t:n({callback:this.onTVEElvisExpired})},onTVEElvisLocked:function(i){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(We,i):_t:n({callback:this.onTVEElvisLocked})},onTVEFreePreviewSelected:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(je):_t:n({callback:this.onTVEFreePreviewSelected})},onTVEFreePreviewLogin:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(Xe):_t:n({callback:this.onTVEFreePreviewLogin})},onTVEFreePreviewExpired:function(){return w?Jt(e.Config&&e.Config.tveReportingEnabled)?t(ze):_t:n({callback:this.onTVEFreePreviewExpired})},onQueueItem:function(e){C(e.event,e.data)},onWindowResize:function(){return w?t(me,ct):n({callback:this.onWindowResize})},onAAMDataReady:function(e){return w?t(de,e):n({callback:this.onAAMDataReady,data:e})},onImaJsSdkLoaded:function(){return w?(l("onImaJsSdkLoaded"),t(Te,ct)):n({callbackObject:this,callback:this.onImaJsSdkLoaded})},onImaJsSdkLoadError:function(){return w?(l("onImaJsSdkLoadError"),t(Ae,ct)):n({callback:this.onImaJsSdkLoadError,data:ct})},onAdClick:function(e){return w?Bt(window.EdgePlayer)&&Bt(window.EdgePlayer.Events)&&Bt(window.EdgePlayer.Events.BENTO_AD_CLICKED)?void 0:Bt(e)?void this.getPlayer(e).onAdClick():void l("onAdClick"):n({callback:this.onAdClick,data:e})},getMarketingCloudVisitorID:function(){return w?Visitor.getInstance(e.AppMeasureVars.MARKETING_CLOUD_ORG_ID).getMarketingCloudVisitorID():n({callback:this.getMarketingCloudVisitorID})},getPlayers:function(){return w?b:n({callback:this.getPlayers})},getPlayer:function(e){if(!w)return n({callback:this.getPlayer,data:e});for(var t in b)if(t===e)return b[t];return ct},addPlayer:function(t){var i=ct;if(!w)return n({callback:this.addPlayer,data:t});for(b[t.id]||(b[t.id]=new e.BentoApi(t)),V.length>0&&(k=V,V=[]);i=k.shift();)b[t.id][i.event](i.data),S(i);return b[t.id]},removePlayer:function(e){return w?(b[e.id]&&delete b[e.id],void(b[e]&&delete b[e])):n({callback:this.removePlayer,data:e})},removeAllPlayers:function(){if(b)for(var e in b)b[e]=ct;b={},M=[],k=[],V=[]},onAdBlockingStatusUpdate:function(e){return t(tt,{status:e})},onPlayerSeamlessMode:function(){return t(nt,ct)},setVideoAdMessage:function(e,t){var i={};return w?Gt(e)?(i.adMessage=e,i.persist=t,l("onSetCustomAdMessage",i)):void Mt(it+"The custom ad message passed is empty or is not a string"):n({callback:this.setVideoAdMessage,data:e})},setVideoAdCountMessage:function(e){return w?Gt(e)?l("onSetCustomAdCountMessage",e):void Mt(it+"The custom ad count message passed is empty or is not a string"):n({callback:this.setVideoAdCountMessage,data:e})},init:function(){w=_t,i();var t=ci.queryStringToObject()[P];if(y=new e.Notifier,C=y.notify,d(),y.clearReceivers(),Lt(it+"init() Starts Up"),e.addEventToWaitQueueIfDomNotLoaded=v,R=di({delegate:this}),e.Config&&(D=ut,this.onConfig(L[t]||{})),this.onNewPage(),w?e.MessageUtil.postMessage(e.MessageVars.ADMS_TRACKING_SERVER,""):n({callback:function(){e.MessageUtil.postMessage(e.MessageVars.ADMS_TRACKING_SERVER,"")}}),e.exec&&e.exec.q){var a=this;Lt(it+e.exec.q.length+" items in command queue"),e.exec.q.forEach(function(e){c.apply(a,e)}),e.exec=c}return this}}}().init()),hi.init()}(Bento);
		
	